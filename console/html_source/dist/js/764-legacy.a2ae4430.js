"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[764],{73586:function(e,t,n){var r,a,o,s,i,l,d,u,c,p,m,f,h,$,v,g,b,S,w,D,F,_,L,y,R,P,N,M,Z,x,C,A,k,q,I,z,E,T,O,G,B,V,W,j,Y,K=n(2106),U=n(4969),J={queryExpandAll:(0,U.ZP)(r||(r=(0,K.Z)(["\n    query {\n      clusterView {\n        name\n        volumeCount\n      }\n      dataNodeList {\n        addr\n      }\n      metaNodeList {\n        addr\n      }\n      masterList {\n        addr\n      }\n    }\n  "]))),rdmaNodeView:(0,U.ZP)(a||(a=(0,K.Z)(["\n    query rdmaNodeView($cluster: String, $addr: String) {\n      rdmaNodeView(cluster: $cluster, addr: $addr) {\n        nodeRDMAConf {\n          slaveName\n          fWVersion\n          driverVersion\n          vendor\n        }\n        nodeRDMAStatus {\n          pod\n          clusterRDMAEnable\n          clusterRDMASend\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n          enableSend\n          nodeCount\n          permanentClosedCount\n        }\n        connNodes {\n          addr\n          enableConn\n          permanentClosed\n          errConnCount\n          reConnTime\n        }\n      }\n    }\n  "]))),flashGroupList:(0,U.ZP)(o||(o=(0,K.Z)(["\n    query flashGroupList($cluster: String, $page: int32, $pageSize: int32) {\n      flashGroupList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          iD\n          status\n          flashNodeCount\n        }\n      }\n    }\n  "]))),getFlashGroup:(0,U.ZP)(s||(s=(0,K.Z)(["\n    query getFlashGroup($cluster: String, $iD: int32) {\n      getFlashGroup(cluster: $cluster, iD: $iD) {\n        host\n        zone {\n          zoneName\n          nodeNumber\n        }\n      }\n    }\n  "]))),zoneList:(0,U.ZP)(i||(i=(0,K.Z)(["\n    query zoneList($cluster: String) {\n      zoneList(cluster: $cluster)\n    }\n  "]))),createFlashGroup:(0,U.ZP)(l||(l=(0,K.Z)(["\n    mutation createFlashGroup($cluster: String) {\n      createFlashGroup(cluster: $cluster) {\n        iD\n      }\n    }\n  "]))),updateFlashGroup:(0,U.ZP)(d||(d=(0,K.Z)(["\n    mutation updateFlashGroup(\n      $cluster: String\n      $iD: int32\n      $isActive: bool\n      $isAddNode: bool\n      $level: int\n      $addr: String\n      $zone: String\n      $count: int\n    ) {\n      updateFlashGroup(\n        cluster: $cluster\n        iD: $iD\n        isActive: $isActive\n        isAddNode: $isAddNode\n        level: $level\n        addr: $addr\n        zone: $zone\n        count: $count\n      )\n    }\n  "]))),removeFlashGroup:(0,U.ZP)(u||(u=(0,K.Z)(["\n    mutation removeFlashGroup($cluster: String, $iD: int32) {\n      removeFlashGroup(cluster: $cluster, iD: $iD)\n    }\n  "]))),masterList:(0,U.ZP)(c||(c=(0,K.Z)(["\n    query masterList($cluster: String, $page: int32, $pageSize: int32) {\n      masterList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          addr\n          isLeader\n        }\n      }\n    }\n  "]))),metaNodeList:(0,U.ZP)(p||(p=(0,K.Z)(["\n    query metaNodeList(\n      $cluster: String\n      $zone: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaNodeList(\n        cluster: $cluster\n        zone: $zone\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          used\n          usageRatio\n          partitionCount\n          reportTime\n          isRDMA\n          pod\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n        }\n      }\n    }\n  "]))),dataNodeList:(0,U.ZP)(m||(m=(0,K.Z)(["\n    query dataNodeList(\n      $cluster: String\n      $zone: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataNodeList(\n        cluster: $cluster\n        zone: $zone\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          disk\n          used\n          usageRatio\n          partitionCount\n          reportTime\n          isRDMA\n          pod\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n        }\n      }\n    }\n  "]))),flashNodeList:(0,U.ZP)(f||(f=(0,K.Z)(["\n    query flashNodeList(\n      $cluster: String\n      $addr: String\n      $fgID: int\n      $page: int32\n      $pageSize: int32\n    ) {\n      flashNodeList(\n        cluster: $cluster\n        addr: $addr\n        fgID: $fgID\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          reportTime\n          flashGroupID\n          isEnable\n          nodeLimit\n          hitRate\n          evicts\n        }\n      }\n    }\n  "]))),queryMetaList:(0,U.ZP)(h||(h=(0,K.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        metaNodes {\n          addr # serverIP\n          status # status\n          iD\n          toMetaNode {\n            zoneName # idc\n            metaPartitionCount\n            used\n            total\n            ratio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),queryDataList:(0,U.ZP)($||($=(0,K.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),updateFlashNode:(0,U.ZP)(v||(v=(0,K.Z)(["\n    mutation updateFlashNode($cluster: String, $addr: String, $isEnable: bool) {\n      updateFlashNode(cluster: $cluster, addr: $addr, isEnable: $isEnable)\n    }\n  "]))),setConnEnable:(0,U.ZP)(g||(g=(0,K.Z)(["\n    mutation setConnEnable(\n      $cluster: String\n      $addr: String\n      $addrList: list\n      $enableConn: bool\n      $reason: String\n      $nodeType: String\n    ) {\n      setConnEnable(\n        cluster: $cluster\n        addr: $addr\n        addrList: $addrList\n        reason: $reason\n        enableConn: $enableConn\n        nodeType: $nodeType\n      )\n    }\n  "]))),setSendEnable:(0,U.ZP)(b||(b=(0,K.Z)(["\n    mutation setSendEnable(\n      $cluster: String\n      $addr: String\n      $enableSend: bool\n      $reason: String\n      $nodeType: String\n    ) {\n      setSendEnable(\n        cluster: $cluster\n        addr: $addr\n        reason: $reason\n        enableSend: $enableSend\n        nodeType: $nodeType\n      )\n    }\n  "]))),setNodeRdmaConf:(0,U.ZP)(S||(S=(0,K.Z)(["\n    mutation setNodeRdmaConf(\n      $cluster: String\n      $addr: String\n      $pod: String\n      $nodeRDMAService: bool\n      $nodeRDMASend: bool\n      $nodeRDMARecv: bool\n      $nodeType: String\n    ) {\n      setNodeRdmaConf(\n        cluster: $cluster\n        addr: $addr\n        pod: $pod\n        nodeRDMAService: $nodeRDMAService\n        nodeRDMASend: $nodeRDMASend\n        nodeRDMARecv: $nodeRDMARecv\n        nodeType: $nodeType\n      )\n    }\n  "]))),setPingSortFlashNode:(0,U.ZP)(w||(w=(0,K.Z)(["\n    mutation setPingSortFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setPingSortFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setStackReadFlashNode:(0,U.ZP)(D||(D=(0,K.Z)(["\n    mutation setStackReadFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setStackReadFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setTimeoutFlashNode:(0,U.ZP)(F||(F=(0,K.Z)(["\n    mutation setTimeoutFlashNode(\n      $cluster: String\n      $addr: String\n      $timeoutMs: int\n    ) {\n      setTimeoutFlashNode(cluster: $cluster, addr: $addr, timeoutMs: $timeoutMs)\n    }\n  "]))),evictCacheFlashNode:(0,U.ZP)(_||(_=(0,K.Z)(["\n    mutation evictCacheFlashNode(\n      $cluster: String\n      $addr: String\n      $level: int\n      $volume: String\n      $inode: int\n    ) {\n      evictCacheFlashNode(\n        cluster: $cluster\n        addr: $addr\n        level: $level\n        volume: $volume\n        inode: $inode\n      )\n    }\n  "]))),decommissionMetaNode:(0,U.ZP)(L||(L=(0,K.Z)(["\n    mutation decommissionMetaNode($cluster: String, $addr: String) {\n      decommissionMetaNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionFlashNode:(0,U.ZP)(y||(y=(0,K.Z)(["\n    mutation decommissionFlashNode($cluster: String, $addr: String) {\n      decommissionFlashNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataNode:(0,U.ZP)(R||(R=(0,K.Z)(["\n    mutation decommissionDataNode($cluster: String, $addr: String) {\n      decommissionDataNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDisk:(0,U.ZP)(P||(P=(0,K.Z)(["\n    mutation decommissionDisk(\n      $cluster: String\n      $addr: String\n      $diskPath: String\n    ) {\n      decommissionDisk(cluster: $cluster, addr: $addr, diskPath: $diskPath) {\n        code\n        message\n      }\n    }\n  "]))),decommissionMetaPartition:(0,U.ZP)(N||(N=(0,K.Z)(["\n    mutation decommissionMetaPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataPartition:(0,U.ZP)(M||(M=(0,K.Z)(["\n    mutation decommissionDataPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionDataPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),promoteMetaLearner:(0,U.ZP)(Z||(Z=(0,K.Z)(["\n    mutation promoteMetaLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteMetaLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteMetaReplica:(0,U.ZP)(x||(x=(0,K.Z)(["\n    mutation deleteMetaReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteMetaReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteDataReplica:(0,U.ZP)(C||(C=(0,K.Z)(["\n    mutation deleteDataReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteDataReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),promoteDataLearner:(0,U.ZP)(A||(A=(0,K.Z)(["\n    mutation promoteDataLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteDataLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),addMetaReplica:(0,U.ZP)(k||(k=(0,K.Z)(["\n    mutation addMetaReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n    ) {\n      addMetaReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataReplica:(0,U.ZP)(q||(q=(0,K.Z)(["\n    mutation addDataReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $replicaType: int32\n    ) {\n      addDataReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        replicaType: $replicaType\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addMetaLearner:(0,U.ZP)(I||(I=(0,K.Z)(["\n    mutation addMetaLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addMetaLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataLearner:(0,U.ZP)(z||(z=(0,K.Z)(["\n    mutation addDataLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addDataLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadMetaPartition:(0,U.ZP)(E||(E=(0,K.Z)(["\n    mutation reloadMetaPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadDataPartition:(0,U.ZP)(T||(T=(0,K.Z)(["\n    mutation reloadDataPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadDataPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),resetMetaPartition:(0,U.ZP)(O||(O=(0,K.Z)(["\n    mutation resetMetaPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetMetaPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),resetDataPartition:(0,U.ZP)(G||(G=(0,K.Z)(["\n    mutation resetDataPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetDataPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),dataPartitionList:(0,U.ZP)(B||(B=(0,K.Z)(["\n    query dataPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            zone\n            isLeader\n            isLearner\n            fileCount\n            total\n            needCompare\n            used\n            mType\n            diskPath\n          }\n          volName\n          extentCount\n          inodeCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),metaPartitionList:(0,U.ZP)(V||(V=(0,K.Z)(["\n    query metaPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            isLeader\n            isLearner\n            storeMode\n            isRecover\n            applyId\n            reportTime\n          }\n          volName\n          start\n          end\n          inodeCount\n          dentryCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),dataNodeGet:(0,U.ZP)(W||(W=(0,K.Z)(["\n    query DataNodeGet($cluster: String, $addr: String) {\n      dataNodeGet(cluster: $cluster, addr: $addr) {\n        dataPartitionReports {\n          diskPath\n          extentCount\n          isLeader\n          needCompare\n          partitionID\n          partitionStatus\n          total\n          used\n          volName\n        }\n      }\n    }\n  "]))),metaNodeGet:(0,U.ZP)(j||(j=(0,K.Z)(["\n    query MetaNodeGet($cluster: String, $addr: String) {\n      metaNodeGet(cluster: $cluster, addr: $addr) {\n        metaPartitionInfos {\n          end\n          isLeader\n          maxInodeID\n          partitionID\n          start\n          status\n          volName\n        }\n      }\n    }\n  "]))),queryServerList:(0,U.ZP)(Y||(Y=(0,K.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n          }\n        }\n      }\n    }\n  "])))};t.Z=J},85353:function(e,t,n){n.d(t,{BU:function(){return i},LR:function(){return l},Ox:function(){return r},mr:function(){return a}});n(52003),n(68518),n(64043),n(13440),n(12826),n(57267),n(97389);function r(){if(0===arguments.length)return null;for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e}function a(e,t){if(0===e)return"0 ns";if(e>6e7){var n=["min","h"],r=6e7,a=parseInt(e/r),o=a>60?1:0;return t?a+" "+n[o]:a}var s=["ns","μs","ms","s"],i=1e3,l=Math.floor(Math.log(e)/Math.log(i)),d=parseInt(e/Math.pow(i,l));return t?d+" "+s[l]:d}var o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=["iB","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];function i(e,t){if(0===e)return"0 Bytes";var n=2===t?s:o,r=2===t?1024:1e3,a=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,a)).toFixed(3))+" "+n[a]}function l(e){return 1==e?"ReadOnly":2==e?"ReadWrite":"Unavailable"}},88148:function(e,t,n){n.d(t,{Z:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"添加副本",visible:e.showAddSplit,width:"40%"},on:{"update:visible":function(t){e.showAddSplit=t}}},[t("el-form",{ref:"addForm",staticClass:"normalForm",attrs:{model:e.addForm,rules:e.addRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.addForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addForm.addr,callback:function(t){e.$set(e.addForm,"addr",t)},expression:"addForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"存储类型：","label-width":"80px"}},[t("el-radio-group",{model:{value:e.addForm.storeMode,callback:function(t){e.$set(e.addForm,"storeMode",t)},expression:"addForm.storeMode"}},[t("el-radio",{attrs:{label:0}},[e._v("default")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("Mem")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("Rocks")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleAdd()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.validAdd()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"分片下线",visible:e.showSplitOff,width:"40%"},on:{"update:visible":function(t){e.showSplitOff=t}}},[t("el-form",{ref:"splitForm",staticClass:"normalForm",attrs:{model:e.splitForm,rules:e.splitRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.splitForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.splitForm.addr,callback:function(t){e.$set(e.splitForm,"addr",t)},expression:"splitForm.addr"}},e._l(e.info.addrList,(function(e){return t("el-option",{key:e.addr,attrs:{label:e.addr,value:e.addr}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"目标地址：",prop:"destAddr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"205px"},attrs:{placeholder:"请输入目标地址"},model:{value:e.splitForm.destAddr,callback:function(t){e.$set(e.splitForm,"destAddr",t)},expression:"splitForm.destAddr"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleOffSplit()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.validSplit()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"重置分片",visible:e.showSplitReset,width:"40%"},on:{"update:visible":function(t){e.showSplitReset=t}}},[t("el-form",{ref:"resetForm",staticClass:"normalForm",attrs:{model:e.resetForm,rules:e.resetRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.resetForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",prop:"addrs","label-width":"80px"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.resetForm.addrs,callback:function(t){e.$set(e.resetForm,"addrs",t)},expression:"resetForm.addrs"}},e._l(e.info.addrList,(function(e){return t("el-option",{key:e.addr,attrs:{label:e.addr,value:e.addr}})})),1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleReset()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary",loading:e.resetLoad},on:{click:function(t){return e.doResetValid()}}},[e._v("确定")])],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}})],1)},a=[],o=(n(79288),n(78985)),s=n(73586),i={name:"nodeFunction",components:{password:o.Z},props:{row:{type:Object},type:{type:String,default:""}},data:function(){return{resetLoad:!1,showAddSplit:!1,addForm:{iD:void 0,addr:void 0,storeMode:0},addRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},showSplitReset:!1,resetForm:{iD:void 0,addrs:void 0},resetRules:{},showSplitOff:!1,splitForm:{iD:void 0,addr:void 0,volName:void 0,destAddr:void 0},splitRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},info:{addrList:[],diskList:[],addr:void 0}}},methods:{addSplit:function(){var e=this;this.$nextTick((function(){e.addForm.iD=e.row.iD})),this.showAddSplit=!0},cancleAdd:function(){this.$refs.addForm.resetFields(),this.showAddSplit=!1},validAdd:function(){var e=this;this.$refs.addForm.validate((function(t){t&&e.$refs["password"].showPassWord()}))},submitAdd:function(){var e=this,t=Object.assign(this.addForm,{cluster:this.$route.query.clusterName});this.$refs.addForm.validate((function(n){n&&e.apollo.mutation(e.url.consoleCluster,s.Z.addMetaReplica,t).then((function(t){200===t.code?(e.$message.success("操作成功！"),e.showAddSplit=!1,e.showFollows=!1):e.$message.error(t)}))}))},validSplit:function(){var e=this;this.$refs.splitForm.validate((function(t){t&&e.$refs["password"].showPassWord()}))},cancleOffSplit:function(){this.$refs.splitForm.resetFields(),this.showSplitOff=!1},offSplit:function(e){var t=this;this.showSplitOff=!0,this.$nextTick((function(){t.info.addrList=t.row.replicas,t.splitForm.iD=Number(t.row.partitionID),t.splitForm.volName=t.row.volName}))},showReset:function(){var e=this;this.showSplitReset=!0,this.$nextTick((function(){e.info.addrList=e.row.replicas,e.resetForm.iD=Number(e.row.partitionID)}))},cancleReset:function(){this.$refs.resetForm.resetFields(),this.showSplitReset=!1},validPassWord:function(){"reset"==this.type&&this.doReset(),"off"==this.type&&this.doOffSplit(),"add"==this.type&&this.submitAdd()},doOffSplit:function(){var e=this,t=Object.assign(this.splitForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,s.Z.decommissionMetaPartition,t).then((function(t){t.data?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showSplitOff=!1):e.$message.error(t)}))},doReset:function(){var e=this;this.resetLoad=!0;var t=Object.assign(this.resetForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,s.Z.resetMetaPartition,t).then((function(t){200===t.code?(e.$message.success("操作成功！"),e.showSplitReset=!1,e.$emit("refresh")):e.$message.error(t),e.resetLoad=!1}))},doResetValid:function(){this.$refs["password"].showPassWord()}},mounted:function(){}},l=i,d=n(1001),u=(0,d.Z)(l,r,a,!1,null,null,null),c=u.exports},5764:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"alarm"},[t("div",{staticStyle:{padding:"20px"}},[t("div",{staticStyle:{float:"left","padding-top":"1px"}},[t("crumb",{attrs:{crumbItem:e.crumbItem,crumbInfo:e.addr}})],1),e._v(" "),t("div",{staticClass:"fr mb20"},[t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入分片ID"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v(e._s(e.$t("chubaoFS.tools.Search")))])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"partitionID",label:"分片ID",fixed:"left",width:"65"}}),e._v(" "),t("el-table-column",{attrs:{prop:"replicas",label:"副本数",width:"70"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",[e._v("\n              "+e._s(n.row.replicas.length)+"\n            ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"volName",label:"卷名",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"start",label:"start",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"end",label:"end",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"inodeCount",label:"inode数",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dentryCount",label:"dentry数",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"maxExistIno",label:"maxIno",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isRecover",label:"isRecover",width:"80"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",[e._v(e._s(n.row.isRecover))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"140"}}),e._v(" "),t("el-table-column",{attrs:{prop:"lastLoadTime",label:"最近加载",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(n){return t("span",{staticClass:"active"},[t("span",{staticClass:"active",on:{click:function(t){return e.follows(n.row)}}},[e._v("副本")]),e._v("\n            ｜\n            "),t("span",{staticClass:"active",on:{click:function(t){return e.offSplit(n.row)}}},[e._v("下线")]),e._v("\n            ｜\n            "),t("span",{staticClass:"active",on:{click:function(t){return e.splitLoad(n.row)}}},[e._v("加载")]),e._v("\n            ｜\n            "),t("span",{staticClass:"active",on:{click:function(t){return e.showReset(n.row)}}},[e._v("重置")])])}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"分片下线",visible:e.showSplitOff,width:"40%"},on:{"update:visible":function(t){e.showSplitOff=t}}},[t("el-form",{ref:"splitForm",staticClass:"normalForm",attrs:{model:e.splitForm,rules:e.splitRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.splitForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.splitForm.addr,callback:function(t){e.$set(e.splitForm,"addr",t)},expression:"splitForm.addr"}},e._l(e.info.addrList,(function(e){return t("el-option",{key:e.addr,attrs:{label:e.addr,value:e.addr}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"目标地址：",prop:"destAddr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"205px"},attrs:{placeholder:"请输入目标地址"},model:{value:e.splitForm.destAddr,callback:function(t){e.$set(e.splitForm,"destAddr",t)},expression:"splitForm.destAddr"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleOffSplit()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doOffSplit()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"分片加载",visible:e.showSplitLoad,width:"40%"},on:{"update:visible":function(t){e.showSplitLoad=t}}},[t("el-form",{ref:"loadForm",staticClass:"normalForm",attrs:{model:e.loadForm,rules:e.loadRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.loadForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.loadForm.addr,callback:function(t){e.$set(e.loadForm,"addr",t)},expression:"loadForm.addr"}},e._l(e.info.addrList,(function(e){return t("el-option",{key:e.addr,attrs:{label:e.addr,value:e.addr}})})),1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleLoad()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doLoad()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"重置分片",visible:e.showSplitReset,width:"40%"},on:{"update:visible":function(t){e.showSplitReset=t}}},[t("el-form",{ref:"form",staticClass:"normalForm",attrs:{model:e.resetForm,rules:e.resetRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.resetForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",prop:"addrs","label-width":"80px"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.resetForm.addrs,callback:function(t){e.$set(e.resetForm,"addrs",t)},expression:"resetForm.addrs"}},e._l(e.info.addrList,(function(e){return t("el-option",{key:e.addr,attrs:{label:e.addr,value:e.addr}})})),1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleReset()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doReset()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"副本",visible:e.showFollows,width:"80%"},on:{"update:visible":function(t){e.showFollows=t}}},[t("div",{staticClass:"right pb20"},[t("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.addSplit()}}},[e._v("添加副本")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addLearner()}}},[e._v("添加Leaner")])],1),e._v(" "),t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.followList}},[t("el-table-column",{attrs:{prop:"addr",label:"地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isLeader",label:"isLeader"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",[e._v(e._s(n.row.isLeader))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"isLearner",label:"isLearner"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",[e._v(e._s(n.row.isLearner))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"storeMode",label:"存储类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isRecover",label:"isRecover"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",[e._v(e._s(n.row.isRecover))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"applyId",label:"applyId"}}),e._v(" "),t("el-table-column",{attrs:{prop:"reportTime",label:"汇报时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(n){return t("span",{staticClass:"active"},[t("span",{staticClass:"active",on:{click:function(t){return e.delFollow(n.row)}}},[e._v("删除副本")]),e._v("\n            ｜\n            "),t("span",{staticClass:"active",on:{click:function(t){return e.upradeLearner(n.row)}}},[e._v("提升learner")])])}}])})],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleFollow()}}},[e._v("关闭")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加Learner",visible:e.showAddLearner,width:"40%"},on:{"update:visible":function(t){e.showAddLearner=t}}},[t("el-form",{ref:"addLearnerForm",staticClass:"normalForm",attrs:{model:e.addLearnerForm,rules:e.learnerRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.addLearnerForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addLearnerForm.addr,callback:function(t){e.$set(e.addLearnerForm,"addr",t)},expression:"addLearnerForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"存储类型：","label-width":"80px"}},[t("el-radio-group",{model:{value:e.addLearnerForm.storeMode,callback:function(t){e.$set(e.addLearnerForm,"storeMode",t)},expression:"addLearnerForm.storeMode"}},[t("el-radio",{attrs:{label:0}},[e._v("default")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("Mem")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("Rocks")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"自动提升：",prop:"autoPromote","label-width":"80px"}},[t("el-switch",{model:{value:e.addLearnerForm.autoPromote,callback:function(t){e.$set(e.addLearnerForm,"autoPromote",t)},expression:"addLearnerForm.autoPromote"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"阈值：",prop:"threshold","label-width":"80px"}},[t("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:100},model:{value:e.addLearnerForm.threshold,callback:function(t){e.$set(e.addLearnerForm,"threshold",t)},expression:"addLearnerForm.threshold"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleAddLearner()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddLearner()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加副本",visible:e.showAddSplit,width:"40%"},on:{"update:visible":function(t){e.showAddSplit=t}}},[t("el-form",{ref:"addForm",staticClass:"normalForm",attrs:{model:e.addForm,rules:e.addRules}},[t("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[t("span",[e._v(e._s(e.addForm.iD))])]),e._v(" "),t("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addForm.addr,callback:function(t){e.$set(e.addForm,"addr",t)},expression:"addForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"存储类型：","label-width":"80px"}},[t("el-radio-group",{model:{value:e.addForm.storeMode,callback:function(t){e.$set(e.addForm,"storeMode",t)},expression:"addForm.storeMode"}},[t("el-radio",{attrs:{label:0}},[e._v("default")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("Mem")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("Rocks")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleAdd()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAdd()}}},[e._v("确定")])],1)],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}}),e._v(" "),t("meta-function",{ref:"metaFunction",attrs:{row:e.row,type:e.type},on:{refresh:e.queryList}})],1)},a=[],o=(n(79288),n(70560),n(73586)),s=(n(85353),n(78985)),i=n(88148),l={name:"metanodeSplit",components:{password:s.Z,metaFunction:i.Z},data:function(){return{type:"",row:{},crumbItem:[],showAddLearner:!1,addLearnerForm:{iD:void 0,addr:void 0,storeMode:0,autoPromote:!1,threshold:90},learnerRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},showAddSplit:!1,addForm:{iD:void 0,addr:void 0,storeMode:0},addRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},addr:"",partitionID:null,showFollows:!1,followList:[],showSplitReset:!1,resetForm:{iD:void 0,addrs:void 0},resetRules:{},showSplitLoad:!1,loadForm:{iD:void 0,addr:void 0,volName:void 0},loadRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},showSplitOff:!1,splitForm:{iD:void 0,addr:void 0,volName:void 0,destAddr:void 0},splitRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},info:{addrList:[],diskList:[],addr:void 0},rules:{},resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{submitAddLearner:function(){var e=this,t=Object.assign(this.addLearnerForm,{cluster:this.$route.query.clusterName});this.$refs.addLearnerForm.validate((function(n){n&&e.apollo.mutation(e.url.consoleCluster,o.Z.addMetaLearner,t).then((function(t){0===t.data.addMetaLearner.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showAddLearner=!1,e.showFollows=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))}))},addLearner:function(){this.addLearnerForm.iD=this.partitionID,this.showAddLearner=!0},cancleAddLearner:function(){this.$refs.form.resetFields(),this.showAddLearner=!1},addSplit:function(){this.type="add",this.row={iD:this.partitionID},this.$refs.metaFunction.addSplit()},cancleAdd:function(){this.$refs.form.resetFields(),this.showAddSplit=!1},submitAdd:function(){var e=this,t=Object.assign(this.addForm,{cluster:this.$route.query.clusterName});this.$refs.addForm.validate((function(n){n&&e.apollo.mutation(e.url.consoleCluster,o.Z.addMetaReplica,t).then((function(t){0===t.data.addMetaReplica.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showAddSplit=!1,e.showFollows=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))}))},delFollow:function(e){this.row=e,this.$refs["password"].showPassWord()},doDelFollow:function(){var e=this,t={cluster:this.$route.query.clusterName,iD:this.partitionID,addr:this.row.addr};this.apollo.mutation(this.url.consoleCluster,o.Z.deleteMetaReplica,t).then((function(t){0===t.data.deleteMetaReplica.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showFollows=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))},upradeLearner:function(e){var t=this,n={iD:this.partitionID,addr:e.addr,cluster:this.$route.query.clusterName};this.$confirm("确定提升Learner?","提升Learner",{confirmButtonText:this.$t("chubaoFS.tools.Yes"),cancelButtonText:this.$t("chubaoFS.tools.No"),type:"warning"}).then((function(){t.apollo.mutation(t.url.consoleCluster,o.Z.promoteMetaLearner,n).then((function(e){0===e.data.promoteMetaLearner.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showFollows=!1,t.queryList()):t.$message.error(t.$t("chubaoFS.message.Error"))}))})).catch((function(){}))},follows:function(e){this.partitionID=e.partitionID,this.showFollows=!0,this.followList=e.replicas},cancleFollow:function(){this.showFollows=!1},offSplit:function(e){this.type="off",this.row=e,this.$refs.metaFunction.offSplit()},validPassWord:function(){var e=this;if(this.showFollows)this.doDelFollow();else{var t=Object.assign(this.splitForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,o.Z.decommissionMetaPartition,t).then((function(t){t.data?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showSplitOff=!1,e.queryList()):e.$message.error(t)}))}},doOffSplit:function(){var e=this;this.$refs.splitForm.validate((function(t){t&&e.$refs["password"].showPassWord()}))},cancleOffSplit:function(){this.$refs.splitForm.resetFields(),this.showSplitOff=!1},doLoad:function(){var e=this;this.$refs.loadForm.validate((function(t){if(t){var n=Object.assign(e.loadForm,{cluster:e.$route.query.clusterName});e.apollo.mutation(e.url.consoleCluster,o.Z.reloadMetaPartition,n).then((function(t){0===t.data.reloadMetaPartition.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showSplitLoad=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))}}))},splitLoad:function(e){this.showSplitLoad=!0,this.info.addrList=e.replicas,this.loadForm.iD=Number(e.partitionID),this.loadForm.volName=e.volName},cancleLoad:function(){this.$refs.form.resetFields(),this.showSplitLoad=!1},showReset:function(e){this.type="reset",this.row=e,this.$refs.metaFunction.showReset()},cancleReset:function(){this.$refs.form.resetFields(),this.showSplitReset=!1},doReset:function(){var e=this,t=Object.assign(this.resetForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,o.Z.resetMetaPartition,t).then((function(t){0===t.data.resetMetaPartition.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showSplitReset=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))},handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this;this.resData.loading=!0;var t={iD:this.searchVal&&""!=this.searchVal?Number(this.searchVal):null,cluster:this.$route.query.clusterName,addr:this.addr,page:this.resData.page.pageNo,pageSize:this.resData.page.pageSize};this.apollo.query(this.url.consoleCluster,o.Z.metaPartitionList,t).then((function(t){if(e.resData.loading=!1,t&&t.data){var n=t.data.metaPartitionList;e.resData.resLists=n.data||[],e.resData.page.totalRecord=n.total}})).catch((function(t){e.resData.loading=!1,e.resData.list=[],console.log(t)}))}},mounted:function(){var e=this.$route.query;this.addr=e.addr,this.queryList();var t={path:"/cluster/serverList",query:{type:"Matanode"},title:"集群拓扑"};this.crumbItem.push(t)}},d=l,u=n(1001),c=(0,u.Z)(d,r,a,!1,null,"4a470d7a",null),p=c.exports},27017:function(e,t,n){var r=n(68844),a=n(90690),o=Math.floor,s=r("".charAt),i=r("".replace),l=r("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,c,p){var m=n+e.length,f=r.length,h=u;return void 0!==c&&(c=a(c),h=d),i(p,h,(function(a,i){var d;switch(s(i,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,m);case"<":d=c[l(i,1,-1)];break;default:var u=+i;if(0===u)return a;if(u>f){var p=o(u/10);return 0===p?a:p<=f?void 0===r[p-1]?s(i,1):r[p-1]+s(i,1):a}d=r[u-1]}return void 0===d?"":d}))}},91245:function(e,t,n){var r=n(48999),a=n(6648),o=n(44201),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===a(e))}},63477:function(e,t,n){var r=n(22615),a=n(36812),o=n(23622),s=n(69633),i=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in i||a(e,"flags")||!o(i,e)?t:r(s,e)}},90534:function(e,t,n){var r=n(68700),a=n(34327),o=n(74684),s=RangeError;e.exports=function(e){var t=a(o(this)),n="",i=r(e);if(i<0||i===1/0)throw new s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},97389:function(e,t,n){var r=n(79989),a=n(68844),o=n(68700),s=n(23648),i=n(90534),l=n(3689),d=RangeError,u=String,c=Math.floor,p=a(i),m=a("".slice),f=a(1..toFixed),h=function(e,t,n){return 0===t?n:t%2===1?h(e,t-1,n*e):h(e*e,t/2,n)},$=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var r=-1,a=n;while(++r<6)a+=t*e[r],e[r]=a%1e7,a=c(a/1e7)},g=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=c(r/t),r=r%t*1e7},b=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=u(e[t]);n=""===n?r:n+p("0",7-r.length)+r}return n},S=l((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!l((function(){f({})}));r({target:"Number",proto:!0,forced:S},{toFixed:function(e){var t,n,r,a,i=s(this),l=o(e),c=[0,0,0,0,0,0],f="",S="0";if(l<0||l>20)throw new d("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return u(i);if(i<0&&(f="-",i=-i),i>1e-21)if(t=$(i*h(2,69,1))-69,n=t<0?i*h(2,-t,1):i/h(2,t,1),n*=4503599627370496,t=52-t,t>0){v(c,0,n),r=l;while(r>=7)v(c,1e7,0),r-=7;v(c,h(10,r,1),0),r=t-1;while(r>=23)g(c,1<<23),r-=23;g(c,1<<r),v(c,1,1),g(c,2),S=b(c)}else v(c,0,n),v(c,1<<-t,0),S=b(c)+p("0",l);return l>0?(a=S.length,S=f+(a<=l?"0."+p("0",l-a)+S:m(S,0,a-l)+"."+m(S,a-l))):S=f+S,S}})},52003:function(e,t,n){var r=n(67697),a=n(19037),o=n(68844),s=n(35266),i=n(33457),l=n(75773),d=n(72741).f,u=n(23622),c=n(91245),p=n(34327),m=n(63477),f=n(87901),h=n(38055),$=n(11880),v=n(3689),g=n(36812),b=n(618).enforce,S=n(14241),w=n(44201),D=n(62100),F=n(26738),_=w("match"),L=a.RegExp,y=L.prototype,R=a.SyntaxError,P=o(y.exec),N=o("".charAt),M=o("".replace),Z=o("".indexOf),x=o("".slice),C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,A=/a/g,k=/a/g,q=new L(A)!==A,I=f.MISSED_STICKY,z=f.UNSUPPORTED_Y,E=r&&(!q||I||D||F||v((function(){return k[_]=!1,L(A)!==A||L(k)===k||"/a/i"!==String(L(A,"i"))}))),T=function(e){for(var t,n=e.length,r=0,a="",o=!1;r<=n;r++)t=N(e,r),"\\"!==t?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),a+=t):a+="[\\s\\S]":a+=t+N(e,++r);return a},O=function(e){for(var t,n=e.length,r=0,a="",o=[],s={},i=!1,l=!1,d=0,u="";r<=n;r++){if(t=N(e,r),"\\"===t)t+=N(e,++r);else if("]"===t)i=!1;else if(!i)switch(!0){case"["===t:i=!0;break;case"("===t:P(C,x(e,r+1))&&(r+=2,l=!0),a+=t,d++;continue;case">"===t&&l:if(""===u||g(s,u))throw new R("Invalid capture group name");s[u]=!0,o[o.length]=[u,d],l=!1,u="";continue}l?u+=t:a+=t}return[a,o]};if(s("RegExp",E)){for(var G=function(e,t){var n,r,a,o,s,d,f=u(y,this),h=c(e),$=void 0===t,v=[],g=e;if(!f&&h&&$&&e.constructor===G)return e;if((h||u(y,e))&&(e=e.source,$&&(t=m(g))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),g=e,D&&"dotAll"in A&&(r=!!t&&Z(t,"s")>-1,r&&(t=M(t,/s/g,""))),n=t,I&&"sticky"in A&&(a=!!t&&Z(t,"y")>-1,a&&z&&(t=M(t,/y/g,""))),F&&(o=O(e),e=o[0],v=o[1]),s=i(L(e,t),f?this:y,G),(r||a||v.length)&&(d=b(s),r&&(d.dotAll=!0,d.raw=G(T(e),n)),a&&(d.sticky=!0),v.length&&(d.groups=v)),e!==g)try{l(s,"source",""===g?"(?:)":g)}catch(S){}return s},B=d(L),V=0;B.length>V;)h(G,L,B[V++]);y.constructor=G,G.prototype=y,$(a,"RegExp",G,{constructor:!0})}S("RegExp")},68518:function(e,t,n){var r=n(67697),a=n(62100),o=n(6648),s=n(62148),i=n(618).get,l=RegExp.prototype,d=TypeError;r&&a&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!i(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},13440:function(e,t,n){var r=n(67697),a=n(87901).MISSED_STICKY,o=n(6648),s=n(62148),i=n(618).get,l=RegExp.prototype,d=TypeError;r&&a&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!i(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},12826:function(e,t,n){var r=n(41236).PROPER,a=n(11880),o=n(85027),s=n(34327),i=n(3689),l=n(63477),d="toString",u=RegExp.prototype,c=u[d],p=i((function(){return"/a/b"!==c.call({source:"a",flags:"b"})})),m=r&&c.name!==d;(p||m)&&a(RegExp.prototype,d,(function(){var e=o(this),t=s(e.source),n=s(l(e));return"/"+t+"/"+n}),{unsafe:!0})},57267:function(e,t,n){var r=n(61735),a=n(22615),o=n(68844),s=n(65773),i=n(3689),l=n(85027),d=n(69985),u=n(981),c=n(68700),p=n(43126),m=n(34327),f=n(74684),h=n(71514),$=n(54849),v=n(27017),g=n(66100),b=n(44201),S=b("replace"),w=Math.max,D=Math.min,F=o([].concat),_=o([].push),L=o("".indexOf),y=o("".slice),R=function(e){return void 0===e?e:String(e)},P=function(){return"$0"==="a".replace(/./,"$0")}(),N=function(){return!!/./[S]&&""===/./[S]("a","$0")}(),M=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=N?"$":"$0";return[function(e,n){var r=f(this),o=u(e)?void 0:$(e,S);return o?a(o,e,r,n):a(t,m(r),e,n)},function(e,a){var s=l(this),i=m(e);if("string"==typeof a&&-1===L(a,o)&&-1===L(a,"$<")){var u=n(t,s,i,a);if(u.done)return u.value}var f=d(a);f||(a=m(a));var $,b=s.global;b&&($=s.unicode,s.lastIndex=0);var S,P=[];while(1){if(S=g(s,i),null===S)break;if(_(P,S),!b)break;var N=m(S[0]);""===N&&(s.lastIndex=h(i,p(s.lastIndex),$))}for(var M="",Z=0,x=0;x<P.length;x++){S=P[x];for(var C,A=m(S[0]),k=w(D(c(S.index),i.length),0),q=[],I=1;I<S.length;I++)_(q,R(S[I]));var z=S.groups;if(f){var E=F([A],q,k,i);void 0!==z&&_(E,z),C=m(r(a,void 0,E))}else C=v(A,i,k,q,z,a);k>=Z&&(M+=y(i,Z,k)+C,Z=k+A.length)}return M+y(i,Z)}]}),!M||!P||N)}}]);