"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[252],{77823:function(e,t,a){var n,i,o,s,r,l,u,c,m,h,p,d,g,v,f,$,b,S,A=a(2106),F=a(4969),D={getUserInfo:(0,F.ZP)(n||(n=(0,A.Z)(["\n    query getUserInfo($userID: String) {\n      getUserInfo(userID: $userID) {\n        access_key\n        secret_key\n      }\n    }\n  "]))),getKeys:(0,F.ZP)(i||(i=(0,A.Z)(["\n    query getKeys($cluster: String, $userID: String, $name: String) {\n      getKeys(cluster: $cluster, userID: $userID, name: $name) {\n        access_key\n        secret_key\n      }\n    }\n  "]))),volDataPartitions:(0,F.ZP)(o||(o=(0,A.Z)(["\n    query volDataPartitions(\n      $cluster: String\n      $volume: String\n      $page: int\n      $pageSize: int\n    ) {\n      volDataPartitions(\n        cluster: $cluster\n        volume: $volume\n        page: $page\n        pageSize: $pageSize\n      ) {\n        data {\n          partitionID\n          replicaNum\n          status\n          leader\n          ecMigrateStatus\n          isRecover\n          hosts {\n            addr\n          }\n        }\n        total\n      }\n    }\n  "]))),volMetaPartitions:(0,F.ZP)(s||(s=(0,A.Z)(["\n    query volMetaPartitions(\n      $cluster: String\n      $volume: String\n      $page: int\n      $pageSize: int\n    ) {\n      volMetaPartitions(\n        cluster: $cluster\n        volume: $volume\n        page: $page\n        pageSize: $pageSize\n      ) {\n        data {\n          partitionID\n          replicaNum\n          status\n          leader\n          start\n          end\n          dentryCount\n          inodeCount\n          maxExistIno\n          hosts {\n            addr\n          }\n        }\n        total\n      }\n    }\n  "]))),queryVolumeList:(0,F.ZP)(r||(r=(0,A.Z)(["\n    query listVolume(\n      $cluster: String\n      $name: String\n      $page: int\n      $pageSize: int\n    ) {\n      listVolume(\n        cluster: $cluster\n        name: $name\n        page: $page\n        pageSize: $pageSize\n      ) {\n        data {\n          name\n          owner\n          totalSize\n          usedSize\n          usedRatio\n          fileCount\n          replicaNum\n          createTime\n          mpCount\n          dpCount\n        }\n        total\n      }\n    }\n  "]))),zoneList:(0,F.ZP)(l||(l=(0,A.Z)(["\n    query zoneList($cluster: String) {\n      zoneList(cluster: $cluster)\n    }\n  "]))),createVolume:(0,F.ZP)(u||(u=(0,A.Z)(["\n    mutation createVolume(\n      $cluster: String\n      $capacity: int32\n      $name: String\n      $owner: String\n      $zone: String\n      $description: String\n    ) {\n      createVolume(\n        cluster: $cluster\n        capacity: $capacity\n        name: $name\n        owner: $owner\n        zone: $zone\n        description: $description\n      ) {\n        code\n        message\n      }\n    }\n  "]))),getVolume:(0,F.ZP)(c||(c=(0,A.Z)(["\n    query getVolume($cluster: String, $name: String) {\n      getVolume(cluster: $cluster, name: $name) {\n        name\n        owner\n        dpSelectorName\n        dpReplicaNum\n        defaultStoreMode\n        trashRemainingDays\n        capacity\n        enableToken\n        forceROW\n        enableWriteCache\n        followerRead\n        remoteCacheBoostEnable\n      }\n    }\n  "]))),updateVolume:(0,F.ZP)(m||(m=(0,A.Z)(["\n    mutation updateVolume(\n      $cluster: String\n      $authKey: String\n      $name: String\n      $dpSelectorName: String\n      $defaultStoreMode: Uint64\n      $trashRemainingDays: Uint64\n      $capacity: Uint64\n      $enableToken: Bool\n      $forceROW: Bool\n      $enableWriteCache: Bool\n      $followerRead: Bool\n      $remoteCacheBoostEnable: Bool\n    ) {\n      updateVolume(\n        cluster: $cluster\n        authKey: $authKey\n        name: $name\n        dpSelectorName: $dpSelectorName\n        dpReplicaNum: $dpReplicaNum\n        defaultStoreMode: $defaultStoreMode\n        trashRemainingDays: $trashRemainingDays\n        capacity: $capacity\n        enableToken: $enableToken\n        forceROW: $forceROW\n        enableWriteCache: $enableWriteCache\n        followerRead: $followerRead\n        remoteCacheBoostEnable: $remoteCacheBoostEnable\n      ) {\n        name\n      }\n    }\n  "]))),deleteVolume:(0,F.ZP)(h||(h=(0,A.Z)(["\n    mutation deleteVolume($cluster: String, $authKey: String, $name: String) {\n      deleteVolume(cluster: $cluster, authKey: $authKey, name: $name) {\n        code\n        message\n      }\n    }\n  "]))),queryPermissionList:(0,F.ZP)(p||(p=(0,A.Z)(["\n    query volPermission(\n      $cluster: String\n      $userID: String\n      $name: String\n      $permission: String\n    ) {\n      volPermission(\n        cluster: $cluster\n        userID: $userID\n        name: $name\n        permission: $permission\n      ) {\n        userID\n        access\n      }\n    }\n  "]))),grantPermission:(0,F.ZP)(d||(d=(0,A.Z)(["\n    mutation updateUserPolicy(\n      $cluster: String\n      $policy: Array\n      $userID: String\n      $volume: String\n    ) {\n      updateUserPolicy(\n        cluster: $cluster\n        policy: $policy\n        userID: $userID\n        volume: $volume\n      ) {\n        user_id\n      }\n    }\n  "]))),deletePermission:(0,F.ZP)(g||(g=(0,A.Z)(["\n    mutation removeUserPolicy(\n      $cluster: String\n      $userID: String\n      $volume: String\n    ) {\n      removeUserPolicy(cluster: $cluster, userID: $userID, volume: $volume) {\n        user_id\n      }\n    }\n  "]))),queryFileList:(0,F.ZP)(v||(v=(0,A.Z)(["\n    query listFile($request: Object, $volName: String) {\n      listFile(request: $request, volName: $volName) {\n        infos {\n          FSFileInfo {\n            key\n            value\n          }\n          eTag\n          inode\n          mIMEType\n          mode\n          modifyTime\n          createTime\n          path\n          size\n        }\n        isTruncated\n        nextMarker\n        prefixes\n      }\n    }\n  "]))),createFolder:(0,F.ZP)(f||(f=(0,A.Z)(["\n    mutation createDir($path: String, $volName: String) {\n      createDir(path: $path, volName: $volName) {\n        eTag\n      }\n    }\n  "]))),signURL:(0,F.ZP)($||($=(0,A.Z)(["\n    mutation signURL($path: String, $volName: String, $expireMinutes: Uint64) {\n      signURL(path: $path, volName: $volName, expireMinutes: $expireMinutes) {\n        code\n        message\n      }\n    }\n  "]))),deleteDir:(0,F.ZP)(b||(b=(0,A.Z)(["\n    mutation deleteDir($path: String, $volName: String) {\n      deleteDir(path: $path, volName: $volName) {\n        code\n        message\n      }\n    }\n  "]))),deleteFile:(0,F.ZP)(S||(S=(0,A.Z)(["\n    mutation deleteFile($path: String, $volName: String) {\n      deleteFile(path: $path, volName: $volName) {\n        code\n        message\n      }\n    }\n  "])))};t.Z=D},69092:function(e,t,a){a.d(t,{Ur:function(){return s},b4:function(){return i},li:function(){return o}});a(60228),a(12826);function n(e){var t=null!==e?new Date(e):new Date;return{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),milli:t.getMilliseconds()}}function i(e,t){t=t||"-";var a="[object Object]"===Object.prototype.toString.call(e)?e:n(e),i=a.month+1<10?"0"+(a.month+1):a.month+1,o=a.date<10?"0"+a.date:a.date;return a.year+t+i+t+o}function o(e,t){t=t||":";var a="[object Object]"===Object.prototype.toString.call(e)?e:n(e),i=a.hour<10?"0"+a.hour:a.hour,o=a.minute<10?"0"+a.minute:a.minute,s=a.second<10?"0"+a.second:a.second;return i+t+o+t+s}function s(e){var t=n(e),a=i(t)+" "+o(t);return a}},49252:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});a(34284);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cluster volume"},[t("crumb",{attrs:{crumbInfo:e.crumbInfo,crumbItem:e.crumbItem}}),e._v(" "),t("div",[t("div",{staticClass:"volume-left"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadFileDialog=!0}}},[t("i",{staticClass:"btn-icon upload-icon"}),e._v(e._s(e.$t("chubaoFS.volume.UploadFile")))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createFolderDialog=!0}}},[t("i",{staticClass:"btn-icon folder-icon"}),e._v(e._s(e.$t("chubaoFS.volume.CreateFolder")))])],1),e._v(" "),t("div",{staticClass:"volume-right"},[t("span",[e._v(e._s(e.$t("chubaoFS.volume.FileFolderName")))]),e._v(" "),t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryFileList}},[e._v(e._s(e.$t("chubaoFS.tools.Search")))])],1)]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{type:"index",label:"#"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:e.$t("chubaoFS.volume.FileFolderName")},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row.isFile?t("div",{staticClass:"volume-name",staticStyle:{color:"#000",cursor:"default"}},[t("i",{staticClass:"table-icon"},[t("img",{attrs:{src:a(83887),alt:""}})]),e._v("\n            "+e._s(n.row.noPathName)+"\n          ")]):t("div",{staticClass:"volume-name",on:{click:function(t){return e.goFileList(n.row)}}},[t("i",{staticClass:"table-icon"},[t("img",{attrs:{src:a(29305),alt:""}})]),e._v("\n            "+e._s(n.row.noPathName)+"\n          ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"size",label:e.$t("chubaoFS.volume.Size")}}),e._v(" "),t("el-table-column",{attrs:{prop:"modifyTime",label:e.$t("chubaoFS.volume.LastModify")}}),e._v(" "),t("el-table-column",{attrs:{prop:"createTime",label:e.$t("chubaoFS.volume.CreateTime")}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("chubaoFS.tools.Actions"),width:"350"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:a.row.isFile,expression:"scope.row.isFile"}],staticClass:"text-btn",attrs:{type:"text"},on:{click:function(t){return e.downLoad(a.row)}}},[e._v(e._s(e.$t("chubaoFS.tools.Download")))]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:a.row.isFile,expression:"scope.row.isFile"}],staticClass:"text-btn",attrs:{type:"text"},on:{click:function(t){return e.openSignUrl(a.row)}}},[e._v(e._s(e.$t("chubaoFS.volume.SignURL")))]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:a.row.isFile,expression:"scope.row.isFile"}],staticClass:"text-btn",attrs:{type:"text"},on:{click:function(t){return e.openDetails(a.row)}}},[e._v(e._s(e.$t("chubaoFS.tools.Details")))]),e._v(" "),t("el-button",{staticClass:"text-btn",attrs:{type:"text"},on:{click:function(t){return e.deleteInfo(a.row)}}},[e._v(e._s(e.$t("chubaoFS.tools.Delete")))])]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:e.$t("chubaoFS.volume.FileDetails"),visible:e.fileDetailsDialog,width:"30%"},on:{"update:visible":function(t){e.fileDetailsDialog=t}}},[t("div",{staticClass:"pl10 pb10"},[e._v("\n      "+e._s(e.$t("chubaoFS.volume.FileName"))+": "+e._s(e.fileDetails.name)+"\n    ")]),e._v(" "),t("div",{staticClass:"pl10 pb10"},[e._v("\n      "+e._s(e.$t("chubaoFS.volume.VolumeName"))+": "+e._s(this.volumeName)+"\n    ")]),e._v(" "),t("div",{staticClass:"pl10 pb10"},[e._v("\n      "+e._s(e.$t("chubaoFS.volume.Size"))+": "+e._s(e.fileDetails.size)+"\n    ")]),e._v(" "),t("div",{staticClass:"pl10 pb10"},[e._v("\n      "+e._s(e.$t("chubaoFS.volume.MD5"))+": "+e._s(e.fileDetails.eTag)+"\n    ")]),e._v(" "),t("div",{staticClass:"pl10 pb10"},[e._v("\n      "+e._s(e.$t("chubaoFS.volume.CreateTime"))+": "+e._s(e.fileDetails.createTime)+"\n    ")]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.fileDetailsDialog=!1}}},[e._v(e._s(e.$t("chubaoFS.tools.OK")))])],1)]),e._v(" "),t("el-dialog",{attrs:{title:e.$t("chubaoFS.volume.CreateSignURL"),visible:e.signUrlDialog,width:"35%"},on:{"update:visible":function(t){e.signUrlDialog=t},close:e.closeSignUrl}},[t("el-form",{staticClass:"mt20",attrs:{"label-position":e.labelPosition,model:e.signUrlForm}},[t("el-form-item",{attrs:{label:e.$t("chubaoFS.volume.ExpirationTime")}},[t("el-input",{model:{value:e.signUrlForm.time,callback:function(t){e.$set(e.signUrlForm,"time",t)},expression:"signUrlForm.time"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("chubaoFS.volume.SignURL")}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.signUrlForm.address,callback:function(t){e.$set(e.signUrlForm,"address",t)},expression:"signUrlForm.address"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeSignUrl}},[e._v(e._s(e.$t("chubaoFS.tools.Cancel")))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.getSignUrl}},[e._v(e._s(e.$t("chubaoFS.tools.Create")))])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:e.$t("chubaoFS.volume.CreateFolder"),visible:e.createFolderDialog,width:"35%"},on:{"update:visible":function(t){e.createFolderDialog=t},close:e.closeDialog}},[t("el-form",{ref:"createFolderForm",attrs:{"label-position":e.labelPosition,model:e.createFolderForm,rules:e.rules}},[t("el-form-item",{attrs:{label:e.$t("chubaoFS.volume.FolderName"),prop:"folderName"}},[t("el-input",{model:{value:e.createFolderForm.folderName,callback:function(t){e.$set(e.createFolderForm,"folderName",t)},expression:"createFolderForm.folderName"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.$t("chubaoFS.tools.Cancel")))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createFolder("createFolderForm")}}},[e._v(e._s(e.$t("chubaoFS.tools.Create")))])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:e.$t("chubaoFS.volume.UploadFile"),visible:e.uploadFileDialog,width:"570px"},on:{"update:visible":function(t){e.uploadFileDialog=t}}},[t("el-form",{attrs:{"label-position":e.labelPosition,model:e.uploadFileForm}},[t("el-form-item",{attrs:{label:e.$t("chubaoFS.volume.VolumeName")}},[t("el-input",{attrs:{disabled:""},model:{value:e.volumeName,callback:function(t){e.volumeName=t},expression:"volumeName"}})],1)],1),e._v(" "),t("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{width:"570px"},attrs:{name:"file",drag:"",action:e.fileUploadUrl,"file-list":e.fileUploadList,"on-exceed":e.uploadExceed,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-error":e.handleError,"on-success":e.handleSuccess,limit:1,"auto-upload":!1,multiple:""}},[t("i",{staticClass:"el-icon-upload"}),e._v(" "),t("div",{staticClass:"el-upload__text"},[e._v("\n        "+e._s(e.$t("chubaoFS.volume.DragTip"))),t("em",[e._v(e._s(e.$t("chubaoFS.tools.Upload"))+" ")])])]),e._v(" "),t("div",{staticClass:"pb10 mt30"},[e._v(e._s(e.$t("chubaoFS.volume.DragTipPlease")))]),e._v(" "),t("div",{staticClass:"pb10"},[e._v(e._s(e.$t("chubaoFS.volume.Tips1")))]),e._v(" "),t("div",{staticClass:"pb10"},[e._v(e._s(e.$t("chubaoFS.volume.Tips2")))]),e._v(" "),t("div",{staticClass:"pb10"},[e._v(e._s(e.$t("chubaoFS.volume.Tips3")))]),e._v(" "),t("div",{staticClass:"pb10"},[e._v(e._s(e.$t("chubaoFS.volume.Tips4")))]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeFile}},[e._v(e._s(e.$t("chubaoFS.tools.No")))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.uploadFile}},[e._v(e._s(e.$t("chubaoFS.tools.Yes")))])],1)],1)],1)},i=[],o=(a(89730),a(60228),a(47522),a(70560),a(28436),a(65137),a(62506),a(77823)),s=a(69092),r={name:"volumeDetail",data:function(){return{labelPosition:"top",searchVal:"",resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},volumeName:"",parentPath:"",fileDetailsDialog:!1,signUrlDialog:!1,createFolderDialog:!1,uploadFileDialog:!1,signUrlForm:{time:"",address:""},createFolderForm:{folderName:""},uploadFileForm:{name:""},fileList:[],folderList:[],volumeDetailList:[],rules:{folderName:[{required:!0,message:this.$t("chubaoFS.volume.FolderNameMsg"),trigger:"blur"}]},fileUploadList:[],fileUploadUrl:"",fileName:"",fileDetails:{},crumbItem:[],crumbInfo:"",screenWidth:document.body.clientWidth}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(e){this.resData.page.pageNo=e;var t=(e-1)*this.resData.page.pageSize,a=e*this.resData.page.pageSize;this.resData.resLists=this.volumeDetailList.slice(t,a)},queryFileList:function(){var e=this;this.resData.loading=!0;var t={request:{prefix:this.parentPath,marker:"",delimiter:"/",maxKeys:1e4},volName:this.volumeName};this.apollo.query(this.url.file,o.Z.queryFileList,t).then((function(t){if(e.resData.loading=!1,t){var a=[];t.data.listFile.infos.forEach((function(t){if(e.parentPath!==t.path){var n={},i=t.path.split("/");n.noPathName=i[i.length-1],n.name=t.path,n.size=t.size,n.modifyTime=(0,s.Ur)(t.modifyTime),n.createTime=(0,s.Ur)(t.createTime),n.eTag=t.eTag,n.isFile=!0,a.push(n)}})),t.data.listFile.prefixes.forEach((function(e){var t={},n=e.split("/");t.noPathName=n[n.length-2],t.name=e,t.namePath=e,t.size="--",t.modifyTime="--",t.createTime="--",t.isFile=!1,a.push(t)}));var n=[];e.searchVal&&""!==e.searchVal.trim()?a.forEach((function(t){t.name.indexOf(e.searchVal.trim())>-1&&n.push(t)})):n=a,n.sort((function(e,t){if("--"===e.modifyTime)return 1;var a=Date.parse(e.modifyTime),n=Date.parse(t.modifyTime);return n>a?1:-1})),e.volumeDetailList=n,e.resData.page.totalRecord=e.volumeDetailList.length,e.handleCurrentChange(1)}})).catch((function(t){e.resData.loading=!1,console.log(t)}))},createFolder:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a={path:t.parentPath+t.createFolderForm.folderName,volName:t.volumeName};t.apollo.mutation(t.url.file,o.Z.createFolder,a).then((function(e){e.data?(t.createFolderDialog=!1,t.queryFileList(),t.$message({message:"success",type:"success"})):t.$message.error(e)}))}))},uploadFile:function(){0!==this.fileUploadList.length?this.$refs.upload.submit():this.$message({message:"Please select a file",type:"warning"})},uploadExceed:function(e,t){this.$set(t[0],"raw",e[0]),this.$set(t[0],"name",e[0].name),this.$refs["upload"].clearFiles(),this.$refs["upload"].handleStart(e[0])},handleChange:function(e,t){this.fileUploadList=t,t.length>0&&(this.fileUploadList=[t[t.length-1]])},handleRemove:function(e,t){for(var a=0,n=t.length;a<n;a++)if(t[a].name===e.name){t.splice(a,1);break}this.fileUploadList=t},handleError:function(){this.$message({message:this.$t("chubaoFS.message.Error"),type:"error"})},handleSuccess:function(){this.$message({message:this.$t("chubaoFS.message.Success"),type:"success"}),this.uploadFileDialog=!1,this.queryFileList(),this.$refs["upload"].clearFiles()},downLoad:function(e){var t=this.url.downFile+"?path="+e.name+"&vol_name="+this.volumeName+"&_authorization="+sessionStorage.getItem("access_token"),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",e.noPathName),document.body.appendChild(a),a.click()},getSignUrl:function(){var e=this,t={volName:this.volumeName,path:this.fileName,expireMinutes:parseInt(this.signUrlForm.time)};this.apollo.mutation(this.url.file,o.Z.signURL,t).then((function(t){t.data?e.signUrlForm.address=t.data.signURL.message:e.$message.error(t)})).catch((function(t){e.resData.loading=!1,console.log(t)}))},openSignUrl:function(e){this.signUrlDialog=!0,this.fileName=e.name},openDetails:function(e){this.fileDetailsDialog=!0,this.fileDetails=Object.assign({},e)},closeFile:function(){this.$refs["upload"].clearFiles(),this.uploadFileDialog=!1},closeSignUrl:function(){this.signUrlForm={time:"",address:""},this.signUrlDialog=!1},closeDialog:function(){this.createFolderDialog=!1,this.createFolderForm={},this.$refs["createFolderForm"].resetFields()},deleteInfo:function(e){var t=this,a={path:e.name,volName:this.volumeName};this.$confirm(this.$t("chubaoFS.volume.deleteInfoMsg"),this.$t("chubaoFS.message.Warning"),{confirmButtonText:this.$t("chubaoFS.tools.Yes"),cancelButtonText:this.$t("chubaoFS.tools.No"),type:"warning"}).then((function(){e.isFile?t.apollo.mutation(t.url.file,o.Z.deleteFile,a).then((function(e){e?(t.queryFileList(),t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"})):t.$message.error(t.$t("chubaoFS.message.Error"))})):t.apollo.mutation(t.url.file,o.Z.deleteDir,a).then((function(e){e?(t.queryFileList(),t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"})):t.$message.error(t.$t("chubaoFS.message.Error"))}))})).catch((function(){}))},goFileList:function(e){this.$router.push({name:"volumeDetail",query:{path:e.namePath,volumeName:this.volumeName}})},init:function(){this.fileUploadUrl=this.url.uploadFile+"?vol_name="+this.volumeName+"&path="+this.parentPath+"&_authorization="+sessionStorage.getItem("access_token"),this.queryFileList()},setCrumbItem:function(){if(this.crumbItem=[],this.parentPath&&""!==this.parentPath.trim()){var e={};e.title=this.volumeName,e.path="/volumeDetail",e.query={volumeName:this.volumeName},this.crumbItem.push(e);for(var t=this.parentPath.substr(0,this.parentPath.length-1).split("/"),a=0;a<t.length;a++)if(""!==t[a].trim())if(a!==t.length-1){var n="";if(a>0)for(var i=0;i<a;i++)0===i?n=t[i]:n+=t[i],n+="/";var o={};o.title=t[a],o.parentPath=n,o.path="/volumeDetail",o.query={path:o.parentPath+o.title+"/",volumeName:this.volumeName},this.crumbItem.push(o)}else this.crumbInfo=t[a]}else this.crumbInfo=this.volumeName}},watch:{$route:function(e,t){var a=this.$route.query;this.volumeName=a.volumeName,a.path?this.parentPath=a.path:this.parentPath="",this.setCrumbItem(),this.init()},screenWidth:function(e){if(!this.timer){this.screenWidth=e,this.timer=!0;var t=this;setTimeout((function(){t.setCrumbItem(),t.timer=!1}),400)}}},mounted:function(){var e=this.$route.query;this.volumeName=e.volumeName,e.path&&(this.parentPath=e.path),this.setCrumbItem(),this.init();var t=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()}}},l=r,u=a(1001),c=(0,u.Z)(l,n,i,!1,null,"546822e8",null),m=c.exports},83887:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAMZJREFUWMNjYIACY2Pj/9TAJiYmLxjIAdR2gKmpaZa5uTnfgDkASC8C8o8T7QgaOeA/0Y6goQOIcwQNHNAK5F+EYSB/ZmhoKDPNHQDEHxoaGpgGLBdA8QWgj3dhw2ZmZor0cABODEwLeqMOINUBNSBNpGBgKRhONQcAE85CoIExpGCgnpbRNDB8HACMz34g7UYKBuopoKoDgNiVFAxMiPmjaWBYJcJCKysreVIwUJ83NR2wFohzSMRTRtPAqANGHTDqgCHjAACYm9QD4/eMtAAAAABJRU5ErkJggg=="},29305:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAALhJREFUSMdjMDc31zMxMTlnbGz8F4j/48H7gJiLgdoAavl/IvFeqjuCCJ/T1hEkWk59R5DpgP/AqDsApPPIwUC92UBsTZEDqIQrQA64NVAYGApHGUaBmZkZMCRMdkGD5Q6dMMiunUBsBCqILg9gIrwAcsCfAXTAzwHNhiDPjzpg1AGjDhh1wKgDRh0Aqg0/DaAj3oMcMG8AHTCboaGhgQnoCE8gJxPaXKY5Btllamrq8f//f8bRNikAy72K3dUhvTkAAAAASUVORK5CYII="},50382:function(e,t,a){var n=a(9015),i=Math.floor,o=function(e,t){var a=e.length,l=i(a/2);return a<8?s(e,t):r(e,o(n(e,0,l),t),o(n(e,l),t),t)},s=function(e,t){var a,n,i=e.length,o=1;while(o<i){n=o,a=e[o];while(n&&t(e[n-1],a)>0)e[n]=e[--n];n!==o++&&(e[n]=a)}return e},r=function(e,t,a,n){var i=t.length,o=a.length,s=0,r=0;while(s<i||r<o)e[s+r]=s<i&&r<o?n(t[s],a[r])<=0?t[s++]:a[r++]:s<i?t[s++]:a[r++];return e};e.exports=o},98494:function(e,t,a){var n=a(23691),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},97365:function(e,t,a){var n=a(30071),i=n.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},37298:function(e,t,a){var n=a(30071);e.exports=/MSIE|Trident/.test(n)},27922:function(e,t,a){var n=a(30071),i=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},63477:function(e,t,a){var n=a(22615),i=a(36812),o=a(23622),s=a(69633),r=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in r||i(e,"flags")||!o(r,e)?t:n(s,e)}},75984:function(e,t,a){var n=a(41236).PROPER,i=a(3689),o=a(86350),s="​᠎";e.exports=function(e){return i((function(){return!!o[e]()||s[e]()!==s||n&&o[e].name!==e}))}},65137:function(e,t,a){var n=a(79989),i=a(68844),o=a(10509),s=a(90690),r=a(6310),l=a(98494),u=a(34327),c=a(3689),m=a(50382),h=a(16834),p=a(97365),d=a(37298),g=a(3615),v=a(27922),f=[],$=i(f.sort),b=i(f.push),S=c((function(){f.sort(void 0)})),A=c((function(){f.sort(null)})),F=h("sort"),D=!c((function(){if(g)return g<70;if(!(p&&p>3)){if(d)return!0;if(v)return v<603;var e,t,a,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(n=0;n<47;n++)f.push({k:t+n,v:a})}for(f.sort((function(e,t){return t.v-e.v})),n=0;n<f.length;n++)t=f[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),_=S||!A||!F||!D,y=function(e){return function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:u(t)>u(a)?1:-1}};n({target:"Array",proto:!0,forced:_},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(D)return void 0===e?$(t):$(t,e);var a,n,i=[],u=r(t);for(n=0;n<u;n++)n in t&&b(i,t[n]);m(i,y(e)),a=r(i),n=0;while(n<a)t[n]=i[n++];while(n<u)l(t,n++);return t}})},62506:function(e,t,a){var n=a(79989),i=a(90690),o=a(27578),s=a(68700),r=a(6310),l=a(5649),u=a(55565),c=a(27120),m=a(76522),h=a(98494),p=a(29042),d=p("splice"),g=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var a,n,p,d,f,$,b=i(this),S=r(b),A=o(e,S),F=arguments.length;for(0===F?a=n=0:1===F?(a=0,n=S-A):(a=F-2,n=v(g(s(t),0),S-A)),u(S+a-n),p=c(b,n),d=0;d<n;d++)f=A+d,f in b&&m(p,d,b[f]);if(p.length=n,a<n){for(d=A;d<S-n;d++)f=d+n,$=d+a,f in b?b[$]=b[f]:h(b,$);for(d=S;d>S-n+a;d--)h(b,d-1)}else if(a>n)for(d=S-n;d>A;d--)f=d+n-1,$=d+a-1,f in b?b[$]=b[f]:h(b,$);for(d=0;d<a;d++)b[d+A]=arguments[d+2];return l(b,S-n+a),p}})},12826:function(e,t,a){var n=a(41236).PROPER,i=a(11880),o=a(85027),s=a(34327),r=a(3689),l=a(63477),u="toString",c=RegExp.prototype,m=c[u],h=r((function(){return"/a/b"!==m.call({source:"a",flags:"b"})})),p=n&&m.name!==u;(h||p)&&i(RegExp.prototype,u,(function(){var e=o(this),t=s(e.source),a=s(l(e));return"/"+t+"/"+a}),{unsafe:!0})},28436:function(e,t,a){var n=a(79989),i=a(61435).trim,o=a(75984);n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})}}]);