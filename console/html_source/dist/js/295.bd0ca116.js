"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[295],{22329:function(t,e,a){var s,r,n,i,u,o,l=a(2106),c=a(4969),p={ClusterView:(0,c.ZP)(s||(s=(0,l.Z)(["query ClusterView {\n    clusterView{\n      leaderAddr\n      volumeCount\n      metaPartitionCount\n      dataPartitionCount\n      serverCount\n      disableAutoAlloc\n    }\n  }"]))),topNUser:(0,c.ZP)(r||(r=(0,l.Z)(["query TopNUser($n:int32) {\n    topNUser(n:$n){\n      name\n      size\n      ratio\n    }\n  }"]))),dataNode:(0,c.ZP)(n||(n=(0,l.Z)(["query Query($queryTotal:String, $queryUsed:String,) {\n    total:Query(query:$queryTotal)\n    used:Query(query:$queryUsed)\n  }"]))),rangeQuery:(0,c.ZP)(i||(i=(0,l.Z)(["query RangeQuery($queryTotal:String, $queryUsed:String, $start:uint32, $end:uint32,$step:uint32) {\n    total:RangeQuery(query:$queryTotal, start:$start, end:$end,step:$step),\n    used:RangeQuery(query:$queryUsed, start:$start, end:$end,step:$step)\n  }"]))),rangeVolQuery:(0,c.ZP)(u||(u=(0,l.Z)(["query RangeQuery($query:String, $start:uint32, $end:uint32,$step:uint32) {\n#    total:RangeQuery(query:$query, start:$start, end:$end,step:$step),\n    RangeQuery(query:$query, start:$start, end:$end,step:$step)\n  }"]))),queryUserList:(0,c.ZP)(o||(o=(0,l.Z)(["query ListUserInfo {\n    listUserInfo{\n      user_id\n      user_type\n      userStatistical{\n        data\n        dataPartitionCount\n        metaPartitionCount\n        volumeCount\n      }\n    }\n  }"])))};e.Z=p},27295:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cluster alarm"},[e("div",{staticClass:"clearfix"},[e("h3",{staticClass:"fl"},[t._v(t._s(t.$t("chubaoFS.userList.UserList")))]),t._v(" "),e("div",{staticClass:"fr"},[e("el-input",{staticStyle:{width:"255px"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),t._v(" "),e("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:t.queryList}},[t._v(t._s(t.$t("chubaoFS.tools.Search")))])],1)]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[e("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:t.resData.resLists}},[e("el-table-column",{attrs:{prop:"user_id",label:t.$t("chubaoFS.userList.User"),width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"userStatistical.data",label:t.$t("chubaoFS.userList.Data")}}),t._v(" "),e("el-table-column",{attrs:{prop:"userStatistical.volumeCount",label:t.$t("chubaoFS.userList.VolumeCount")}}),t._v(" "),e("el-table-column",{attrs:{prop:"userStatistical.dataPartitionCount",label:t.$t("chubaoFS.userList.DataPartitionCount")}}),t._v(" "),e("el-table-column",{attrs:{prop:"userStatistical.metaPartitionCount",label:t.$t("chubaoFS.userList.MetaPartitionCount")}})],1),t._v(" "),e("div",{staticClass:"clearfix mt20"},[e("el-pagination",{staticClass:"fr",attrs:{"page-sizes":t.resData.page.pageSizes,"page-size":t.resData.page.pageSize,layout:"sizes, prev, pager, next",total:t.resData.page.totalRecord},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),e("span",{staticClass:"fr page-tips pr10"},[t._v(t._s(t.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1)])},r=[],n=(a(89730),a(28436),a(60228),a(47522),a(70560),a(22329)),i={name:"userDetails",data:function(){return{searchVal:"",resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},storageLists:[]}},methods:{handleSizeChange:function(t){this.resData.page.pageSize=t,this.resData.page.pageNo=1,this.handleCurrentChange(1)},handleCurrentChange:function(t){this.resData.page.pageNo=t;var e=(t-1)*this.resData.page.pageSize,a=t*this.resData.page.pageSize;this.resData.resLists=this.storageLists.slice(e,a)},queryList:function(){var t=this,e=this;e.resData.loading=!0;var a={num:1e4};this.apollo.query(this.url.user,n.Z.queryUserList,a).then((function(a){if(e.resData.loading=!1,a){var s=[];t.searchVal&&""!==t.searchVal.trim()?a.data.listUserInfo.forEach((function(e){e.user_id.indexOf(t.searchVal.trim())>-1&&s.push(e)})):s=a.data.listUserInfo,t.storageLists=s,t.storageLists.forEach((function(t){1===t.user_type&&(t.userTypeStr="root"),2===t.user_type&&(t.userTypeStr="admin"),3===t.user_type&&(t.userTypeStr="user")})),t.resData.page.totalRecord=t.storageLists.length,t.handleCurrentChange(1)}})).catch((function(t){e.resData.loading=!1,console.log(t)}))}},mounted:function(){this.queryList()}},u=i,o=a(1001),l=(0,o.Z)(u,s,r,!1,null,"77688404",null),c=l.exports},75984:function(t,e,a){var s=a(41236).PROPER,r=a(3689),n=a(86350),i="​᠎";t.exports=function(t){return r((function(){return!!n[t]()||i[t]()!==i||s&&n[t].name!==t}))}},28436:function(t,e,a){var s=a(79989),r=a(61435).trim,n=a(75984);s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return r(this)}})}}]);