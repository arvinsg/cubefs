"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[184],{49715:function(t,e,o){var s,a,i,n,r,l,d,c,u,m,p,h,v,g,f,b,y=o(2106),_=o(4969),k={queryVolList:(0,_.ZP)(s||(s=(0,y.Z)(["\n    query volList($cluster: String, $keywords: String) {\n      volList(cluster: $cluster, keywords: $keywords)\n    }\n  "]))),volMigrateStatus:(0,_.ZP)(a||(a=(0,y.Z)(["\n    query volMigrateStatus($cluster: String, $taskID: int) {\n      volMigrateStatus(cluster: $cluster, taskID: $taskID) {\n        status\n        volMigrateInfos {\n          name\n          status\n          migratePartitionCount\n          totalCount\n        }\n      }\n    }\n  "]))),volMigrateList:(0,_.ZP)(i||(i=(0,y.Z)(["\n    query volMigrateList(\n      $cluster: String\n      $module: String\n      $zone: String\n      $status: Int\n      $volume: String\n      $page: Int\n      $pageSize: Int\n    ) {\n      volMigrateList(\n        cluster: $cluster\n        module: $module\n        zone: $zone\n        status: $status\n        volume: $volume\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          taskID\n          cluster\n          module\n          volumes\n          status\n          srcZone\n          dstZone\n          clusterConcurrency\n          volConcurrency\n          partitionConcurrency\n          waitSeconds\n          dstDataNodeUsageRatio\n          dstMetaPartitionLimit\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),zoneList:(0,_.ZP)(n||(n=(0,y.Z)(["\n    query zoneList($cluster: String) {\n      zoneList(cluster: $cluster)\n    }\n  "]))),dropdownList:(0,_.ZP)(r||(r=(0,y.Z)(["\n    query dropdownList($cluster: String, $name: String, $taskType: Int) {\n      dropdownList(cluster: $cluster, name: $name, taskType: $taskType) {\n        opCode\n        opMsg\n      }\n    }\n  "]))),rebalanceList:(0,_.ZP)(l||(l=(0,y.Z)(["\n    query rebalanceList(\n      $cluster: String\n      $module: String\n      $zone: String\n      $status: Int\n      $taskType: Int\n      $page: Int\n      $pageSize: Int\n    ) {\n      rebalanceList(\n        cluster: $cluster\n        module: $module\n        zone: $zone\n        status: $status\n        taskType: $taskType\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          taskID\n          cluster\n          module\n          taskType\n          zone\n          status\n          highRatio\n          lowRatio\n          goalRatio\n          concurrency\n          limitDPonDisk\n          limitMPonDstNode\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  "]))),getNodeUsage:(0,_.ZP)(d||(d=(0,y.Z)(["\n    query getNodeUsage(\n      $cluster: String\n      $zone: String\n      $highRatio: int\n      $lowRatio: int\n      $module: String\n    ) {\n      getNodeUsage(\n        cluster: $cluster\n        zone: $zone\n        highRatio: $highRatio\n        lowRatio: $lowRatio\n        module: $module\n      ) {\n        avgUsageRatio\n        avgPartitionCnt\n        nodes {\n          addr\n          usedRatio\n          partitionCount\n        }\n      }\n    }\n  "]))),resetVolMigrate:(0,_.ZP)(c||(c=(0,y.Z)(["\n    mutation resetVolMigrate(\n      $cluster: String\n      $taskID: int\n      $clusterConcurrency: int32\n      $volConcurrency: int32\n      $partitionConcurrency: int32\n      $waitSeconds: int32\n    ) {\n      resetVolMigrate(\n        cluster: $cluster\n        taskID: $taskID\n        clusterConcurrency: $clusterConcurrency\n        volConcurrency: $volConcurrency\n        partitionConcurrency: $partitionConcurrency\n        waitSeconds: $waitSeconds\n      )\n    }\n  "]))),stopVolMigrate:(0,_.ZP)(u||(u=(0,y.Z)(["\n    mutation stopVolMigrate($cluster: String, $taskID: int) {\n      stopVolMigrate(cluster: $cluster, taskID: $taskID)\n    }\n  "]))),createVolMigrate:(0,_.ZP)(m||(m=(0,y.Z)(["\n    mutation createVolMigrate(\n      $cluster: String\n      $module: String\n      $volList: [list]\n      $srcZone: String\n      $dstZone: String\n      $clusterConcurrency: int32\n      $volConcurrency: int32\n      $partitionConcurrency: int32\n      $waitSeconds: int32\n      $dstDataNodeUsageRatio: float64\n      $dstMetaPartitionLimit: int32\n    ) {\n      createVolMigrate(\n        cluster: $cluster\n        module: $module\n        volList: $volList\n        srcZone: $srcZone\n        dstZone: $dstZone\n        clusterConcurrency: $clusterConcurrency\n        volConcurrency: $volConcurrency\n        partitionConcurrency: $partitionConcurrency\n        waitSeconds: $waitSeconds\n        dstDataNodeUsageRatio: $dstDataNodeUsageRatio\n        dstMetaPartitionLimit: $dstMetaPartitionLimit\n      )\n    }\n  "]))),createRebalanceTask:(0,_.ZP)(p||(p=(0,y.Z)(["\n    mutation createRebalanceTask(\n      $cluster: String\n      $module: String\n      $zone: String\n      $highRatio: int32\n      $lowRatio: int32\n      $goalRatio: int32\n      $concurrency: int32\n      $limitDPonDisk: int32\n      $limitMPonDstNode: int32\n    ) {\n      createRebalanceTask(\n        cluster: $cluster\n        module: $module\n        zone: $zone\n        highRatio: $highRatio\n        lowRatio: $lowRatio\n        goalRatio: $goalRatio\n        concurrency: $concurrency\n        limitDPonDisk: $limitDPonDisk\n        limitMPonDstNode: $limitMPonDstNode\n      )\n    }\n  "]))),createNodeMigrateTask:(0,_.ZP)(h||(h=(0,y.Z)(["\n    mutation createNodeMigrateTask(\n      $cluster: String\n      $module: String\n      $concurrency: int32\n      $srcNodeList: [list]\n      $dstNodeList: [list]\n      $limitDPonDisk: int32\n      $limitMPonDstNode: int32\n      $volList: [list]\n      $outRatio: float64\n    ) {\n      createNodeMigrateTask(\n        cluster: $cluster\n        module: $module\n        srcNodeList: $srcNodeList\n        dstNodeList: $dstNodeList\n        concurrency: $concurrency\n        limitDPonDisk: $limitDPonDisk\n        limitMPonDstNode: $limitMPonDstNode\n        volList: $volList\n        outRatio: $outRatio\n      )\n    }\n  "]))),stopRebalanceTask:(0,_.ZP)(v||(v=(0,y.Z)(["\n    mutation stopRebalanceTask($cluster: String, $taskID: int32) {\n      stopRebalanceTask(cluster: $cluster, taskID: $taskID)\n    }\n  "]))),resetControlRebalanceTask:(0,_.ZP)(g||(g=(0,y.Z)(["\n    mutation resetControlRebalanceTask(\n      $cluster: String\n      $taskID: int32\n      $module: String\n      $concurrency: int32\n      $taskType: int32\n      $goalRatio: int32\n      $limitDPonDisk: int32\n      $limitMPonDstNode: int32\n    ) {\n      resetControlRebalanceTask(\n        cluster: $cluster\n        taskID: $taskID\n        module: $module\n        concurrency: $concurrency\n        taskType: $taskType\n        goalRatio: $goalRatio\n        limitDPonDisk: $limitDPonDisk\n        limitMPonDstNode: $limitMPonDstNode\n      )\n    }\n  "]))),queryTaskStatus:(0,_.ZP)(f||(f=(0,y.Z)(["\n    query queryTaskStatus($taskID: int32) {\n      queryTaskStatus(taskID: $taskID) {\n        status\n        srcNodesInfo {\n          addr\n          isFinish\n          totalCount\n          migratedCount\n        }\n        dstNodesInfo {\n          addr\n          isFinish\n          totalCount\n          migratedCount\n        }\n      }\n    }\n  "]))),getConfigList:(0,_.ZP)(b||(b=(0,y.Z)(["\n    query getConfigList(\n      $cluster: String\n      $moduleType: Int\n      $operationType: int32\n      $volName: String\n    ) {\n      getConfigList(\n        cluster: $cluster\n        moduleType: $moduleType\n        operationType: $operationType\n        volName: $volName\n      ) {\n        valueName\n        valueDesc\n        valueType\n        value\n        valueForm\n      }\n    }\n  "])))};e.Z=k},9184:function(t,e,o){o.r(e),o.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cluster"},[e("el-form",{ref:"form",attrs:{inline:!0,model:t.query,rules:t.rules}},[e("el-form-item",{attrs:{label:"集群：",required:"",prop:"cluster"}},[e("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},on:{change:t.changeCluster},model:{value:t.query.cluster,callback:function(e){t.$set(t.query,"cluster",e)},expression:"query.cluster"}},t._l(t.clusterList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"模块：",prop:"module"}},[e("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.query.module,callback:function(e){t.$set(t.query,"module",e)},expression:"query.module"}},t._l(t.moduleList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"类型：",prop:"taskType"}},[e("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.query.taskType,callback:function(e){t.$set(t.query,"taskType",e)},expression:"query.taskType"}},t._l(t.typeList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"zone：",prop:"zone"}},[e("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择zone"},model:{value:t.query.zone,callback:function(e){t.$set(t.query,"zone",e)},expression:"query.zone"}},t._l(t.zoneList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"状态：",prop:"status"}},[e("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.query.status,callback:function(e){t.$set(t.query,"status",e)},expression:"query.status"}},t._l(t.statusList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.queryList("reset")}}},[t._v("查询")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addTask}},[t._v("创建任务")])],1)],1),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[e("el-table-column",{attrs:{prop:"taskID",label:"任务ID",fixed:"",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"cluster",label:"集群",fixed:"",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"module",label:"模块",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"taskType",label:"类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(o){return[0==o.row.taskType?e("span",[t._v("全部")]):t._e(),t._v(" "),1==o.row.taskType?e("span",[t._v("zone自动均衡")]):t._e(),t._v(" "),2==o.row.taskType?e("span",[t._v("节点迁移")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"zone",label:"zone",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(o){return[1==o.row.status?e("span",{staticClass:"success task"},[t._v(" 已完成")]):t._e(),t._v(" "),2==o.row.status?e("span",{staticClass:"pending task"},[t._v(" 迁移中")]):t._e(),t._v(" "),3==o.row.status?e("span",{staticClass:"stop task"},[t._v(" 停止")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"highRatio",label:"迁出阈值",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"lowRatio",label:"迁入阈值",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"goalRatio",label:"目标阈值",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"concurrency",label:"迁移并发",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"limitDPonDisk",label:"dp limit",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"limitMPonDstNode",label:"dst mp limit",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"outMigRatio",label:"迁移比例",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"createdAt",label:"创建时间",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"action",label:"操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(o){return e("span",{staticClass:"active"},[e("span",{on:{click:function(e){return t.goDetail(o.row)}}},[t._v("详情")]),t._v(" "),2==o.row.status?e("span",{on:{click:function(e){return t.edit(o.row)}}},[t._v("| 编辑")]):t._e(),t._v(" "),2==o.row.status?e("span",{on:{click:function(e){return t.stopBalance(o.row)}}},[t._v("| 停止")]):t._e()])}}])})],1),t._v(" "),e("div",{staticClass:"clearfix mt20"},[e("el-pagination",{staticClass:"fr",attrs:{"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"sizes, prev, pager, next",total:t.page.totalRecord},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),e("span",{staticClass:"fr page-tips pr10"},[t._v(t._s(t.$t("chubaoFS.commonTxt.eachPageShows")))])],1),t._v(" "),e("el-dialog",{attrs:{title:"创建任务",visible:t.showAdd,width:"60%"},on:{"update:visible":function(e){t.showAdd=e}}},[e("el-form",{ref:"addForm",staticClass:"normalForm",attrs:{model:t.addForm,rules:t.addRules,"label-width":"130px"}},[e("el-form-item",{attrs:{label:"集群：",prop:"cluster",required:""}},[e("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},on:{change:t.changeFormCluster},model:{value:t.addForm.cluster,callback:function(e){t.$set(t.addForm,"cluster",e)},expression:"addForm.cluster"}},t._l(t.clusterList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"模块：",prop:"module",required:""}},[e("el-radio-group",{attrs:{size:"small"},model:{value:t.addForm.module,callback:function(e){t.$set(t.addForm,"module",e)},expression:"addForm.module"}},[e("el-radio-button",{attrs:{label:"data"}},[t._v("data")]),t._v(" "),e("el-radio-button",{attrs:{label:"meta"}},[t._v("meta")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"迁移并发：",prop:"concurrency",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入迁移并发",min:1,max:400},model:{value:t.addForm.concurrency,callback:function(e){t.$set(t.addForm,"concurrency",e)},expression:"addForm.concurrency"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"类型：",prop:"taskType",required:""}},[e("el-radio-group",{attrs:{size:"small"},on:{change:t.changeType},model:{value:t.addForm.taskType,callback:function(e){t.$set(t.addForm,"taskType",e)},expression:"addForm.taskType"}},[e("el-radio-button",{attrs:{label:1}},[t._v("zone自动均衡")]),t._v(" "),e("el-radio-button",{attrs:{label:2}},[t._v("节点迁移")])],1)],1)],1),t._v(" "),e("el-form",{ref:"addForm1",staticClass:"normalForm",attrs:{model:t.addForm1,rules:t.addRules1,"label-width":"130px"}},["data"==t.addForm.module&&1==t.addForm.taskType?e("el-form-item",{attrs:{label:"最大迁出dp数/盘：",prop:"limitDPonDisk",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入最大迁出dp数/盘",min:1},model:{value:t.addForm1.limitDPonDisk,callback:function(e){t.$set(t.addForm1,"limitDPonDisk",e)},expression:"addForm1.limitDPonDisk"}})],1):t._e(),t._v(" "),"meta"==t.addForm.module?e("el-form-item",{attrs:{label:"目标节点mp上限：",prop:"limitMPonDstNode",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入目标节点mp上限",min:1},model:{value:t.addForm1.limitMPonDstNode,callback:function(e){t.$set(t.addForm1,"limitMPonDstNode",e)},expression:"addForm1.limitMPonDstNode"}})],1):t._e(),t._v(" "),1==t.addForm.taskType?e("el-form-item",{attrs:{label:"zone：",prop:"zone",required:""}},[e("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择zone"},model:{value:t.addForm1.zone,callback:function(e){t.$set(t.addForm1,"zone",e)},expression:"addForm1.zone"}},t._l(t.formZoneList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1),t._v(" "),t.addForm1.zone&&""!=t.addForm1.zone?e("span",{staticClass:"click-color",on:{click:t.showRatio}},[t._v("\n          查看使用率")]):t._e()],1):t._e(),t._v(" "),1==t.addForm.taskType?e("el-form-item",{attrs:{label:"迁出阈值：",prop:"highRatio",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:1,step:.1},model:{value:t.addForm1.highRatio,callback:function(e){t.$set(t.addForm1,"highRatio",e)},expression:"addForm1.highRatio"}}),t._v(" "),e("el-tooltip",{attrs:{content:"筛选节点使用率高于该阈值的节点，作为迁出节点",placement:"top"}},[e("i",{staticClass:"el-icon-question click-color"})])],1):t._e(),t._v(" "),1==t.addForm.taskType?e("el-form-item",{attrs:{label:"迁入阈值：",prop:"lowRatio",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:1,step:.1},model:{value:t.addForm1.lowRatio,callback:function(e){t.$set(t.addForm1,"lowRatio",e)},expression:"addForm1.lowRatio"}}),t._v(" "),e("el-tooltip",{attrs:{content:"筛选节点使用率低于该阈值的节点，作为迁入节点",placement:"top"}},[e("i",{staticClass:"el-icon-question click-color"})])],1):t._e(),t._v(" "),1==t.addForm.taskType?e("el-form-item",{attrs:{label:"目标阈值：",prop:"goalRatio",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:1,step:.1},model:{value:t.addForm1.goalRatio,callback:function(e){t.$set(t.addForm1,"goalRatio",e)},expression:"addForm1.goalRatio"}}),t._v(" "),e("el-tooltip",{attrs:{content:"迁出节点使用率降到该阈值，停止迁出",placement:"top"}},[e("i",{staticClass:"el-icon-question click-color"})])],1):t._e(),t._v(" "),2==t.addForm.taskType?e("el-form-item",{attrs:{label:"源节点：",prop:"srcNodes",required:""}},[e("el-input",{attrs:{placeholder:"请选择节点",type:"textarea",rows:3},model:{value:t.addForm1.srcNodes,callback:function(e){t.$set(t.addForm1,"srcNodes",e)},expression:"addForm1.srcNodes"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addNodeList(1)}}},[t._v("添加")])],1):t._e(),t._v(" "),2==t.addForm.taskType?e("el-form-item",{attrs:{label:"目标节点：",prop:"dstNodes",required:""}},[e("el-input",{attrs:{placeholder:"请选择节点",type:"textarea",rows:3},model:{value:t.addForm1.dstNodes,callback:function(e){t.$set(t.addForm1,"dstNodes",e)},expression:"addForm1.dstNodes"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addNodeList(2)}}},[t._v("添加")])],1):t._e(),t._v(" "),2==t.addForm.taskType?e("el-form-item",{attrs:{label:"迁移比例：",prop:"outRatio",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入迁移比例",min:.1,max:1,step:.1},model:{value:t.addForm1.outRatio,callback:function(e){t.$set(t.addForm1,"outRatio",e)},expression:"addForm1.outRatio"}})],1):t._e(),t._v(" "),2==t.addForm.taskType?e("el-form-item",{attrs:{label:"卷列表：",prop:"volList"}},[e("el-select",{staticClass:"selectMulArea",staticStyle:{width:"300px"},attrs:{filterable:"",clearable:"",remote:"",multiple:"",placeholder:"请选择卷名","remote-method":t.searchVol},model:{value:t.addForm1.volList,callback:function(e){t.$set(t.addForm1,"volList",e)},expression:"addForm1.volList"}},[t._l(t.volList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),t._v(" "),e("div",{staticClass:"custom-choose"},[e("span",{staticClass:"click",on:{click:function(e){return t.selectAll()}}},[t._v("全选")]),t._v(" "),t.addForm1.volList&&t.addForm1.volList.length>0?e("span",[t._v("(已选择"+t._s(t.addForm1.volList.length)+"个）")]):t._e(),t._v(" "),e("span",{staticClass:"click right",on:{click:function(e){return t.delAll()}}},[t._v("取消")])])],2)],1):t._e()],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"选择节点",visible:t.showSelectNode,width:"40%"},on:{"update:visible":function(e){t.showSelectNode=e}}},[e("el-form",{ref:"selectForm",staticClass:"normalForm",attrs:{model:t.selectForm,rules:t.selectRules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"zone：",prop:"zone",required:""}},[e("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",clearable:"",placeholder:"请选择zone"},on:{change:t.queryIps},model:{value:t.selectForm.zone,callback:function(e){t.$set(t.selectForm,"zone",e)},expression:"selectForm.zone"}},t._l(t.formZoneList,(function(t){return e("el-option",{key:t.opCode,attrs:{label:t.opMsg,value:t.opCode}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"阈值：",prop:"highRatio"}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:1,step:.1},on:{blur:t.changeHigh},model:{value:t.selectForm.highRatio,callback:function(e){t.$set(t.selectForm,"highRatio",e)},expression:"selectForm.highRatio"}}),t._v(" "),t.isHigh?e("el-tooltip",{attrs:{content:"筛选使用率高于该阈值的节点",placement:"top"}},[e("i",{staticClass:"el-icon-question click-color"})]):e("el-tooltip",{attrs:{content:"筛选使用率低于该阈值的节点",placement:"top"}},[e("i",{staticClass:"el-icon-question click-color"})])],1),t._v(" "),e("el-form-item",{attrs:{label:"ips：",prop:"ips",required:""}},[e("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",clearable:"",placeholder:"请选择ip",multiple:""},model:{value:t.selectForm.ips,callback:function(e){t.$set(t.selectForm,"ips",e)},expression:"selectForm.ips"}},[t._l(t.ipList,(function(o){return e("el-option",{key:o.addr,attrs:{label:o.addr,value:o.addr}},[e("span",{staticStyle:{float:"left"}},[t._v(t._s(o.addr))]),t._v(" "),e("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("\n              (使用率： "+t._s(o.usedRatio)+"，分片数："+t._s(o.partitionCount)+")\n            ")])])})),t._v(" "),e("div",{staticClass:"custom-choose"},[e("span",{staticClass:"click",on:{click:function(e){return t.selectIpsAll()}}},[t._v("全选")]),t._v(" "),t.selectForm.ips&&t.selectForm.ips.length>0?e("span",[t._v("(已选择"+t._s(t.selectForm.ips.length)+"个）")]):t._e(),t._v(" "),e("span",{staticClass:"click right",on:{click:function(e){return t.delIpsAll()}}},[t._v("取消")])])],2)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showSelectNode=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitIps()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"停止任务",visible:t.showStop,width:"40%"},on:{"update:visible":function(e){t.showStop=e}}},[e("div",{staticClass:"pb20"},[t._v("集群："+t._s(t.detail.cluster))]),t._v(" "),e("div",{staticClass:"pb20"},[t._v("\n      任务类型："),0==t.detail.taskType?e("span",[t._v("全部")]):t._e(),1==t.detail.taskType?e("span",[t._v("zone自动均衡")]):t._e(),2==t.detail.taskType?e("span",[t._v("节点迁移")]):t._e()]),t._v(" "),e("div",{staticClass:"pb20"},[e("i",{staticClass:"el-icon-warning",staticStyle:{color:"#e6a23c","font-size":"16px"}}),t._v("\n      确定停止rebalance吗？\n    ")]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showStop=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.doStop()}}},[t._v("确定")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"编辑任务",visible:t.showEdit,width:"40%"},on:{"update:visible":function(e){t.showEdit=e}}},[e("el-form",{ref:"editForm",staticClass:"normalForm",attrs:{model:t.editForm,rules:t.editRules,"label-width":"130px"}},[e("el-form-item",{attrs:{label:"任务ID：",prop:"taskID"}},[e("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.editForm.taskID,callback:function(e){t.$set(t.editForm,"taskID",e)},expression:"editForm.taskID"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"集群：",prop:"cluster"}},[e("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.editForm.cluster,callback:function(e){t.$set(t.editForm,"cluster",e)},expression:"editForm.cluster"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"模块：",prop:"module"}},[e("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.editForm.module,callback:function(e){t.$set(t.editForm,"module",e)},expression:"editForm.module"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"任务类型：",prop:"taskTypeName"}},[e("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.editForm.taskTypeName,callback:function(e){t.$set(t.editForm,"taskTypeName",e)},expression:"editForm.taskTypeName"}})],1),t._v(" "),1==t.editForm.taskType?e("el-form-item",{attrs:{label:"zone：",prop:"zone"}},[e("el-input",{attrs:{disabled:"",placeholder:""},model:{value:t.editForm.zone,callback:function(e){t.$set(t.editForm,"zone",e)},expression:"editForm.zone"}})],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:"迁移并发：",prop:"concurrency",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入迁移并发",min:1,max:400},model:{value:t.editForm.concurrency,callback:function(e){t.$set(t.editForm,"concurrency",e)},expression:"editForm.concurrency"}})],1),t._v(" "),1==t.editForm.taskType?e("el-form-item",{attrs:{label:"目标阈值：",prop:"goalRatio",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:1,step:.1},model:{value:t.editForm.goalRatio,callback:function(e){t.$set(t.editForm,"goalRatio",e)},expression:"editForm.goalRatio"}})],1):t._e(),t._v(" "),"data"==t.editForm.module?e("el-form-item",{attrs:{label:"最大迁出dp数/盘：",prop:"limitDPonDisk",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入最大迁出dp数/盘",min:1},model:{value:t.editForm.limitDPonDisk,callback:function(e){t.$set(t.editForm,"limitDPonDisk",e)},expression:"editForm.limitDPonDisk"}})],1):t._e(),t._v(" "),"meta"==t.editForm.module?e("el-form-item",{attrs:{label:"目标节点mp上限：",prop:"limitMPonDstNode",required:""}},[e("el-input-number",{attrs:{placeholder:"请输入目标节点mp上限",min:1},model:{value:t.editForm.limitMPonDstNode,callback:function(e){t.$set(t.editForm,"limitMPonDstNode",e)},expression:"editForm.limitMPonDstNode"}})],1):t._e()],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showEdit=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitEdit()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"任务进度详情",visible:t.showDetail,width:"60%"},on:{"update:visible":function(e){t.showDetail=e}}},[e("div",{staticClass:"info pb20"},[t._v("\n      状态：\n      "),1==t.taskDetail.status?e("span",{staticClass:"success task"},[t._v(" 已完成")]):t._e(),t._v(" "),2==t.taskDetail.status?e("span",{staticClass:"pending task"},[t._v(" 迁移中")]):t._e(),t._v(" "),3==t.taskDetail.status?e("span",{staticClass:"stop task"},[t._v(" 停止")]):t._e(),t._v(" "),e("span",{staticClass:"label"},[t._v("任务ID：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.taskID)+" ")]),t._v(" "),e("span",{staticClass:"label"},[t._v("集群：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.cluster)+" ")]),t._v(" "),e("span",{staticClass:"label"},[t._v("zone：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.zone)+" ")]),t._v(" "),e("span",{staticClass:"label"},[t._v("迁出阈值：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.highRatio)+" ")]),t._v(" "),e("span",{staticClass:"label"},[t._v("迁入阈值：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.lowRatio)+" ")]),t._v(" "),e("span",{staticClass:"label"},[t._v("目标阈值：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.infos.goalRatio)+" ")])]),t._v(" "),e("div",{staticClass:"detailTable"},[e("div",{staticClass:"table left"},[e("span",{staticClass:"label"},[t._v("迁移原机器")]),t._v(" "),e("el-table",{attrs:{data:t.taskDetail.srcNodesInfo}},[e("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),e("el-table-column",{attrs:{prop:"addr",label:"地址"}}),t._v(" "),e("el-table-column",{attrs:{prop:"isFinish",label:"迁移进度"},scopedSlots:t._u([{key:"default",fn:function(o){return[o.row.isFinish?e("span",[t._v("已完成")]):e("span",[t._v(t._s(o.row.migratedCount)+"/"+t._s(o.row.totalCount))])]}}])})],1)],1),t._v(" "),e("div",{staticClass:"table"},[e("span",{staticClass:"label"},[t._v("目标机器")]),t._v(" "),e("el-table",{attrs:{data:t.taskDetail.dstNodesInfo}},[e("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),e("el-table-column",{attrs:{prop:"addr",label:"地址"}})],1)],1)]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showDetail=!1}}},[t._v("关闭")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"使用率详情",visible:t.isShowRatio,width:"40%"},on:{"update:visible":function(e){t.isShowRatio=e}}},[e("div",{staticClass:"addrArea"},[e("div",{staticClass:"pb20"},[t._v("\n        节点数："+t._s(t.ipRatio.length)+"，avg使用率："+t._s(t.ipInfos.avgUsageRatio)+"，avg分片数："+t._s(t.ipInfos.avgPartitionCnt)+"\n      ")]),t._v(" "),t._l(t.ipRatio,(function(o,s){return e("li",{staticClass:"addrLine"},[e("span",{staticClass:"pr10"},[t._v(t._s(s+1))]),t._v(" "+t._s(o.addr)+" (使用率：\n        "+t._s(o.usedRatio)+"，分片数："+t._s(o.partitionCount)+")\n      ")])}))],2)])],1)},a=[],i=o(45736),n=o(37819),r=(o(79288),o(60228),o(6203),o(69358),o(48324),o(49715)),l={name:"rebalance",components:{},data:function(){return{ipInfos:{avgUsageRatio:void 0,avgPartitionCnt:void 0},volList:[],query:{cluster:void 0,module:void 0,taskType:null,status:null,zone:void 0},rules:{cluster:[{required:!0,message:"请选择集群",trigger:"blur"}]},list:[],clusterList:[],moduleList:[],typeList:[],zoneList:[],statusList:[],page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},showAdd:!1,addForm:{cluster:"",module:"data",concurrency:1,taskType:1},addForm1:{srcNodeList:[],dstNodeList:[],srcNodes:"",dstNodes:"",limitDPonDisk:null,limitMPonDstNode:null,zone:void 0,highRatio:null,lowRatio:null,goalRatio:null,outRatio:.1,volList:[]},addRules:{cluster:[{required:!0,message:"请选择集群",trigger:"blur"}],concurrency:[{required:!0,message:"请输入迁移并发",trigger:"blur"}]},addRules1:{limitDPonDisk:[{required:!0,message:"请输入最大迁出dp数/盘",trigger:"blur"}],limitMPonDstNode:[{required:!0,message:"请输入目标节点mp上限",trigger:"blur"}],highRatio:[{required:!0,message:"请输入阈值",trigger:"blur"}],lowRatio:[{required:!0,message:"请输入阈值",trigger:"blur"}],goalRatio:[{required:!0,message:"请输入阈值",trigger:"blur"}],zone:[{required:!0,message:"请选择zone",trigger:["blur","change"]}],srcNodes:[{required:!0,message:"请添加源节点",trigger:"blur"}],dstNodes:[{required:!0,message:"请添加目标节点",trigger:"blur"}],outRatio:[{required:!0,message:"请输入迁移比例",trigger:"blur"}]},formZoneList:[],showSelectNode:!1,selectForm:{zone:void 0,highRatio:void 0,lowRatio:void 0,ips:[]},selectRules:{zone:[{required:!0,message:"请选择zone",trigger:["blur","change"]}],ips:[{required:!0,message:"请选择IP",trigger:["blur","change"]}]},ipList:[],ishighRatio:!1,showStop:!1,detail:{},showDetail:!1,showEdit:!1,isHigh:void 0,editForm:{taskID:void 0,cluster:"",module:"",taskTypeName:"",taskType:null,zone:"",concurrency:1,goalRatio:null,limitDPonDisk:null,limitMPonDstNode:null},editRules:{goalRatio:[{required:!0,message:"请输入阈值",trigger:"blur"}],limitDPonDisk:[{required:!0,message:"请输入最大迁出dp数/盘",trigger:"blur"}],limitMPonDstNode:[{required:!0,message:"请输入目标节点mp上限",trigger:"blur"}]},taskDetail:{statusName:"",srcNodesInfo:[],dstNodesInfo:[]},infos:{},isShowRatio:!1,ipRatio:[]}},watch:{},filters:{formatStatus:function(t){switch(t){case 1:return"已完成";case 2:return"迁移中";case 3:return"停止"}}},methods:{init:function(){var t=this;return(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.queryCluster();case 2:t.queryModule(),t.queryTypeList(),t.queryZoneList(),t.queryStatusList(),t.queryList();case 7:case"end":return e.stop()}}),e)})))()},changeCluster:function(){this.query.module=void 0,this.query.zone=void 0,this.query.taskType=void 0,this.query.status=void 0,this.queryModule(),this.queryTypeList(),this.queryZoneList(),this.queryStatusList()},changeFormCluster:function(){this.queryZoneList("form"),this.addForm1.zone=void 0},handleSizeChange:function(t){this.page.pageSize=t,this.queryList()},handleCurrentChange:function(t){this.page.pageNo=t,this.queryList()},addTask:function(){this.showAdd=!0,this.$refs["addForm"]&&this.$refs["addForm"].resetFields()},queryList:function(t){var e=this;this.$refs.form.validate((function(o){if(o){var s={page:t&&"reset"==t?1:Number(e.page.pageNo),pageSize:t&&"reset"==t?10:Number(e.page.pageSize)};Object.assign(s,e.query),s.status=Number(s.status),s.taskType=Number(s.taskType),e.apollo.query(e.url.consoleSchedule,r.Z.rebalanceList,s).then((function(t){t.data?(e.list=t.data.rebalanceList.data?t.data.rebalanceList.data:[],e.page.totalRecord=t.data.rebalanceList.total):e.$message.error(t)})).catch((function(t){e.$message.error(t)}))}}))},queryCluster:function(){var t=this,e={name:"cluster"};return new Promise((function(o,s){t.apollo.query(t.url.consoleSchedule,r.Z.dropdownList,e).then((function(e){e.data?(t.clusterList=e.data.dropdownList?e.data.dropdownList:[],t.query.cluster=e.data.dropdownList.length>0?e.data.dropdownList[0].opCode:void 0):t.$message.error(e),o(e.data.dropdownList)})).catch((function(e){t.$message.error(e),s(e)}))}))},queryModule:function(){var t=this,e={name:"module",cluster:this.query.cluster};this.apollo.query(this.url.consoleSchedule,r.Z.dropdownList,e).then((function(e){e.data?t.moduleList=e.data.dropdownList?e.data.dropdownList:[]:t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},queryTypeList:function(){var t=this,e={name:"taskType",cluster:this.query.cluster};this.apollo.query(this.url.consoleSchedule,r.Z.dropdownList,e).then((function(e){e.data?t.typeList=e.data.dropdownList?e.data.dropdownList:[]:t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},queryZoneList:function(t){var e=this,o={name:"zone",cluster:t&&"form"==t?this.addForm.cluster:this.query.cluster};this.apollo.query(this.url.consoleSchedule,r.Z.dropdownList,o).then((function(o){o.data?t&&"form"==t?e.formZoneList=o.data.dropdownList?o.data.dropdownList:[]:e.zoneList=o.data.dropdownList?o.data.dropdownList:[]:(e.$message.error(o),t&&"form"==t?(e.formZoneList=[],e.addForm1.zone=void 0):(e.zoneList=[],e.query.zone=void 0))})).catch((function(t){e.$message.error(t)}))},queryStatusList:function(){var t=this,e={name:"status",cluster:this.query.cluster};this.apollo.query(this.url.consoleSchedule,r.Z.dropdownList,e).then((function(e){e.data?t.statusList=e.data.dropdownList?e.data.dropdownList:[]:t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},addNodeList:function(t){this.showSelectNode=!0,this.$refs["selectForm"]&&this.$refs["selectForm"].resetFields(),this.isHigh=1==t},changeType:function(t){this.$refs["addForm1"].resetFields(),this.addForm1.srcNodes="",this.addForm1.dstNodes="",this.addForm1.volList=[]},changeHigh:function(){this.queryIps(),this.selectForm.ips=[],this.selectForm.ipList=[]},queryIps:function(){var t=this;this.selectForm.ips=[];var e={cluster:this.addForm.cluster,module:this.addForm.module};this.isHigh?e["highRatio"]=this.selectForm.highRatio:e["lowRatio"]=this.selectForm.highRatio,e["zone"]=this.selectForm.zone,this.selectForm.zone&&""!=this.selectForm.zone&&this.apollo.query(this.url.consoleSchedule,r.Z.getNodeUsage,e).then((function(e){e.data?t.ipList=e.data.getNodeUsage?e.data.getNodeUsage.nodes:[]:t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},submitIps:function(){var t=this;this.$refs.selectForm.validate((function(e){e&&(t.isHigh&&(t.addForm1.srcNodes=t.selectForm.ips.join(",")),t.isHigh||(t.addForm1.dstNodes=t.selectForm.ips.join(",")),t.$refs["selectForm"].resetFields(),t.showSelectNode=!1)}))},submitTask:function(){var t=this,e={zone:this.addForm1.zone,highRatio:this.addForm1.highRatio,lowRatio:this.addForm1.lowRatio,goalRatio:this.addForm1.goalRatio,limitDPonDisk:this.addForm1.limitDPonDisk,limitMPonDstNode:this.addForm1.limitMPonDstNode};Object.assign(e,this.addForm),this.apollo.mutation(this.url.consoleSchedule,r.Z.createRebalanceTask,e).then((function(e){200==e.code?(t.showAdd=!1,t.$message.success("操作成功！")):t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},submitNodeTask:function(){var t=this,e={srcNodeList:this.addForm1.srcNodes.split(","),dstNodeList:this.addForm1.dstNodes.split(","),limitDPonDisk:this.addForm1.limitDPonDisk,limitMPonDstNode:this.addForm1.limitMPonDstNode,volList:this.addForm1.volList,outRatio:this.addForm1.outRatio};Object.assign(e,this.addForm),this.apollo.mutation(this.url.consoleSchedule,r.Z.createNodeMigrateTask,e).then((function(e){200==e.code?(t.showAdd=!1,t.$message.success("操作成功！")):t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},validForm:function(t){var e=this;return new Promise((function(o,s){e.$refs[t].validate((function(t){return t?(o(!0),!0):(o(!1),!1)}))}))},submit:function(){var t=this;return(0,n.Z)((0,i.Z)().mark((function e(){var o,s;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.validForm("addForm");case 2:return o=e.sent,e.next=5,t.validForm("addForm1");case 5:s=e.sent,o&&s&&(1==t.addForm.taskType&&t.submitTask(),2==t.addForm.taskType&&t.submitNodeTask(),t.queryList("reset"));case 7:case"end":return e.stop()}}),e)})))()},stopBalance:function(t){this.showStop=!0,this.detail=t},doStop:function(){var t=this,e={cluster:this.detail.cluster,taskID:this.detail.taskID};this.apollo.mutation(this.url.consoleSchedule,r.Z.stopRebalanceTask,e).then((function(e){e.data?(t.showStop=!1,t.queryList("reset")):t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},goDetail:function(t){this.infos=t,this.showDetail=!0,this.getDetail(t.taskID)},getDetail:function(t){var e=this,o={taskID:Number(t)};this.apollo.query(this.url.consoleSchedule,r.Z.queryTaskStatus,o).then((function(t){t.data?t.data.queryTaskStatus&&(e.taskDetail=t.data.queryTaskStatus):(e.taskDetail={statusName:"",srcNodesInfo:[],dstNodesInfo:[]},e.$message.error(t))})).catch((function(t){e.$message.error(t)}))},edit:function(t){this.showEdit=!0,this.$refs["editForm"]&&this.$refs["editForm"].resetFields(),this.editForm.cluster=t.cluster,this.editForm.module=t.module,this.editForm.taskID=t.taskID,this.editForm.taskType=t.taskType,this.editForm.taskTypeName=1==t.taskType?"zone自动均衡":"节点迁移",this.editForm.zone=t.zone,this.editForm.concurrency=t.concurrency,this.editForm.goalRatio=t.goalRatio,this.editForm.limitDPonDisk=t.limitDPonDisk,this.editForm.limitMPonDstNode=t.limitMPonDstNode},submitEdit:function(){var t=this;this.$refs.editForm.validate((function(e){e&&t.apollo.mutation(t.url.consoleSchedule,r.Z.resetControlRebalanceTask,t.editForm).then((function(e){200==e.code?(t.showEdit=!1,t.$message.success("操作成功！"),t.queryList("reset")):t.$message.error(e)})).catch((function(e){t.$message.error(e)}))}))},showRatio:function(){this.isShowRatio=!0,this.getIpRatio()},getIpRatio:function(){var t=this,e={cluster:this.addForm.cluster,module:this.addForm.module};e["zone"]=this.addForm1.zone,this.apollo.query(this.url.consoleSchedule,r.Z.getNodeUsage,e).then((function(e){e.data?(t.ipInfos.avgUsageRatio=e.data.getNodeUsage?e.data.getNodeUsage.avgUsageRatio:void 0,t.ipInfos.avgPartitionCnt=e.data.getNodeUsage?e.data.getNodeUsage.avgPartitionCnt:void 0,t.ipRatio=e.data.getNodeUsage?e.data.getNodeUsage.nodes:[]):t.$message.error(e)})).catch((function(e){t.$message.error(e)}))},searchVol:function(t){""!=t&&this.queryVolumeList(t,"list")},queryVolumeList:function(t){var e=this,o={keywords:t,cluster:this.addForm.cluster};o.cluster&&""!=o.cluster&&this.apollo.query(this.url.volume,r.Z.queryVolList,o).then((function(t){t.data?e.volList=t.data.volList||[]:e.$Message.error(t)})).catch((function(t){e.$Message.error(t)}))},selectAll:function(){this.addForm1.volList=JSON.parse(JSON.stringify(this.volList))},delAll:function(){this.addForm1.volList=[]},selectIpsAll:function(){this.selectForm.ips=JSON.parse(JSON.stringify(this.ipList))},delIpsAll:function(){this.selectForm.ips=[]}},mounted:function(){this.init()}},d=l,c=o(1001),u=(0,c.Z)(d,s,a,!1,null,null,null),m=u.exports},6203:function(t,e,o){var s=o(79989),a=o(68844),i=o(94413),n=o(65290),r=o(16834),l=a([].join),d=i!==Object,c=d||!r("join",",");s({target:"Array",proto:!0,forced:c},{join:function(t){return l(n(this),void 0===t?",":t)}})}}]);