"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[446],{98288:function(e,t,a){var n,o,r,s,i,l,d,u,c,m,p,h,v,f,g,b,$,S,D,_,w,y,F,R=a(2106),C=a(4969),k={queryServerList:(0,C.ZP)(n||(n=(0,R.Z)(["\n    query dataNodeListTest($num: int64) {\n      dataNodeListTest(num: $num) {\n        addr\n        availableSpace\n        #      badDisks\n        carry\n        dataPartitionCount\n        #      dataPartitionReports\n        iD\n        nodeSetID\n        #      persistenceDataPartitions\n        reportTime\n        selectedTimes\n        total\n        usageRatio\n        used\n        zoneName\n      }\n    }\n  "]))),serverManagementList:(0,C.ZP)(o||(o=(0,R.Z)(["\n    query clusterView {\n      clusterView {\n        name\n        dataNodes {\n          addr\n          reportDisks\n          status\n          isWritable\n          toDataNode {\n            zoneName\n            used\n            total\n            usageRatio\n            badDisks\n          }\n        }\n        metaNodes {\n          addr\n          status\n          isWritable\n          toMetaNode {\n            zoneName\n            used\n            total\n            ratio\n          }\n        }\n      }\n    }\n  "]))),queryVolList:(0,C.ZP)(r||(r=(0,R.Z)(["\n  query volList($cluster:String,$keywords:String){\n    volList(cluster: $cluster,keywords:$keywords)\n  }\n  "]))),queryVolumeList:(0,C.ZP)(s||(s=(0,R.Z)(["\n    query listVolume($keyword: String, $userID: String) {\n      listVolume(keyword: $keyword, userID: $userID) {\n        name\n        capacity\n        occupied\n        dpReplicaNum\n        owner\n        createTime\n        oSSAccessKey\n        oSSSecretKey\n        inodeCount\n        toSimpleVolView {\n          description\n          dpCnt\n          mpCnt\n          rwDpCnt\n        }\n        status\n      }\n    }\n  "]))),createVolume:(0,C.ZP)(i||(i=(0,R.Z)(["\n    mutation createVolume(\n      $authenticate: Bool\n      $capacity: Uint64\n      $crossZone: Bool\n      $dataPartitionSize: Uint64\n      $dpReplicaNum: Uint64\n      $enableToken: Bool\n      $followerRead: Bool\n      $mpCount: Uint64\n      $name: String\n      $owner: String\n      $zoneName: String\n      $description: String\n    ) {\n      createVolume(\n        authenticate: $authenticate\n        capacity: $capacity\n        crossZone: $crossZone\n        dataPartitionSize: $dataPartitionSize\n        dpReplicaNum: $dpReplicaNum\n        enableToken: $enableToken\n        followerRead: $followerRead\n        mpCount: $mpCount\n        name: $name\n        owner: $owner\n        zoneName: $zoneName\n        description: $description\n      ) {\n        name\n      }\n    }\n  "]))),updateVolume:(0,C.ZP)(l||(l=(0,R.Z)(["\n    mutation updateVolume(\n      $authKey: String\n      $capacity: Uint64\n      $enableToken: Bool\n      $name: String\n      $replicaNum: Uint64\n      $zoneName: String\n      $description: String\n    ) {\n      updateVolume(\n        authKey: $authKey\n        capacity: $capacity\n        enableToken: $enableToken\n        name: $name\n        replicaNum: $replicaNum\n        zoneName: $zoneName\n        description: $description\n      ) {\n        name\n        capacity\n      }\n    }\n  "]))),deleteVolume:(0,C.ZP)(d||(d=(0,R.Z)(["\n    mutation deleteVolume($authKey: String, $name: String) {\n      deleteVolume(authKey: $authKey, name: $name) {\n        code\n        message\n      }\n    }\n  "]))),queryPermissionList:(0,C.ZP)(u||(u=(0,R.Z)(["\n    query volPermission($volName: String, $userID: String) {\n      volPermission(volName: $volName, userID: $userID) {\n        userID\n        access\n      }\n    }\n  "]))),grantPermission:(0,C.ZP)(c||(c=(0,R.Z)(["\n    mutation updateUserPolicy(\n      $policy: Array\n      $userID: String\n      $volume: String\n    ) {\n      updateUserPolicy(policy: $policy, userID: $userID, volume: $volume) {\n        user_id\n      }\n    }\n  "]))),deletePermission:(0,C.ZP)(m||(m=(0,R.Z)(["\n    mutation removeUserPolicy($userID: String, $volume: String) {\n      removeUserPolicy(userID: $userID, volume: $volume) {\n        user_id\n      }\n    }\n  "]))),decommissionDataNode:(0,C.ZP)(p||(p=(0,R.Z)(["\n    mutation decommissionDataNode($offLineAddr: String) {\n      decommissionDataNode(offLineAddr: $offLineAddr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionMetaNode:(0,C.ZP)(h||(h=(0,R.Z)(["\n    mutation decommissionMetaNode($offLineAddr: String) {\n      decommissionMetaNode(offLineAddr: $offLineAddr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDisk:(0,C.ZP)(v||(v=(0,R.Z)(["\n    mutation decommissionDisk($offLineAddr: String, $diskPath: String) {\n      decommissionDisk(offLineAddr: $offLineAddr, diskPath: $diskPath) {\n        code\n        message\n      }\n    }\n  "]))),queryMetaPartitionList:(0,C.ZP)(f||(f=(0,R.Z)(["\n    query metaPartitionList {\n      metaPartitionList {\n        partitionID\n        dentryCount\n        start\n        end\n        hosts\n        volName\n        inodeCount\n        isRecover\n        maxInodeID\n        partitionID\n        peers {\n          iD\n          addr\n        }\n        replicaNum\n        status\n        missNodes\n      }\n    }\n  "]))),queryDataPartitionList:(0,C.ZP)(g||(g=(0,R.Z)(["\n    query dataPartitionList {\n      dataPartitionList {\n        partitionID\n        hosts\n        peers {\n          iD\n          addr\n        }\n        replicaNum\n        lastLoadedTime\n        status\n        missNodes\n        volName\n      }\n    }\n  "]))),queryMetaNodeAddrList:(0,C.ZP)(b||(b=(0,R.Z)(["\n    query clusterView {\n      clusterView {\n        metaNodes {\n          addr\n          isWritable\n          status\n          toMetaNode {\n            metaPartitionCount\n            total\n            used\n          }\n        }\n      }\n    }\n  "]))),queryDataNodeAddrList:(0,C.ZP)($||($=(0,R.Z)(["\n    query clusterView {\n      clusterView {\n        dataNodes {\n          addr\n          isWritable\n          status\n          toDataNode {\n            dataPartitionCount\n            total\n            used\n          }\n        }\n      }\n    }\n  "]))),addMetaReplica:(0,C.ZP)(S||(S=(0,R.Z)(["\n    mutation addMetaReplica($addr: String, $partitionID: int64) {\n      addMetaReplica(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "]))),deleteMetaReplica:(0,C.ZP)(D||(D=(0,R.Z)(["\n    mutation deleteMetaReplica($addr: String, $partitionID: int64) {\n      deleteMetaReplica(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "]))),decommissionMetaPartition:(0,C.ZP)(_||(_=(0,R.Z)(["\n    mutation decommissionMetaPartition($addr: String, $partitionID: int64) {\n      decommissionMetaPartition(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "]))),addDataReplica:(0,C.ZP)(w||(w=(0,R.Z)(["\n    mutation addDataReplica($addr: String, $partitionID: int64) {\n      addDataReplica(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "]))),deleteDataReplica:(0,C.ZP)(y||(y=(0,R.Z)(["\n    mutation deleteDataReplica($addr: String, $partitionID: int64) {\n      deleteDataReplica(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataPartition:(0,C.ZP)(F||(F=(0,R.Z)(["\n    mutation decommissionDataPartition($addr: String, $partitionID: int64) {\n      decommissionDataPartition(addr: $addr, partitionID: $partitionID) {\n        code\n        message\n      }\n    }\n  "])))};t.Z=k},73586:function(e,t,a){var n,o,r,s,i,l,d,u,c,m,p,h,v,f,g,b,$,S,D,_,w,y,F,R,C,k,N,M,P,x,L,Z,A,z,q,T,I,E,V,O,G,W,B,U,K,Y=a(2106),J=a(4969),j={queryExpandAll:(0,J.ZP)(n||(n=(0,Y.Z)(["\n    query {\n      clusterView {\n        name\n        volumeCount\n      }\n      dataNodeList {\n        addr\n      }\n      metaNodeList {\n        addr\n      }\n      masterList {\n        addr\n      }\n    }\n  "]))),rdmaNodeView:(0,J.ZP)(o||(o=(0,Y.Z)(["\n    query rdmaNodeView($cluster: String, $addr: String) {\n      rdmaNodeView(cluster: $cluster, addr: $addr) {\n        nodeRDMAConf {\n          slaveName\n          fWVersion\n          driverVersion\n          vendor\n        }\n        nodeRDMAStatus {\n          pod\n          clusterRDMAEnable\n          clusterRDMASend\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n          enableSend\n          nodeCount\n          permanentClosedCount\n        }\n        connNodes {\n          addr\n          enableConn\n          permanentClosed\n          errConnCount\n          reConnTime\n        }\n      }\n    }\n  "]))),flashGroupList:(0,J.ZP)(r||(r=(0,Y.Z)(["\n    query flashGroupList($cluster: String, $page: int32, $pageSize: int32) {\n      flashGroupList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          iD\n          status\n          flashNodeCount\n        }\n      }\n    }\n  "]))),getFlashGroup:(0,J.ZP)(s||(s=(0,Y.Z)(["\n    query getFlashGroup($cluster: String, $iD: int32) {\n      getFlashGroup(cluster: $cluster, iD: $iD) {\n        host\n        zone {\n          zoneName\n          nodeNumber\n        }\n      }\n    }\n  "]))),zoneList:(0,J.ZP)(i||(i=(0,Y.Z)(["\n    query zoneList($cluster: String) {\n      zoneList(cluster: $cluster)\n    }\n  "]))),createFlashGroup:(0,J.ZP)(l||(l=(0,Y.Z)(["\n    mutation createFlashGroup($cluster: String) {\n      createFlashGroup(cluster: $cluster) {\n        iD\n      }\n    }\n  "]))),updateFlashGroup:(0,J.ZP)(d||(d=(0,Y.Z)(["\n    mutation updateFlashGroup(\n      $cluster: String\n      $iD: int32\n      $isActive: bool\n      $isAddNode: bool\n      $level: int\n      $addr: String\n      $zone: String\n      $count: int\n    ) {\n      updateFlashGroup(\n        cluster: $cluster\n        iD: $iD\n        isActive: $isActive\n        isAddNode: $isAddNode\n        level: $level\n        addr: $addr\n        zone: $zone\n        count: $count\n      )\n    }\n  "]))),removeFlashGroup:(0,J.ZP)(u||(u=(0,Y.Z)(["\n    mutation removeFlashGroup($cluster: String, $iD: int32) {\n      removeFlashGroup(cluster: $cluster, iD: $iD)\n    }\n  "]))),masterList:(0,J.ZP)(c||(c=(0,Y.Z)(["\n    query masterList($cluster: String, $page: int32, $pageSize: int32) {\n      masterList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          addr\n          isLeader\n        }\n      }\n    }\n  "]))),metaNodeList:(0,J.ZP)(m||(m=(0,Y.Z)(["\n    query metaNodeList(\n      $cluster: String\n      $zone: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaNodeList(\n        cluster: $cluster\n        zone: $zone\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          used\n          usageRatio\n          partitionCount\n          reportTime\n          isRDMA\n          pod\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n        }\n      }\n    }\n  "]))),dataNodeList:(0,J.ZP)(p||(p=(0,Y.Z)(["\n    query dataNodeList(\n      $cluster: String\n      $zone: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataNodeList(\n        cluster: $cluster\n        zone: $zone\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          disk\n          used\n          usageRatio\n          partitionCount\n          reportTime\n          isRDMA\n          pod\n          nodeRDMAService\n          nodeRDMASend\n          nodeRDMARecv\n        }\n      }\n    }\n  "]))),flashNodeList:(0,J.ZP)(h||(h=(0,Y.Z)(["\n    query flashNodeList(\n      $cluster: String\n      $addr: String\n      $fgID: int\n      $page: int32\n      $pageSize: int32\n    ) {\n      flashNodeList(\n        cluster: $cluster\n        addr: $addr\n        fgID: $fgID\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          reportTime\n          flashGroupID\n          isEnable\n          nodeLimit\n          hitRate\n          evicts\n        }\n      }\n    }\n  "]))),queryMetaList:(0,J.ZP)(v||(v=(0,Y.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        metaNodes {\n          addr # serverIP\n          status # status\n          iD\n          toMetaNode {\n            zoneName # idc\n            metaPartitionCount\n            used\n            total\n            ratio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),queryDataList:(0,J.ZP)(f||(f=(0,Y.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),updateFlashNode:(0,J.ZP)(g||(g=(0,Y.Z)(["\n    mutation updateFlashNode($cluster: String, $addr: String, $isEnable: bool) {\n      updateFlashNode(cluster: $cluster, addr: $addr, isEnable: $isEnable)\n    }\n  "]))),setConnEnable:(0,J.ZP)(b||(b=(0,Y.Z)(["\n    mutation setConnEnable(\n      $cluster: String\n      $addr: String\n      $addrList: list\n      $enableConn: bool\n      $reason: String\n      $nodeType: String\n    ) {\n      setConnEnable(\n        cluster: $cluster\n        addr: $addr\n        addrList: $addrList\n        reason: $reason\n        enableConn: $enableConn\n        nodeType: $nodeType\n      )\n    }\n  "]))),setSendEnable:(0,J.ZP)($||($=(0,Y.Z)(["\n    mutation setSendEnable(\n      $cluster: String\n      $addr: String\n      $enableSend: bool\n      $reason: String\n      $nodeType: String\n    ) {\n      setSendEnable(\n        cluster: $cluster\n        addr: $addr\n        reason: $reason\n        enableSend: $enableSend\n        nodeType: $nodeType\n      )\n    }\n  "]))),setNodeRdmaConf:(0,J.ZP)(S||(S=(0,Y.Z)(["\n    mutation setNodeRdmaConf(\n      $cluster: String\n      $addr: String\n      $pod: String\n      $nodeRDMAService: bool\n      $nodeRDMASend: bool\n      $nodeRDMARecv: bool\n      $nodeType: String\n    ) {\n      setNodeRdmaConf(\n        cluster: $cluster\n        addr: $addr\n        pod: $pod\n        nodeRDMAService: $nodeRDMAService\n        nodeRDMASend: $nodeRDMASend\n        nodeRDMARecv: $nodeRDMARecv\n        nodeType: $nodeType\n      )\n    }\n  "]))),setPingSortFlashNode:(0,J.ZP)(D||(D=(0,Y.Z)(["\n    mutation setPingSortFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setPingSortFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setStackReadFlashNode:(0,J.ZP)(_||(_=(0,Y.Z)(["\n    mutation setStackReadFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setStackReadFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setTimeoutFlashNode:(0,J.ZP)(w||(w=(0,Y.Z)(["\n    mutation setTimeoutFlashNode(\n      $cluster: String\n      $addr: String\n      $timeoutMs: int\n    ) {\n      setTimeoutFlashNode(cluster: $cluster, addr: $addr, timeoutMs: $timeoutMs)\n    }\n  "]))),evictCacheFlashNode:(0,J.ZP)(y||(y=(0,Y.Z)(["\n    mutation evictCacheFlashNode(\n      $cluster: String\n      $addr: String\n      $level: int\n      $volume: String\n      $inode: int\n    ) {\n      evictCacheFlashNode(\n        cluster: $cluster\n        addr: $addr\n        level: $level\n        volume: $volume\n        inode: $inode\n      )\n    }\n  "]))),decommissionMetaNode:(0,J.ZP)(F||(F=(0,Y.Z)(["\n    mutation decommissionMetaNode($cluster: String, $addr: String) {\n      decommissionMetaNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionFlashNode:(0,J.ZP)(R||(R=(0,Y.Z)(["\n    mutation decommissionFlashNode($cluster: String, $addr: String) {\n      decommissionFlashNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataNode:(0,J.ZP)(C||(C=(0,Y.Z)(["\n    mutation decommissionDataNode($cluster: String, $addr: String) {\n      decommissionDataNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDisk:(0,J.ZP)(k||(k=(0,Y.Z)(["\n    mutation decommissionDisk(\n      $cluster: String\n      $addr: String\n      $diskPath: String\n    ) {\n      decommissionDisk(cluster: $cluster, addr: $addr, diskPath: $diskPath) {\n        code\n        message\n      }\n    }\n  "]))),decommissionMetaPartition:(0,J.ZP)(N||(N=(0,Y.Z)(["\n    mutation decommissionMetaPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataPartition:(0,J.ZP)(M||(M=(0,Y.Z)(["\n    mutation decommissionDataPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionDataPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),promoteMetaLearner:(0,J.ZP)(P||(P=(0,Y.Z)(["\n    mutation promoteMetaLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteMetaLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteMetaReplica:(0,J.ZP)(x||(x=(0,Y.Z)(["\n    mutation deleteMetaReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteMetaReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteDataReplica:(0,J.ZP)(L||(L=(0,Y.Z)(["\n    mutation deleteDataReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteDataReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),promoteDataLearner:(0,J.ZP)(Z||(Z=(0,Y.Z)(["\n    mutation promoteDataLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteDataLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),addMetaReplica:(0,J.ZP)(A||(A=(0,Y.Z)(["\n    mutation addMetaReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n    ) {\n      addMetaReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataReplica:(0,J.ZP)(z||(z=(0,Y.Z)(["\n    mutation addDataReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $replicaType: int32\n    ) {\n      addDataReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        replicaType: $replicaType\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addMetaLearner:(0,J.ZP)(q||(q=(0,Y.Z)(["\n    mutation addMetaLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addMetaLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataLearner:(0,J.ZP)(T||(T=(0,Y.Z)(["\n    mutation addDataLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addDataLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadMetaPartition:(0,J.ZP)(I||(I=(0,Y.Z)(["\n    mutation reloadMetaPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadDataPartition:(0,J.ZP)(E||(E=(0,Y.Z)(["\n    mutation reloadDataPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadDataPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),resetMetaPartition:(0,J.ZP)(V||(V=(0,Y.Z)(["\n    mutation resetMetaPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetMetaPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),resetDataPartition:(0,J.ZP)(O||(O=(0,Y.Z)(["\n    mutation resetDataPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetDataPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),dataPartitionList:(0,J.ZP)(G||(G=(0,Y.Z)(["\n    query dataPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            zone\n            isLeader\n            isLearner\n            fileCount\n            total\n            needCompare\n            used\n            mType\n            diskPath\n          }\n          volName\n          extentCount\n          inodeCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),metaPartitionList:(0,J.ZP)(W||(W=(0,Y.Z)(["\n    query metaPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            isLeader\n            isLearner\n            storeMode\n            isRecover\n            applyId\n            reportTime\n          }\n          volName\n          start\n          end\n          inodeCount\n          dentryCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),dataNodeGet:(0,J.ZP)(B||(B=(0,Y.Z)(["\n    query DataNodeGet($cluster: String, $addr: String) {\n      dataNodeGet(cluster: $cluster, addr: $addr) {\n        dataPartitionReports {\n          diskPath\n          extentCount\n          isLeader\n          needCompare\n          partitionID\n          partitionStatus\n          total\n          used\n          volName\n        }\n      }\n    }\n  "]))),metaNodeGet:(0,J.ZP)(U||(U=(0,Y.Z)(["\n    query MetaNodeGet($cluster: String, $addr: String) {\n      metaNodeGet(cluster: $cluster, addr: $addr) {\n        metaPartitionInfos {\n          end\n          isLeader\n          maxInodeID\n          partitionID\n          start\n          status\n          volName\n        }\n      }\n    }\n  "]))),queryServerList:(0,J.ZP)(K||(K=(0,Y.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n          }\n        }\n      }\n    }\n  "])))};t.Z=j},85353:function(e,t,a){a.d(t,{BU:function(){return i},LR:function(){return l},Ox:function(){return n},mr:function(){return o}});a(52003),a(68518),a(64043),a(13440),a(12826),a(57267),a(97389);function n(){if(0===arguments.length)return null;for(var e=arguments[0],t=1;t<arguments.length;t++){var a=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(a,arguments[t])}return e}function o(e,t){if(0===e)return"0 ns";if(e>6e7){var a=["min","h"],n=6e7,o=parseInt(e/n),r=o>60?1:0;return t?o+" "+a[r]:o}var s=["ns","μs","ms","s"],i=1e3,l=Math.floor(Math.log(e)/Math.log(i)),d=parseInt(e/Math.pow(i,l));return t?d+" "+s[l]:d}var r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=["iB","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];function i(e,t){if(0===e)return"0 Bytes";var a=2===t?s:r,n=2===t?1024:1e3,o=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,o)).toFixed(3))+" "+a[o]}function l(e){return 1==e?"ReadOnly":2==e?"ReadWrite":"Unavailable"}},94446:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"operations"},[t("crumb",{attrs:{crumbInfo:e.$t("chubaoFS.servers.ServerList")}}),e._v(" "),t("el-card",{staticClass:"box-card"},[t("cluster",{on:{refresh:e.initPage}})],1),e._v(" "),t("el-tabs",{staticClass:"pt20",attrs:{type:"card"},on:{change:e.changeTabs},model:{value:e.operationsSelect,callback:function(t){e.operationsSelect=t},expression:"operationsSelect"}},[t("el-tab-pane",{attrs:{label:e.$t("chubaoFS.servers.Master"),name:"Master"}},[t("div",{staticClass:"operation-container"},[t("master",{ref:"master"})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:e.$t("chubaoFS.servers.Matanode"),name:"Matanode"}},[t("div",{staticClass:"operation-container"},[t("metanode",{ref:"matanode"})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:e.$t("chubaoFS.servers.Datanode"),name:"Datanode"}},[t("div",{staticClass:"operation-container"},[t("datanode",{ref:"datanode"})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"缓存节点",name:"Cookienode"}},[t("div",{staticClass:"operation-container"},[t("cookienode",{ref:"cookienode"})],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"FG管理",name:"FGConfig"}},[t("div",{staticClass:"operation-container"},[t("fg-config",{ref:"fgConfig"})],1)])],1)],1)},o=[],r=(a(70560),function(){var e=this,t=e._self._c;return t("div",{staticClass:"alarm"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"addr",label:e.$t("chubaoFS.servers.Address")}}),e._v(" "),t("el-table-column",{attrs:{prop:"isLeader",label:e.$t("chubaoFS.servers.Leader")},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isLeader))])]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1)])}),s=[],i=a(73586),l={name:"alarm",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this;if(this.$route.query.clusterName&&""!=this.$route.query.clusterName){e.resData.loading=!0,e.resData.resLists=[];var t={page:e.resData.page.pageNo,cluster:this.$route.query.clusterName,pageSize:e.resData.page.pageSize};this.apollo.query(this.url.consoleCluster,i.Z.masterList,t).then((function(t){if(e.resData.loading=!1,t&&t.data){var a=t.data.masterList;e.resData.resLists=a.data||[],e.resData.page.totalRecord=a.total}})).catch((function(t){e.resData.loading=!1,e.resData.list=[],console.log(t)}))}}},mounted:function(){this.queryList()}},d=l,u=a(1001),c=(0,u.Z)(d,r,s,!1,null,"de5cfec8",null),m=c.exports,p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"mb20"},[t("span",{},[e._v("地址：")]),e._v(" "),t("el-input",{staticStyle:{width:"255px"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),t("span",{staticClass:"pl10"},[e._v("zone：")]),e._v(" "),t("el-select",{attrs:{clearable:""},model:{value:e.zone,callback:function(t){e.zone=t},expression:"zone"}},e._l(e.zoneList,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v(" 查询")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"iD",label:"nodeID",width:"70",fixed:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"addr",label:"地址",width:"160",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"active",on:{click:function(t){return e.goServerDetail(a.row)}}},[e._v("\n            "+e._s(a.row.addr)+"\n          ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"zoneName",label:"zone"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isActive",label:"isActive"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isActive))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"isWritable",label:"可写"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isWritable))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"total",label:"总量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"available",label:"可用量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"used",label:"已使用"}}),e._v(" "),t("el-table-column",{attrs:{prop:"usageRatio",label:"使用率"}}),e._v(" "),t("el-table-column",{attrs:{prop:"partitionCount",label:"分片数"}}),e._v(" "),t("el-table-column",{attrs:{prop:"pod",label:"Pod"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMAService",label:"RDMA-发送-接收",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{},[e._v(e._s(a.row.nodeRDMAService)+"-"+e._s(a.row.nodeRDMASend)+"-"+e._s(a.row.nodeRDMARecv))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"reportTime",label:"汇报时间",width:"150px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作",width:"240",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"active",on:{click:function(t){return e.offLine(a.row)}}},[e._v("节点下线")]),e._v(" "),a.row.isRDMA?t("span",{staticClass:"active",on:{click:function(t){return e.rdma(a.row)}}},[e._v("| 节点RDMA配置")]):e._e(),e._v(" "),a.row.isRDMA?t("span",{staticClass:"active",on:{click:function(t){return e.detail(a.row)}}},[e._v("| 详情")]):e._e()]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}}),e._v(" "),t("el-dialog",{attrs:{title:"节点RDMA配置",visible:e.showRdma,width:"40%"},on:{"update:visible":function(t){e.showRdma=t}}},[t("el-form",{ref:"rdmaForm",staticClass:"normalForm",attrs:{model:e.rdmaForm,rules:e.rdmaRules}},[t("el-form-item",{attrs:{label:"地址：",prop:"addr","label-width":"100px",required:""}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:""},model:{value:e.rdmaForm.addr,callback:function(t){e.$set(e.rdmaForm,"addr",t)},expression:"rdmaForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"POD：",prop:"pod","label-width":"100px",required:""}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.rdmaForm.pod,callback:function(t){e.$set(e.rdmaForm,"pod",t)},expression:"rdmaForm.pod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"节点RDMA：",prop:"nodeRDMAService","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMAService,callback:function(t){e.$set(e.rdmaForm,"nodeRDMAService",t)},expression:"rdmaForm.nodeRDMAService"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"节点发送：",prop:"nodeRDMASend","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMASend,callback:function(t){e.$set(e.rdmaForm,"nodeRDMASend",t)},expression:"rdmaForm.nodeRDMASend"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"节点接收：",prop:"nodeRDMARecv","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMARecv,callback:function(t){e.$set(e.rdmaForm,"nodeRDMARecv",t)},expression:"rdmaForm.nodeRDMARecv"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showRdma=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRdma()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"详情",visible:e.showRemaDetail,width:"80%"},on:{"update:visible":function(t){e.showRemaDetail=t}}},[t("div",{staticClass:"pb20"},[t("span",{staticClass:"label"},[e._v("ID：")]),e._v(e._s(e.detail.iD)+"\n      "),t("span",{staticClass:"label pl20"},[e._v("地址：")]),e._v(e._s(e.detail.addr)+"\n    ")]),e._v(" "),t("div",{staticClass:"pb5 pt20"},[e._v("RDMA配置信息")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaConfig}},[t("el-table-column",{attrs:{prop:"fWVersion",label:"FWVersion"}}),e._v(" "),t("el-table-column",{attrs:{prop:"driverVersion",label:"驱动版本"}}),e._v(" "),t("el-table-column",{attrs:{prop:"vendor",label:"Vendor",width:"450"}}),e._v(" "),t("el-table-column",{attrs:{prop:"slaveName",label:"SlaveName"}})],1),e._v(" "),t("div",{staticClass:"pb5 pt20"},[e._v("状态信息")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaStatus}},[t("el-table-column",{attrs:{prop:"pod",label:"Pod"}}),e._v(" "),t("el-table-column",{attrs:{prop:"clusterRDMAEnable",label:"集群RDMA"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.clusterRDMAEnable))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"clusterRDMASend",label:"集群发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.clusterRDMASend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMAService",label:"节点RDMA"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMAService))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMASend",label:"节点发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMASend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMARecv",label:"节点接收"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMARecv))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"enableSend",label:"本端发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.enableSend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeCount",label:"NodeCount"}}),e._v(" "),t("el-table-column",{attrs:{prop:"permanentClosedCount",label:"永久关闭对端数量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return t("span",{staticClass:"active"},[t("span",{staticClass:"active",on:{click:function(t){return e.sendSwitch(a.row)}}},[e._v("本端发送开关")])])}}])})],1),e._v(" "),t("div",{staticClass:"pb5 pt20",staticStyle:{overflow:"hidden","line-height":"32px"}},[e._v("\n      对端RDMA节点列表\n      "),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.batchOtherSend()}}},[e._v("对端发送开关")])],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaConns,"max-height":"400"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),t("el-table-column",{attrs:{prop:"addr",label:"节点地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"enableConn",label:"对端发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.enableConn))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"permanentClosed",label:"永久关闭"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.permanentClosed))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"errConnCount",label:"错误连接次数"}}),e._v(" "),t("el-table-column",{attrs:{prop:"reConnTime",label:"重连时间"}})],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showRemaDetail=!1}}},[e._v("关 闭")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"批量对端发送",visible:e.showOtherSend,width:"40%"},on:{"update:visible":function(t){e.showOtherSend=t}}},[t("el-form",{ref:"otherSendForm",staticClass:"normalForm",attrs:{model:e.otherSendForm,rules:e.otherSendRules}},[t("el-form-item",{attrs:{label:"对端发送：",prop:"enableConn","label-width":"80px",required:""}},[t("el-radio-group",{model:{value:e.otherSendForm.enableConn,callback:function(t){e.$set(e.otherSendForm,"enableConn",t)},expression:"otherSendForm.enableConn"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"说明：",prop:"reason","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.otherSendForm.reason,callback:function(t){e.$set(e.otherSendForm,"reason",t)},expression:"otherSendForm.reason"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showOtherSend=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitOtherSend()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"本端发送开关",visible:e.showSendSwitch,width:"40%"},on:{"update:visible":function(t){e.showSendSwitch=t}}},[t("el-form",{ref:"sendForm",staticClass:"normalForm",attrs:{model:e.sendForm,rules:e.sendRules}},[t("el-form-item",{attrs:{label:"地址：",prop:"addr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:""},model:{value:e.detail.addr,callback:function(t){e.$set(e.detail,"addr",t)},expression:"detail.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"本端发送：",prop:"enableSend","label-width":"80px",required:""}},[t("el-radio-group",{model:{value:e.sendForm.enableSend,callback:function(t){e.$set(e.sendForm,"enableSend",t)},expression:"sendForm.enableSend"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"说明：",prop:"reason","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.sendForm.reason,callback:function(t){e.$set(e.sendForm,"reason",t)},expression:"sendForm.reason"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showSendSwitch=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitSendSwitch()}}},[e._v("确定")])],1)],1)],1)},h=[],v=a(3942),f=(a(50886),a(60228),a(12826),a(78985)),g=(a(85353),{name:"alarm",components:{password:f.Z},data:function(){var e;return e={showOtherSend:!1,otherSendForm:{enableConn:0,reason:""},otherSendRules:{},multipleSelection:[],sendForm:{enableSend:0,reason:""},sendRules:{},showSendSwitch:!1,showRemaDetail:!1,detail:{iD:void 0,addr:void 0}},(0,v.Z)(e,"showRemaDetail",!1),(0,v.Z)(e,"rdmaConfig",[]),(0,v.Z)(e,"rdmaStatus",[]),(0,v.Z)(e,"rdmaConns",[]),(0,v.Z)(e,"showRdma",!1),(0,v.Z)(e,"rdmaForm",{addr:"",pod:void 0,nodeRDMAService:!1,nodeRDMASend:!1,nodeRDMARecv:!1}),(0,v.Z)(e,"rdmaRules",{pod:[{required:!0,message:"请输入pod",trigger:"blur"}]}),(0,v.Z)(e,"zone",void 0),(0,v.Z)(e,"zoneList",[]),(0,v.Z)(e,"row",{}),(0,v.Z)(e,"resData",{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]}),(0,v.Z)(e,"typeVal",""),(0,v.Z)(e,"searchVal",null),e},methods:{init:function(){this.zone=void 0,this.queryList(),this.queryZoneList()},submitOtherSend:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"meta",addr:this.detail.addr,addrList:this.multipleSelection.map((function(e){return e.addr})),enableConn:!!this.otherSendForm.enableConn,reason:this.otherSendForm.reason};this.apollo.mutation(this.url.consoleCluster,i.Z.setConnEnable,t).then((function(t){200===t.code?(e.showOtherSend=!1,e.multipleSelection=[],e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.getRdmaDetail()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))},batchOtherSend:function(){0!=this.multipleSelection.length?this.showOtherSend=!0:this.$message.error("请选择数据！")},handleSelectionChange:function(e){this.multipleSelection=e},submitSendSwitch:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"meta",addr:this.detail.addr,enableSend:!!this.sendForm.enableSend,reason:this.sendForm.reason};this.apollo.mutation(this.url.consoleCluster,i.Z.setSendEnable,t).then((function(t){200===t.code?(e.showSendSwitch=!1,e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.getRdmaDetail()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))},sendSwitch:function(e){this.showSendSwitch=!0,this.sendForm.enableSend=e.enableSend?1:0},showDetail:function(e){this.detail.iD=e.iD,this.detail.addr=e.addr,this.showRemaDetail=!0,this.getRdmaDetail()},getRdmaDetail:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.detail.addr};this.apollo.query(this.url.consoleCluster,i.Z.rdmaNodeView,t).then((function(t){if(t.data&&t.data.rdmaNodeView){var a=t.data.rdmaNodeView||{};e.rdmaConfig=a.nodeRDMAConf?[a.nodeRDMAConf]:[],e.rdmaStatus=a.nodeRDMAStatus?[a.nodeRDMAStatus]:[],e.rdmaConns=a.connNodes||[]}else e.$message.error(t)})).catch((function(t){e.resData.loading=!1,e.$Message.error(t)}))},submitRdma:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"meta",addr:this.rdmaForm.addr,pod:this.rdmaForm.pod,nodeRDMAService:!!this.rdmaForm.nodeRDMAService,nodeRDMASend:!!this.rdmaForm.nodeRDMASend,nodeRDMARecv:!!this.rdmaForm.nodeRDMARecv};this.$refs.rdmaForm.validate((function(a){a&&e.apollo.mutation(e.url.consoleCluster,i.Z.setNodeRdmaConf,t).then((function(t){200===t.code?(e.showRdma=!1,e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))}))},rdma:function(e){this.showRdma=!0,this.rdmaForm.addr=e.addr,this.rdmaForm.pod=e.pod,this.rdmaForm.nodeRDMAService=e.nodeRDMAService?1:0,this.rdmaForm.nodeRDMASend=e.nodeRDMASend?1:0,this.rdmaForm.nodeRDMARecv=e.nodeRDMARecv?1:0},queryZoneList:function(e){var t=this,a={cluster:this.$route.query.clusterName};this.apollo.query(this.url.consoleCluster,i.Z.zoneList,a).then((function(e){e.data?t.zoneList=e.data.zoneList:t.$message.error(e)})).catch((function(e){t.resData.loading=!1,t.$Message.error(e)}))},handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this,t=this;if(this.$route.query.clusterName&&""!=this.$route.query.clusterName){t.resData.loading=!0,t.resData.resLists=[];var a={addr:t.searchVal,zone:t.zone,page:t.resData.page.pageNo,cluster:this.$route.query.clusterName,pageSize:t.resData.page.pageSize};this.apollo.query(this.url.consoleCluster,i.Z.metaNodeList,a).then((function(a){if(t.resData.loading=!1,a&&a.data){var n=a.data.metaNodeList;t.resData.resLists=n.data||[],t.resData.page.totalRecord=n.total}else t.resData.resLists=[],t.resData.page.totalRecord=0,e.$message.error(a||"系统异常！")})).catch((function(e){t.resData.loading=!1,t.resData.list=[],console.log(e)}))}},validPassWord:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.row.addr.toString()};this.apollo.mutation(this.url.consoleCluster,i.Z.decommissionMetaNode,t).then((function(t){0===t.data.decommissionMetaNode.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))},offLine:function(e){this.$refs["password"].showPassWord(),this.row=e},goServerDetail:function(e){this.$router.push({name:"metanodeSplit",query:{clusterName:this.$route.query.clusterName,addr:e.addr,type:"Matanode"}})}},mounted:function(){this.init()}}),b=g,$=(0,u.Z)(b,p,h,!1,null,"3d5af193",null),S=$.exports,D=(a(28436),function(){var e=this,t=e._self._c;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"mb20"},[t("span",{},[e._v("地址：")]),e._v(" "),t("el-input",{staticStyle:{width:"255px"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),t("span",{staticClass:"pl10"},[e._v("zone：")]),e._v(" "),t("el-select",{attrs:{clearable:""},model:{value:e.zone,callback:function(t){e.zone=t},expression:"zone"}},e._l(e.zoneList,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("查询")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"iD",label:"nodeID",width:"70",fixed:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"addr",label:"地址",width:"160",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"active",on:{click:function(t){return e.goServerDetail(a.row)}}},[e._v("\n            "+e._s(a.row.addr)+"\n          ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"zoneName",label:"zone"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isActive",label:"isActive"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isActive))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"isWritable",label:"可写"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isWritable))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"total",label:"总量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"available",label:"可用量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"used",label:"已使用"}}),e._v(" "),t("el-table-column",{attrs:{prop:"usageRatio",label:"使用率"}}),e._v(" "),t("el-table-column",{attrs:{prop:"partitionCount",label:"分片数"}}),e._v(" "),t("el-table-column",{attrs:{prop:"pod",label:"Pod"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMAService",label:"RDMA-发送-接收",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{},[e._v(e._s(a.row.nodeRDMAService)+"-"+e._s(a.row.nodeRDMASend)+"-"+e._s(a.row.nodeRDMARecv))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"reportTime",label:"汇报时间",width:"150px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作",width:"310",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return t("span",{staticClass:"active"},[t("span",{staticClass:"active",on:{click:function(t){return e.offLine(a.row)}}},[e._v("节点下线")]),e._v("\n          ｜\n          "),t("span",{staticClass:"active",on:{click:function(t){return e.offDsk(a.row)}}},[e._v("磁盘下线")]),e._v(" "),a.row.isRDMA?t("span",{staticClass:"active",on:{click:function(t){return e.rdma(a.row)}}},[e._v("| 节点RDMA配置")]):e._e(),e._v(" "),a.row.isRDMA?t("span",{staticClass:"active",on:{click:function(t){return e.showDetail(a.row)}}},[e._v("| 详情")]):e._e()])}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"磁盘下线",visible:e.showDiskOff,width:"40%"},on:{"update:visible":function(t){e.showDiskOff=t}}},[t("el-form",{ref:"diskForm",staticClass:"normalForm",attrs:{model:e.diskForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"待下线的磁盘：",required:"",prop:"diskPath"}},[e.info.diskList.length>0?t("el-select",{attrs:{placeholder:"请选择要下线的磁盘"},model:{value:e.diskForm.diskPath,callback:function(t){e.$set(e.diskForm,"diskPath",t)},expression:"diskForm.diskPath"}},e._l(e.info.diskList,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1):t("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入要下线的磁盘"},model:{value:e.diskForm.diskPath,callback:function(t){e.$set(e.diskForm,"diskPath","string"===typeof t?t.trim():t)},expression:"diskForm.diskPath"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancleOffDisk()}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doOffDisk()}}},[e._v("确定")])],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}}),e._v(" "),t("el-dialog",{attrs:{title:"节点RDMA配置",visible:e.showRdma,width:"40%"},on:{"update:visible":function(t){e.showRdma=t}}},[t("el-form",{ref:"rdmaForm",staticClass:"normalForm",attrs:{model:e.rdmaForm,rules:e.rdmaRules}},[t("el-form-item",{attrs:{label:"地址：",prop:"addr","label-width":"100px",required:""}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:""},model:{value:e.rdmaForm.addr,callback:function(t){e.$set(e.rdmaForm,"addr",t)},expression:"rdmaForm.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"POD：",prop:"pod","label-width":"100px",required:""}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.rdmaForm.pod,callback:function(t){e.$set(e.rdmaForm,"pod",t)},expression:"rdmaForm.pod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"节点RDMA：",prop:"nodeRDMAService","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMAService,callback:function(t){e.$set(e.rdmaForm,"nodeRDMAService",t)},expression:"rdmaForm.nodeRDMAService"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"节点发送：",prop:"nodeRDMASend","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMASend,callback:function(t){e.$set(e.rdmaForm,"nodeRDMASend",t)},expression:"rdmaForm.nodeRDMASend"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"节点接收：",prop:"nodeRDMARecv","label-width":"100px",required:""}},[t("el-radio-group",{model:{value:e.rdmaForm.nodeRDMARecv,callback:function(t){e.$set(e.rdmaForm,"nodeRDMARecv",t)},expression:"rdmaForm.nodeRDMARecv"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showRdma=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRdma()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"详情",visible:e.showRemaDetail,width:"80%"},on:{"update:visible":function(t){e.showRemaDetail=t}}},[t("div",{staticClass:"pb20"},[t("span",{staticClass:"label"},[e._v("ID：")]),e._v(e._s(e.detail.iD)+"\n      "),t("span",{staticClass:"label pl20"},[e._v("地址：")]),e._v(e._s(e.detail.addr)+"\n    ")]),e._v(" "),t("div",{staticClass:"pb5 pt20"},[e._v("RDMA配置信息")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaConfig}},[t("el-table-column",{attrs:{prop:"fWVersion",label:"FWVersion"}}),e._v(" "),t("el-table-column",{attrs:{prop:"driverVersion",label:"驱动版本"}}),e._v(" "),t("el-table-column",{attrs:{prop:"vendor",label:"Vendor",width:"450"}}),e._v(" "),t("el-table-column",{attrs:{prop:"slaveName",label:"SlaveName"}})],1),e._v(" "),t("div",{staticClass:"pb5 pt20"},[e._v("状态信息")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaStatus}},[t("el-table-column",{attrs:{prop:"pod",label:"Pod"}}),e._v(" "),t("el-table-column",{attrs:{prop:"clusterRDMAEnable",label:"集群RDMA"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.clusterRDMAEnable))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"clusterRDMASend",label:"集群发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.clusterRDMASend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMAService",label:"节点RDMA"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMAService))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMASend",label:"节点发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMASend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeRDMARecv",label:"节点接收"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.nodeRDMARecv))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"enableSend",label:"本端发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.enableSend))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeCount",label:"NodeCount"}}),e._v(" "),t("el-table-column",{attrs:{prop:"permanentClosedCount",label:"永久关闭对端数量"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return t("span",{staticClass:"active"},[t("span",{staticClass:"active",on:{click:function(t){return e.sendSwitch(a.row)}}},[e._v("本端发送开关")])])}}])})],1),e._v(" "),t("div",{staticClass:"pb5 pt20",staticStyle:{overflow:"hidden","line-height":"32px"}},[e._v("\n      对端RDMA节点列表\n      "),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.batchOtherSend()}}},[e._v("对端发送开关")])],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rdmaConns,"max-height":"400"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),t("el-table-column",{attrs:{prop:"addr",label:"节点地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"enableConn",label:"对端发送"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.enableConn))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"permanentClosed",label:"永久关闭"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.permanentClosed))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"errConnCount",label:"错误连接次数"}}),e._v(" "),t("el-table-column",{attrs:{prop:"reConnTime",label:"重连时间"}})],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showRemaDetail=!1}}},[e._v("关 闭")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"批量对端发送",visible:e.showOtherSend,width:"40%"},on:{"update:visible":function(t){e.showOtherSend=t}}},[t("el-form",{ref:"otherSendForm",staticClass:"normalForm",attrs:{model:e.otherSendForm,rules:e.otherSendRules}},[t("el-form-item",{attrs:{label:"对端发送：",prop:"enableConn","label-width":"80px",required:""}},[t("el-radio-group",{model:{value:e.otherSendForm.enableConn,callback:function(t){e.$set(e.otherSendForm,"enableConn",t)},expression:"otherSendForm.enableConn"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"说明：",prop:"reason","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.otherSendForm.reason,callback:function(t){e.$set(e.otherSendForm,"reason",t)},expression:"otherSendForm.reason"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showOtherSend=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitOtherSend()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"本端发送开关",visible:e.showSendSwitch,width:"40%"},on:{"update:visible":function(t){e.showSendSwitch=t}}},[t("el-form",{ref:"sendForm",staticClass:"normalForm",attrs:{model:e.sendForm,rules:e.sendRules}},[t("el-form-item",{attrs:{label:"地址：",prop:"addr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:""},model:{value:e.detail.addr,callback:function(t){e.$set(e.detail,"addr",t)},expression:"detail.addr"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"本端发送：",prop:"enableSend","label-width":"80px",required:""}},[t("el-radio-group",{model:{value:e.sendForm.enableSend,callback:function(t){e.$set(e.sendForm,"enableSend",t)},expression:"sendForm.enableSend"}},[t("el-radio",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"说明：",prop:"reason","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.sendForm.reason,callback:function(t){e.$set(e.sendForm,"reason",t)},expression:"sendForm.reason"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showSendSwitch=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitSendSwitch()}}},[e._v("确定")])],1)],1)],1)}),_=[],w={name:"dataNode",components:{password:f.Z},data:function(){return{showOtherSend:!1,otherSendForm:{enableConn:0,reason:""},otherSendRules:{},multipleSelection:[],sendForm:{enableSend:0,reason:""},sendRules:{},showSendSwitch:!1,showRemaDetail:!1,rdmaConfig:[],rdmaStatus:[],rdmaConns:[],detail:{iD:void 0,addr:void 0},showRdma:!1,rdmaForm:{addr:"",pod:void 0,nodeRDMAService:!1,nodeRDMASend:!1,nodeRDMARecv:!1},rdmaRules:{pod:[{required:!0,message:"请输入pod",trigger:"blur"}]},zone:void 0,zoneList:[],row:{},showDiskOff:!1,diskForm:{diskPath:void 0},info:{diskList:[],addr:void 0},rules:{diskPath:[{required:!0,message:"请指定磁盘",trigger:["blur","change"]}]},resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",searchVal:null}},methods:{init:function(){this.zone=void 0,this.queryList(),this.queryZoneList()},submitOtherSend:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"data",addr:this.detail.addr,addrList:this.multipleSelection.map((function(e){return e.addr})),enableConn:!!this.otherSendForm.enableConn,reason:this.otherSendForm.reason};this.apollo.mutation(this.url.consoleCluster,i.Z.setConnEnable,t).then((function(t){200===t.code?(e.showOtherSend=!1,e.multipleSelection=[],e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.getRdmaDetail()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))},batchOtherSend:function(){0!=this.multipleSelection.length?this.showOtherSend=!0:this.$message.error("请选择数据！")},handleSelectionChange:function(e){this.multipleSelection=e},submitSendSwitch:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"data",addr:this.detail.addr,enableSend:!!this.sendForm.enableSend,reason:this.sendForm.reason};this.apollo.mutation(this.url.consoleCluster,i.Z.setSendEnable,t).then((function(t){200===t.code?(e.showSendSwitch=!1,e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.getRdmaDetail()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))},sendSwitch:function(e){this.showSendSwitch=!0,this.sendForm.enableSend=e.enableSend?1:0},showDetail:function(e){this.detail.iD=e.iD,this.detail.addr=e.addr,this.showRemaDetail=!0,this.getRdmaDetail()},getRdmaDetail:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.detail.addr};this.apollo.query(this.url.consoleCluster,i.Z.rdmaNodeView,t).then((function(t){if(t.data&&t.data.rdmaNodeView){var a=t.data.rdmaNodeView||{};e.rdmaConfig=a.nodeRDMAConf?[a.nodeRDMAConf]:[],e.rdmaStatus=a.nodeRDMAStatus?[a.nodeRDMAStatus]:[],e.rdmaConns=a.connNodes||[]}else e.$message.error(t)})).catch((function(t){e.resData.loading=!1,e.$Message.error(t)}))},submitRdma:function(){var e=this,t={cluster:this.$route.query.clusterName,nodeType:"data",addr:this.rdmaForm.addr,pod:this.rdmaForm.pod,nodeRDMAService:!!this.rdmaForm.nodeRDMAService,nodeRDMASend:!!this.rdmaForm.nodeRDMASend,nodeRDMARecv:!!this.rdmaForm.nodeRDMARecv};this.$refs.rdmaForm.validate((function(a){a&&e.apollo.mutation(e.url.consoleCluster,i.Z.setNodeRdmaConf,t).then((function(t){200===t.code?(e.showRdma=!1,e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))}))},rdma:function(e){this.showRdma=!0,this.rdmaForm.addr=e.addr,this.rdmaForm.pod=e.pod,this.rdmaForm.nodeRDMAService=e.nodeRDMAService?1:0,this.rdmaForm.nodeRDMASend=e.nodeRDMASend?1:0,this.rdmaForm.nodeRDMARecv=e.nodeRDMARecv?1:0},queryZoneList:function(e){var t=this,a={cluster:this.$route.query.clusterName};this.apollo.query(this.url.consoleCluster,i.Z.zoneList,a).then((function(e){e.data?t.zoneList=e.data.zoneList:t.$message.error(e)})).catch((function(e){t.resData.loading=!1,t.$Message.error(e)}))},validPassWord:function(){var e=this;if(this.showDiskOff){var t=this,a={addr:t.info.addr,diskPath:t.diskForm.diskPath,cluster:this.$route.query.clusterName};this.apollo.mutation(this.url.consoleCluster,i.Z.decommissionDisk,a).then((function(t){t.data?0===t.data.decommissionDisk.code&&(e.showDiskOff=!1,e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(t||"系统异常！")})).catch((function(e){console.log(e)}))}else{var n={addr:this.row.addr.toString(),cluster:this.$route.query.clusterName};this.apollo.mutation(this.url.consoleCluster,i.Z.decommissionDataNode,n).then((function(t){0===t.data.decommissionDataNode.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))}},offLine:function(e){this.$refs["password"].showPassWord(),this.row=e},offDsk:function(e){this.showDiskOff=!0,this.info.diskList=e.disk,this.info.addr=e.addr},doOffDisk:function(){var e=this;this.$refs.diskForm.validate((function(t){t&&e.$refs["password"].showPassWord()}))},cancleOffDisk:function(){this.$refs.diskForm.resetFields(),this.showDiskOff=!1},handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this,t=this;if(this.$route.query.clusterName&&""!=this.$route.query.clusterName){t.resData.loading=!0,t.resData.resLists=[];var a={addr:t.searchVal,cluster:this.$route.query.clusterName,zone:this.zone,page:t.resData.page.pageNo,pageSize:t.resData.page.pageSize};this.apollo.query(this.url.consoleCluster,i.Z.dataNodeList,a).then((function(a){if(t.resData.loading=!1,a&&a.data){var n=a.data.dataNodeList;t.resData.resLists=n.data||[],t.resData.page.totalRecord=n.total}else t.resData.resLists=[],t.resData.page.totalRecord=0,e.$message.error(a||"系统异常！")})).catch((function(e){t.resData.loading=!1,t.resData.list=[],console.log(e)}))}},goServerDetail:function(e){this.$router.push({name:"nodeSplit",query:{clusterName:this.$route.query.clusterName,addr:e.addr,type:"Datanode"}})}},mounted:function(){this.init()}},y=w,F=(0,u.Z)(y,D,_,!1,null,"1a3190ae",null),R=F.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"operation-server"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"name",label:"User Name"}}),e._v(" "),t("el-table-column",{attrs:{prop:"userType",label:"User Type"}}),e._v(" "),t("el-table-column",{attrs:{prop:"comments",label:"Comments"}})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1)},k=[],N=a(98288),M={name:"FailureList",data:function(){return{resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]}}},methods:{handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this,t=this;t.resData.loading=!0;var a={page:{pageSize:this.resData.page.pageSize,pageIndex:this.resData.page.pageNo},param:{}};this.apollo.query(this.url.operations.queryServerList,N.Z.queryList,a).then((function(e){if(t.resData.loading=!1,e){var a=e.content.data;t.resData.page.totalRecord=a.recordsTotal,t.resData.resLists=a.data}})).catch((function(a){t.resData.loading=!1,e.$Message.error(a)}))}},mounted:function(){this.queryList()}},P=M,x=(0,u.Z)(P,C,k,!1,null,"15e65c5b",null),L=x.exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"alarm"},[t("div",{staticClass:"mb20"},[t("span",[e._v("fgID：")]),e._v(" "),t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入fgID"},model:{value:e.fgID,callback:function(t){e.fgID=e._n(t)},expression:"fgID"}}),e._v(" "),t("span",{staticClass:"pl10"},[e._v("地址：")]),e._v(" "),t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入地址"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),t("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.queryList}},[e._v("\n      查询\n    ")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[t("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:e.resData.resLists}},[t("el-table-column",{attrs:{prop:"iD",label:"nodeID",width:"70"}}),e._v(" "),t("el-table-column",{attrs:{prop:"addr",label:"地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"zoneName",label:"zone"}}),e._v(" "),t("el-table-column",{attrs:{prop:"flashGroupID",label:"fgID",width:"65"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isActive",label:"isActive"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isActive))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"isEnable",label:"isEnable"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.isEnable))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"nodeLimit",label:"限速值"}}),e._v(" "),t("el-table-column",{attrs:{prop:"hitRate",label:"命中率"}}),e._v(" "),t("el-table-column",{attrs:{prop:"evicts",label:"过期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"reportTime",label:"汇报时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"active"},[t("span",{on:{click:function(t){return e.offLine(a.row)}}},[e._v("节点下线")]),e._v("\n            |\n            "),t("el-dropdown",{attrs:{trigger:"click"}},[t("span",{staticClass:"el-dropdown-link"},[e._v("管理"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.updateStatus(a.row)}}},[e._v("节点状态")]),e._v(" "),t("el-dropdown-item",{nativeOn:{click:function(t){return e.updatePing(a.row)}}},[e._v("ping排序")]),e._v(" "),t("el-dropdown-item",{nativeOn:{click:function(t){return e.updateRead(a.row)}}},[e._v("区间读")]),e._v(" "),t("el-dropdown-item",{nativeOn:{click:function(t){return e.updateTimeOut(a.row)}}},[e._v("读超时")]),e._v(" "),t("el-dropdown-item",{nativeOn:{click:function(t){return e.cleanCookie(a.row)}}},[e._v("缓存清理")])],1)],1)],1)]}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.resData.page.pageSizes,"page-size":e.resData.page.pageSize,layout:"sizes, prev, pager, next",total:e.resData.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),t("span",{staticClass:"fr page-tips pr10"},[e._v(e._s(e.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}}),e._v(" "),t("el-dialog",{attrs:{title:"编辑节点状态",visible:e.showStatus,width:"40%"},on:{"update:visible":function(t){e.showStatus=t}}},[t("div",{staticClass:"pd20"},[t("span",{},[e._v("节点地址：")]),e._v(" "+e._s(e.row.addr))]),e._v(" "),t("div",[t("span",{staticClass:"pr5"},[e._v("isEnable：")]),e._v(" "),t("el-switch",{model:{value:e.row.isEnable,callback:function(t){e.$set(e.row,"isEnable",t)},expression:"row.isEnable"}})],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showStatus=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitStatus()}}},[e._v("确定")])],1)]),e._v(" "),t("el-dialog",{attrs:{title:"ping排序",visible:e.showPing,width:"40%"},on:{"update:visible":function(t){e.showPing=t}}},[t("el-form",{ref:"pingForm",staticClass:"normalForm",attrs:{model:e.pingForm,rules:e.pingRules}},[t("el-form-item",{attrs:{label:"节点：",prop:"addr","label-width":"80px"}},[t("el-radio-group",{model:{value:e.pingForm.addr,callback:function(t){e.$set(e.pingForm,"addr",t)},expression:"pingForm.addr"}},[t("el-radio",{attrs:{label:e.row.addr}},[e._v(e._s(e.row.addr))]),e._v(" "),t("el-radio",{attrs:{label:"all"}},[e._v("all")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"状态：",prop:"state","label-width":"80px"}},[t("el-radio-group",{model:{value:e.pingForm.state,callback:function(t){e.$set(e.pingForm,"state",t)},expression:"pingForm.state"}},[t("el-radio",{attrs:{label:!0}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("关闭")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showPing=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitPing()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"区间读",visible:e.showRead,width:"40%"},on:{"update:visible":function(t){e.showRead=t}}},[t("el-form",{ref:"pingForm",staticClass:"normalForm",attrs:{model:e.pingForm,rules:e.pingRules}},[t("el-form-item",{attrs:{label:"节点：",prop:"addr","label-width":"80px"}},[t("el-radio-group",{model:{value:e.pingForm.addr,callback:function(t){e.$set(e.pingForm,"addr",t)},expression:"pingForm.addr"}},[t("el-radio",{attrs:{label:e.row.addr}},[e._v(e._s(e.row.addr))]),e._v(" "),t("el-radio",{attrs:{label:"all"}},[e._v("all")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"状态：",prop:"state","label-width":"80px"}},[t("el-radio-group",{model:{value:e.pingForm.state,callback:function(t){e.$set(e.pingForm,"state",t)},expression:"pingForm.state"}},[t("el-radio",{attrs:{label:!0}},[e._v("开启")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("关闭")])],1)],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showRead=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRead()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"读超时",visible:e.showTimeout,width:"40%"},on:{"update:visible":function(t){e.showTimeout=t}}},[t("el-form",{ref:"timeoutForm",staticClass:"normalForm",attrs:{model:e.timeoutForm,rules:e.timeoutRules}},[t("el-form-item",{attrs:{label:"节点：",prop:"addr","label-width":"80px"}},[t("el-radio-group",{model:{value:e.timeoutForm.addr,callback:function(t){e.$set(e.timeoutForm,"addr",t)},expression:"timeoutForm.addr"}},[t("el-radio",{attrs:{label:e.row.addr}},[e._v(e._s(e.row.addr))]),e._v(" "),t("el-radio",{attrs:{label:"all"}},[e._v("all")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"超时时间：",prop:"timeoutMs","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入超时时间（ms）"},model:{value:e.timeoutForm.timeoutMs,callback:function(t){e.$set(e.timeoutForm,"timeoutMs",e._n(t))},expression:"timeoutForm.timeoutMs"}}),e._v("\n        ms\n      ")],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showTimeout=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitTimeout()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"缓存清理",visible:e.showCleanCookie,width:"40%"},on:{"update:visible":function(t){e.showCleanCookie=t}}},[t("el-form",{ref:"cookieForm",staticClass:"normalForm",attrs:{model:e.cookieForm,rules:e.cookieRules}},[t("el-form-item",{attrs:{label:"清理纬度：",prop:"level","label-width":"80px"}},[t("el-radio-group",{model:{value:e.cookieForm.level,callback:function(t){e.$set(e.cookieForm,"level",t)},expression:"cookieForm.level"}},[t("el-radio",{attrs:{label:1}},[e._v(e._s(e.row.addr))]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("按volume")])],1)],1),e._v(" "),0==e.cookieForm.level?t("el-form-item",{attrs:{label:"卷名：",prop:"volume","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.cookieForm.volume,callback:function(t){e.$set(e.cookieForm,"volume",t)},expression:"cookieForm.volume"}})],1):e._e(),e._v(" "),0==e.cookieForm.level?t("el-form-item",{attrs:{label:"指定节点：",prop:"addr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",disabled:""},model:{value:e.cookieForm.addr,callback:function(t){e.$set(e.cookieForm,"addr",t)},expression:"cookieForm.addr"}})],1):e._e(),e._v(" "),0==e.cookieForm.level?t("el-form-item",{attrs:{label:"指定inode：",prop:"inode","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.cookieForm.inode,callback:function(t){e.$set(e.cookieForm,"inode",e._n(t))},expression:"cookieForm.inode"}})],1):e._e()],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showCleanCookie=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitCookie()}}},[e._v("确定")])],1)],1)],1)},A=[],z=(a(69358),a(48324),{name:"cookieNode",components:{password:f.Z},data:function(){return{action:"",resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},typeVal:"",fgID:null,searchVal:null,showStatus:!1,showPing:!1,pingForm:{addr:void 0,state:void 0},pingRules:{addr:[{required:!0,message:"请选择节点",trigger:"blur"}],state:[{required:!0,message:"请选择状态",trigger:"blur"}]},showRead:!1,showTimeout:!1,timeoutForm:{addr:void 0,timeoutMs:void 0},timeoutRules:{addr:[{required:!0,message:"请选择节点",trigger:"blur"}],timeoutMs:[{required:!0,message:"请输入超时时间（ms）",trigger:"blur"}]},showCleanCookie:!1,cookieForm:{addr:void 0,level:0,volume:void 0,inode:void 0},cookieRules:{addr:[{required:!0,message:"请选择节点",trigger:"blur"}],volume:[{required:!0,message:"请输入卷名",trigger:"blur"}]},row:{}}},methods:{updateStatus:function(e){var t=this;this.showStatus=!0,this.$nextTick((function(){t.row=JSON.parse(JSON.stringify(e))}))},updatePing:function(e){var t=this;this.showPing=!0,this.$nextTick((function(){t.$refs.pingForm.resetFields(),t.row=e}))},updateRead:function(e){var t=this;this.showRead=!0,this.$nextTick((function(){t.$refs.pingForm.resetFields(),t.row=e}))},updateTimeOut:function(e){var t=this;this.showTimeout=!0,this.$nextTick((function(){t.$refs.timeoutForm.resetFields(),t.row=e}))},cleanCookie:function(e){var t=this;this.showCleanCookie=!0,this.$nextTick((function(){t.$refs.cookieForm.resetFields(),t.row=e,t.cookieForm.addr=e.addr}))},submitCookie:function(){var e=this;this.$refs.cookieForm.validate((function(t){t&&(e.action="cleanCookie",e.$refs["password"].showPassWord())}))},doCleanCookie:function(){var e=this,t={cluster:this.$route.query.clusterName};Object.assign(t,this.cookieForm),this.apollo.mutation(this.url.consoleCluster,i.Z.evictCacheFlashNode,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.showCleanCookie=!1,e.queryList()):e.$message.error(t)}))},submitTimeout:function(){var e=this;this.$refs.timeoutForm.validate((function(t){t&&(e.action="updateTimeout",e.$refs["password"].showPassWord())}))},doSubmitTimeout:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.timeoutForm.addr,timeoutMs:this.timeoutForm.timeoutMs};this.apollo.mutation(this.url.consoleCluster,i.Z.setTimeoutFlashNode,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.showTimeout=!1,e.queryList()):e.$message.error(t)}))},submitRead:function(){var e=this;this.$refs.pingForm.validate((function(t){t&&(e.action="updateRead",e.$refs["password"].showPassWord())}))},submitPing:function(){var e=this;this.$refs.pingForm.validate((function(t){t&&(e.action="updatePing",e.$refs["password"].showPassWord())}))},doSubmitRead:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.pingForm.addr,state:this.pingForm.state};this.apollo.mutation(this.url.consoleCluster,i.Z.setStackReadFlashNode,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.showRead=!1,e.queryList()):e.$message.error(t)}))},doSubmitPing:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.pingForm.addr,state:this.pingForm.state};this.apollo.mutation(this.url.consoleCluster,i.Z.setPingSortFlashNode,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.queryList(),e.showPing=!1):e.$message.error(t)}))},doSubmitStatus:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.row.addr.toString(),isEnable:this.row.isEnable};this.apollo.mutation(this.url.consoleCluster,i.Z.updateFlashNode,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.queryList()):e.$message.error(t)}))},submitStatus:function(){this.action="updateStatus",this.$refs["password"].showPassWord()},doOffLine:function(){var e=this,t={cluster:this.$route.query.clusterName,addr:this.row.addr.toString()};this.apollo.mutation(this.url.consoleCluster,i.Z.decommissionFlashNode,t).then((function(t){0===t.data.decommissionFlashNode.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))},validPassWord:function(){"offLine"==this.action?this.doOffLine():"updateStatus"==this.action?this.doSubmitStatus():"updatePing"==this.action?this.doSubmitPing():"updateRead"==this.action?this.doSubmitRead():"updateTimeout"==this.action?this.doSubmitTimeout():"cleanCookie"==this.action&&this.doCleanCookie()},offLine:function(e){this.action="offLine",this.$refs["password"].showPassWord(),this.row=e},offDsk:function(e){},handleSizeChange:function(e){this.resData.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.resData.page.pageNo=e,this.queryList()},queryList:function(){var e=this,t=this;if(this.$route.query.clusterName&&""!=this.$route.query.clusterName){t.resData.loading=!0,t.resData.resLists=[];var a={fgID:"string"==typeof t.fgID?null:t.fgID,addr:t.searchVal,cluster:this.$route.query.clusterName,page:t.resData.page.pageNo,pageSize:t.resData.page.pageSize};this.apollo.query(this.url.consoleCluster,i.Z.flashNodeList,a).then((function(a){if(t.resData.loading=!1,a&&a.data){var n=a.data.flashNodeList;t.resData.resLists=n.data||[],t.resData.page.totalRecord=n.total}else t.resData.resLists=[],t.resData.page.totalRecord=0,e.$message.error(a||"系统异常！")})).catch((function(e){t.resData.loading=!1,t.resData.list=[],console.log(e)}))}},goServerDetail:function(e){this.$router.push({name:"serverDetail",query:{ip:e.addr,type:"data"}})}},mounted:function(){this.queryList()}}),q=z,T=(0,u.Z)(q,Z,A,!1,null,"5629da74",null),I=T.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fg"},[t("div",{staticClass:"right pb20"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("新建")])],1),e._v(" "),t("el-table",{staticClass:"mt10",staticStyle:{width:"100%"},attrs:{data:e.list}},[t("el-table-column",{attrs:{prop:"iD",label:"fgID"}}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return t("div",{},[t("span",[e._v(e._s(a.row.status))])])}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"flashNodeCount",label:"节点数"}}),e._v(" "),t("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return t("div",{staticClass:"active"},[t("span",{on:{click:function(t){return e.edit(a.row)}}},[e._v("编辑")]),e._v("\n        |\n        "),t("span",{on:{click:function(t){return e.del(a.row)}}},[e._v("删除")]),e._v("\n        |\n        "),t("span",{on:{click:function(t){return e.addNode(a.row)}}},[e._v("添加节点")]),e._v("\n        |\n        "),t("span",{on:{click:function(t){return e.removeNode(a.row)}}},[e._v("移除节点")])])}}])})],1),e._v(" "),t("div",{staticClass:"clearfix mt20"},[t("el-pagination",{staticClass:"fr",attrs:{"page-sizes":e.page.pageSizes,"page-size":e.page.pageSize,layout:"sizes, prev, pager, next",total:e.page.totalRecord},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:"编辑FG",visible:e.showEdit,width:"40%"},on:{"update:visible":function(t){e.showEdit=t}}},[t("el-form",{ref:"editForm",staticClass:"normalForm",attrs:{model:e.editForm,rules:e.editRules}},[t("el-form-item",{attrs:{label:"节点：",prop:"iD","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.editForm.iD,callback:function(t){e.$set(e.editForm,"iD",t)},expression:"editForm.iD"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"状态：",prop:"isActive","label-width":"80px"}},[t("el-switch",{model:{value:e.editForm.isActive,callback:function(t){e.$set(e.editForm,"isActive",t)},expression:"editForm.isActive"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showEdit=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitEdit()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加flashNode",visible:e.showAddNode,width:"40%"},on:{"update:visible":function(t){e.showAddNode=t}}},[t("el-form",{ref:"addForm",staticClass:"normalForm",attrs:{model:e.addForm,rules:e.addRules}},[t("el-form-item",{attrs:{label:"维度：",prop:"level","label-width":"80px"}},[t("el-radio-group",{on:{change:e.changeAddLevel},model:{value:e.addForm.level,callback:function(t){e.$set(e.addForm,"level",t)},expression:"addForm.level"}},[t("el-radio",{attrs:{label:0}},[e._v("按节点地址")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("按zone&count")])],1)],1),e._v(" "),0==e.addForm.level?t("el-form-item",{attrs:{label:"节点地址：",prop:"addr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:e.addForm.addr,callback:function(t){e.$set(e.addForm,"addr",t)},expression:"addForm.addr"}})],1):e._e(),e._v(" "),1==e.addForm.level?t("el-form-item",{attrs:{label:"zone：",prop:"zone","label-width":"80px"}},[t("el-select",{staticStyle:{width:"200px"},model:{value:e.addForm.zone,callback:function(t){e.$set(e.addForm,"zone",t)},expression:"addForm.zone"}},e._l(e.zoneList,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):e._e(),e._v(" "),1==e.addForm.level?t("el-form-item",{attrs:{label:"count：",prop:"zone","label-width":"80px"}},[t("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入count",min:1,max:1e4},model:{value:e.addForm.count,callback:function(t){e.$set(e.addForm,"count",t)},expression:"addForm.count"}})],1):e._e()],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showAddNode=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddNode()}}},[e._v("确定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"移除flashNode",visible:e.showDelNode,width:"40%"},on:{"update:visible":function(t){e.showDelNode=t}}},[t("el-form",{ref:"delForm",staticClass:"normalForm",attrs:{model:e.delForm,rules:e.delRules}},[t("el-form-item",{attrs:{label:"维度：",prop:"level","label-width":"80px"}},[t("el-radio-group",{on:{change:e.changeDelLevel},model:{value:e.delForm.level,callback:function(t){e.$set(e.delForm,"level",t)},expression:"delForm.level"}},[t("el-radio",{attrs:{label:0}},[e._v("按节点地址")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("按zone&count")])],1)],1),e._v(" "),0==e.delForm.level?t("el-form-item",{attrs:{label:"节点地址：",prop:"addr","label-width":"80px"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:e.delForm.addr,callback:function(t){e.$set(e.delForm,"addr",t)},expression:"delForm.addr"}})],1):e._e(),e._v(" "),1==e.delForm.level?t("el-form-item",{attrs:{label:"zone：",prop:"zone","label-width":"80px"}},[t("el-select",{staticStyle:{width:"200px"},model:{value:e.delForm.zone,callback:function(t){e.$set(e.delForm,"zone",t)},expression:"delForm.zone"}},e._l(e.zoneList,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1):e._e(),e._v(" "),1==e.delForm.level?t("el-form-item",{attrs:{label:"count：",prop:"count","label-width":"80px"}},[t("el-input-number",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入count",min:1,max:1e4},model:{value:e.delForm.count,callback:function(t){e.$set(e.delForm,"count",t)},expression:"delForm.count"}})],1):e._e()],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showDelNode=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitDelNode()}}},[e._v("确定")])],1)],1),e._v(" "),t("password",{ref:"password",on:{doSubmit:e.validPassWord}})],1)},V=[],O={name:"fgConfig",components:{password:f.Z},data:function(){return{iD:null,list:[],page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},action:"",zoneList:[],showEdit:!1,editRules:{},editForm:{iD:null,isActive:null},showAddNode:!1,addForm:{level:0,addr:void 0,zone:void 0,count:void 0},addRules:{addr:[{required:!0,message:"请输入addr",trigger:"blur"}],zone:[{required:!0,message:"请选择zone",trigger:"blur"}],count:[{required:!0,message:"请输入count",trigger:"blur"}]},showDelNode:!1,delForm:{iD:null,level:0,addr:void 0,zone:void 0,count:void 0},delRules:{addr:[{required:!0,message:"请输入addr",trigger:"blur"}],zone:[{required:!0,message:"请选择zone",trigger:"blur"}],count:[{required:!0,message:"请输入count",trigger:"blur"}]}}},methods:{changeAddLevel:function(e){this.$refs.addForm.resetFields(),this.addForm.level=e},changeDelLevel:function(e){this.$refs.delForm.resetFields(),this.delForm.level=e},add:function(){var e=this;this.$confirm("确定新建FG?","新建FG",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={cluster:e.$route.query.clusterName};e.apollo.mutation(e.url.consoleCluster,i.Z.createFlashGroup,t).then((function(t){t.data.createFlashGroup?(e.$message({message:"新建FG"+t.data.createFlashGroup.iD+"成功！",type:"success"}),e.queryList()):e.$message.error(t)}))})).catch((function(e){console.log(e)}))},doDel:function(){var e=this,t={cluster:this.$route.query.clusterName,iD:this.iD};this.apollo.mutation(this.url.consoleCluster,i.Z.removeFlashGroup,t).then((function(t){t.data.removeFlashGroup?(e.$message({message:"删除FG"+t.data.removeFlashGroup.iD+"成功！",type:"success"}),e.queryList()):e.$message.error(t)}))},del:function(e){this.action="del",this.$refs["password"].showPassWord(),this.iD=e.iD},edit:function(e){var t=this;this.showEdit=!0,this.$nextTick((function(){t.$refs.editForm.resetFields(),t.editForm.iD=e.iD,t.editForm.isActive=e.isActive}))},submitEdit:function(){this.action="edit",this.$refs["password"].showPassWord()},doEdit:function(){var e=this,t={cluster:this.$route.query.clusterName,iD:this.editForm.iD,isActive:this.editForm.isActive};this.apollo.mutation(this.url.consoleCluster,i.Z.updateFlashGroup,t).then((function(t){t.data?(e.$message.success("操作成功！"),e.showEdit=!1,e.queryList()):e.$message.error(t)}))},addNode:function(e){var t=this;this.showAddNode=!0,this.$nextTick((function(){t.$refs.addForm.resetFields(),t.addForm.iD=e.iD})),this.getZoneList()},submitAddNode:function(){var e=this;this.$refs.addForm.validate((function(t){if(t){var a={cluster:e.$route.query.clusterName,isAddNode:!0};Object.assign(a,e.addForm),e.apollo.mutation(e.url.consoleCluster,i.Z.updateFlashGroup,a).then((function(t){t.data?(e.$message.success("操作成功！"),e.showAddNode=!1,e.queryList()):e.$message.error(t)}))}}))},removeNode:function(e){var t=this;this.showDelNode=!0,this.action="removeNode",this.$nextTick((function(){t.$refs.delForm.resetFields(),t.delForm.iD=e.iD})),this.getZoneList()},submitDelNode:function(){var e=this;this.$refs.delForm.validate((function(t){if(t){var a={cluster:e.$route.query.clusterName,isDeleteNode:!0};Object.assign(a,e.delForm),e.apollo.mutation(e.url.consoleCluster,i.Z.updateFlashGroup,a).then((function(t){t.data?(e.$message.success("操作成功！"),e.showDelNode=!1,e.queryList()):e.$message.error(t)}))}}))},validPassWord:function(){"edit"==this.action?this.doEdit():"del"==this.action&&this.doDel()},getZoneList:function(){var e=this,t={cluster:this.$route.query.clusterName};this.apollo.query(this.url.consoleCluster,i.Z.zoneList,t).then((function(t){t.data?e.zoneList=t.data.zoneList:e.$message.error(t)})).catch((function(t){e.$message.error(t)}))},handleSizeChange:function(e){this.page.pageSize=e,this.queryList()},handleCurrentChange:function(e){this.page.pageNo=e,this.queryList()},queryList:function(){var e=this;if(this.$route.query.clusterName&&""!=this.$route.query.clusterName){var t=this,a={cluster:this.$route.query.clusterName,page:t.page.pageNo,pageSize:t.page.pageSize};this.apollo.query(this.url.consoleCluster,i.Z.flashGroupList,a).then((function(a){if(t.loading=!1,a&&a.data){var n=a.data.flashGroupList;t.list=n.data||[],t.page.totalRecord=n.total}else t.list=[],t.page.totalRecord=0,e.$message.error(a||"系统异常！")})).catch((function(e){t.loading=!1,t.list=[]}))}}},mounted:function(){this.queryList()}},G=O,W=(0,u.Z)(G,E,V,!1,null,null,null),B=W.exports,U={name:"ServerLists",components:{Master:m,Metanode:S,Datanode:R,FuseClients:L,Cookienode:I,fgConfig:B},data:function(){return{operationsSelect:"Master"}},methods:{changeTabs:function(e){console.log(e),this.$router.push({})},initPage:function(){this.$refs.master.queryList(),this.$refs.matanode.init(),this.$refs.datanode.init(),this.$refs.cookienode.queryList(),this.$refs.fgConfig.queryList()}},mounted:function(){this.operationsSelect=this.$route.query.type||"Master"}},K=U,Y=(0,u.Z)(K,n,o,!1,null,null,null),J=Y.exports},27017:function(e,t,a){var n=a(68844),o=a(90690),r=Math.floor,s=n("".charAt),i=n("".replace),l=n("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,n,c,m){var p=a+e.length,h=n.length,v=u;return void 0!==c&&(c=o(c),v=d),i(m,v,(function(o,i){var d;switch(s(i,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,a);case"'":return l(t,p);case"<":d=c[l(i,1,-1)];break;default:var u=+i;if(0===u)return o;if(u>h){var m=r(u/10);return 0===m?o:m<=h?void 0===n[m-1]?s(i,1):n[m-1]+s(i,1):o}d=n[u-1]}return void 0===d?"":d}))}},91245:function(e,t,a){var n=a(48999),o=a(6648),r=a(44201),s=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===o(e))}},63477:function(e,t,a){var n=a(22615),o=a(36812),r=a(23622),s=a(69633),i=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in i||o(e,"flags")||!r(i,e)?t:n(s,e)}},90534:function(e,t,a){var n=a(68700),o=a(34327),r=a(74684),s=RangeError;e.exports=function(e){var t=o(r(this)),a="",i=n(e);if(i<0||i===1/0)throw new s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(a+=t);return a}},75984:function(e,t,a){var n=a(41236).PROPER,o=a(3689),r=a(86350),s="​᠎";e.exports=function(e){return o((function(){return!!r[e]()||s[e]()!==s||n&&r[e].name!==e}))}},50886:function(e,t,a){var n=a(79989),o=a(2960).map,r=a(29042),s=r("map");n({target:"Array",proto:!0,forced:!s},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},97389:function(e,t,a){var n=a(79989),o=a(68844),r=a(68700),s=a(23648),i=a(90534),l=a(3689),d=RangeError,u=String,c=Math.floor,m=o(i),p=o("".slice),h=o(1..toFixed),v=function(e,t,a){return 0===t?a:t%2===1?v(e,t-1,a*e):v(e*e,t/2,a)},f=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},g=function(e,t,a){var n=-1,o=a;while(++n<6)o+=t*e[n],e[n]=o%1e7,o=c(o/1e7)},b=function(e,t){var a=6,n=0;while(--a>=0)n+=e[a],e[a]=c(n/t),n=n%t*1e7},$=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var n=u(e[t]);a=""===a?n:a+m("0",7-n.length)+n}return a},S=l((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!l((function(){h({})}));n({target:"Number",proto:!0,forced:S},{toFixed:function(e){var t,a,n,o,i=s(this),l=r(e),c=[0,0,0,0,0,0],h="",S="0";if(l<0||l>20)throw new d("Incorrect fraction digits");if(i!==i)return"NaN";if(i<=-1e21||i>=1e21)return u(i);if(i<0&&(h="-",i=-i),i>1e-21)if(t=f(i*v(2,69,1))-69,a=t<0?i*v(2,-t,1):i/v(2,t,1),a*=4503599627370496,t=52-t,t>0){g(c,0,a),n=l;while(n>=7)g(c,1e7,0),n-=7;g(c,v(10,n,1),0),n=t-1;while(n>=23)b(c,1<<23),n-=23;b(c,1<<n),g(c,1,1),b(c,2),S=$(c)}else g(c,0,a),g(c,1<<-t,0),S=$(c)+m("0",l);return l>0?(o=S.length,S=h+(o<=l?"0."+m("0",l-o)+S:p(S,0,o-l)+"."+p(S,o-l))):S=h+S,S}})},52003:function(e,t,a){var n=a(67697),o=a(19037),r=a(68844),s=a(35266),i=a(33457),l=a(75773),d=a(72741).f,u=a(23622),c=a(91245),m=a(34327),p=a(63477),h=a(87901),v=a(38055),f=a(11880),g=a(3689),b=a(36812),$=a(618).enforce,S=a(14241),D=a(44201),_=a(62100),w=a(26738),y=D("match"),F=o.RegExp,R=F.prototype,C=o.SyntaxError,k=r(R.exec),N=r("".charAt),M=r("".replace),P=r("".indexOf),x=r("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Z=/a/g,A=/a/g,z=new F(Z)!==Z,q=h.MISSED_STICKY,T=h.UNSUPPORTED_Y,I=n&&(!z||q||_||w||g((function(){return A[y]=!1,F(Z)!==Z||F(A)===A||"/a/i"!==String(F(Z,"i"))}))),E=function(e){for(var t,a=e.length,n=0,o="",r=!1;n<=a;n++)t=N(e,n),"\\"!==t?r||"."!==t?("["===t?r=!0:"]"===t&&(r=!1),o+=t):o+="[\\s\\S]":o+=t+N(e,++n);return o},V=function(e){for(var t,a=e.length,n=0,o="",r=[],s={},i=!1,l=!1,d=0,u="";n<=a;n++){if(t=N(e,n),"\\"===t)t+=N(e,++n);else if("]"===t)i=!1;else if(!i)switch(!0){case"["===t:i=!0;break;case"("===t:k(L,x(e,n+1))&&(n+=2,l=!0),o+=t,d++;continue;case">"===t&&l:if(""===u||b(s,u))throw new C("Invalid capture group name");s[u]=!0,r[r.length]=[u,d],l=!1,u="";continue}l?u+=t:o+=t}return[o,r]};if(s("RegExp",I)){for(var O=function(e,t){var a,n,o,r,s,d,h=u(R,this),v=c(e),f=void 0===t,g=[],b=e;if(!h&&v&&f&&e.constructor===O)return e;if((v||u(R,e))&&(e=e.source,f&&(t=p(b))),e=void 0===e?"":m(e),t=void 0===t?"":m(t),b=e,_&&"dotAll"in Z&&(n=!!t&&P(t,"s")>-1,n&&(t=M(t,/s/g,""))),a=t,q&&"sticky"in Z&&(o=!!t&&P(t,"y")>-1,o&&T&&(t=M(t,/y/g,""))),w&&(r=V(e),e=r[0],g=r[1]),s=i(F(e,t),h?this:R,O),(n||o||g.length)&&(d=$(s),n&&(d.dotAll=!0,d.raw=O(E(e),a)),o&&(d.sticky=!0),g.length&&(d.groups=g)),e!==b)try{l(s,"source",""===b?"(?:)":b)}catch(S){}return s},G=d(F),W=0;G.length>W;)v(O,F,G[W++]);R.constructor=O,O.prototype=R,f(o,"RegExp",O,{constructor:!0})}S("RegExp")},68518:function(e,t,a){var n=a(67697),o=a(62100),r=a(6648),s=a(62148),i=a(618).get,l=RegExp.prototype,d=TypeError;n&&o&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===r(this))return!!i(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},13440:function(e,t,a){var n=a(67697),o=a(87901).MISSED_STICKY,r=a(6648),s=a(62148),i=a(618).get,l=RegExp.prototype,d=TypeError;n&&o&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===r(this))return!!i(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},12826:function(e,t,a){var n=a(41236).PROPER,o=a(11880),r=a(85027),s=a(34327),i=a(3689),l=a(63477),d="toString",u=RegExp.prototype,c=u[d],m=i((function(){return"/a/b"!==c.call({source:"a",flags:"b"})})),p=n&&c.name!==d;(m||p)&&o(RegExp.prototype,d,(function(){var e=r(this),t=s(e.source),a=s(l(e));return"/"+t+"/"+a}),{unsafe:!0})},57267:function(e,t,a){var n=a(61735),o=a(22615),r=a(68844),s=a(65773),i=a(3689),l=a(85027),d=a(69985),u=a(981),c=a(68700),m=a(43126),p=a(34327),h=a(74684),v=a(71514),f=a(54849),g=a(27017),b=a(66100),$=a(44201),S=$("replace"),D=Math.max,_=Math.min,w=r([].concat),y=r([].push),F=r("".indexOf),R=r("".slice),C=function(e){return void 0===e?e:String(e)},k=function(){return"$0"==="a".replace(/./,"$0")}(),N=function(){return!!/./[S]&&""===/./[S]("a","$0")}(),M=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,a){var r=N?"$":"$0";return[function(e,a){var n=h(this),r=u(e)?void 0:f(e,S);return r?o(r,e,n,a):o(t,p(n),e,a)},function(e,o){var s=l(this),i=p(e);if("string"==typeof o&&-1===F(o,r)&&-1===F(o,"$<")){var u=a(t,s,i,o);if(u.done)return u.value}var h=d(o);h||(o=p(o));var f,$=s.global;$&&(f=s.unicode,s.lastIndex=0);var S,k=[];while(1){if(S=b(s,i),null===S)break;if(y(k,S),!$)break;var N=p(S[0]);""===N&&(s.lastIndex=v(i,m(s.lastIndex),f))}for(var M="",P=0,x=0;x<k.length;x++){S=k[x];for(var L,Z=p(S[0]),A=D(_(c(S.index),i.length),0),z=[],q=1;q<S.length;q++)y(z,C(S[q]));var T=S.groups;if(h){var I=w([Z],z,A,i);void 0!==T&&y(I,T),L=p(n(o,void 0,I))}else L=g(Z,i,A,z,T,o);A>=P&&(M+=R(i,P,A)+L,P=A+Z.length)}return M+R(i,P)}]}),!M||!k||N)},28436:function(e,t,a){var n=a(79989),o=a(61435).trim,r=a(75984);n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return o(this)}})}}]);