(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[116],{31302:function(t,e,a){"use strict";a.d(e,{m:function(){return i}});a(62506),a(70560);var i={doResize:function(t){var e=t.target||t.srcElement,a=e.__resizeTrigger__;if(a){var i=a.__z_resizeListeners;if(i)for(var n=0;n<i.length;n++){var s=i[n],o=s.handler,r=s.context;o.apply(r,[t])}}},remove:function(t,e,a){var i=t.__z_resizeListeners;if(i)for(var n=i.length,s=0;s<n;s++){var o=i[s];if(o.handler===e&&o.context===a)return void i.splice(s,1)}},create:function(t){var e=document.createElement("object");return e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden;opacity: 0; pointer-events: none; z-index: -1;"),e.onload=i.load,e.type="text/html",t.appendChild(e),e.data="about:blank",e},load:function(t){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i.doResize)}};document.attachEvent?(i.on=function(t,e,a){var n=t.__z_resizeListeners;n||(n=[],t.__z_resizeListeners=n,t.__resizeTrigger__=t,t.attachEvent("onresize",i.doResize)),n.push({handler:e,context:a})},i.off=function(t,e,a){var n=t.__z_resizeListeners;n&&(i.remove(t,e,a),0===n.length&&(t.detachEvent("onresize",i.doResize),delete t.__z_resizeListeners))}):(i.on=function(t,e,a){var n=t.__z_resizeListeners;if(!n){n=[],t.__z_resizeListeners=n,"static"===getComputedStyle(t,null).position&&(t.style.position="relative");var s=i.create(t);t.__resizeTrigger__=s,s.__resizeElement__=t}n.push({handler:e,context:a})},i.off=function(t,e,a){var n=t.__z_resizeListeners;if(n&&(i.remove(t,e,a),0===n.length)){var s=t.__resizeTrigger__;s&&(s.contentDocument.defaultView.removeEventListener("resize",i.doResize),t.removeChild(s),delete t.__resizeTrigger__),delete t.__z_resizeListeners}})},69092:function(t,e,a){"use strict";a.d(e,{Ur:function(){return o},b4:function(){return n},li:function(){return s}});a(60228),a(12826);function i(t){var e=null!==t?new Date(t):new Date;return{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),milli:e.getMilliseconds()}}function n(t,e){e=e||"-";var a="[object Object]"===Object.prototype.toString.call(t)?t:i(t),n=a.month+1<10?"0"+(a.month+1):a.month+1,s=a.date<10?"0"+a.date:a.date;return a.year+e+n+e+s}function s(t,e){e=e||":";var a="[object Object]"===Object.prototype.toString.call(t)?t:i(t),n=a.hour<10?"0"+a.hour:a.hour,s=a.minute<10?"0"+a.minute:a.minute,o=a.second<10?"0"+a.second:a.second;return n+e+s+e+o}function o(t){var e=i(t),a=n(e)+" "+s(e);return a}},85353:function(t,e,a){"use strict";a.d(e,{BU:function(){return r},LR:function(){return l},Ox:function(){return i},mr:function(){return n}});a(52003),a(68518),a(64043),a(13440),a(12826),a(57267),a(97389);function i(){if(0===arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++){var a=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(a,arguments[e])}return t}function n(t,e){if(0===t)return"0 ns";if(t>6e7){var a=["min","h"],i=6e7,n=parseInt(t/i),s=n>60?1:0;return e?n+" "+a[s]:n}var o=["ns","Î¼s","ms","s"],r=1e3,l=Math.floor(Math.log(t)/Math.log(r)),c=parseInt(t/Math.pow(r,l));return e?c+" "+o[l]:c}var s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=["iB","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];function r(t,e){if(0===t)return"0 Bytes";var a=2===e?o:s,i=2===e?1024:1e3,n=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,n)).toFixed(3))+" "+a[n]}function l(t){return 1==t?"ReadOnly":2==t?"ReadWrite":"Unavailable"}},84116:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return xe}});var i,n,s,o,r,l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"operations"},[e("el-tabs",{attrs:{type:"card"},model:{value:t.operationsSelect,callback:function(e){t.operationsSelect=e},expression:"operationsSelect"}},[e("el-tab-pane",{attrs:{label:"Clusters",name:"Clusters",lazy:""}},[e("div",{staticClass:"operation-container"},[e("clusters")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"Volume",name:"Volume",lazy:""}},[e("div",{staticClass:"operation-container"},[e("volume")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"Master",name:"Master",lazy:""}},[e("div",{staticClass:"operation-container"},[e("master")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"MetaNode",name:"MetaNode",lazy:""}},[e("div",{staticClass:"operation-container"},[e("meta-nodes")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"DataNode",name:"DataNode",lazy:""}},[e("div",{staticClass:"operation-container"},[e("data-nodes")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"FuseClient",name:"FuseClient",lazy:""}},[e("div",{staticClass:"operation-container"},[e("fuse-clients")],1)]),t._v(" "),e("el-tab-pane",{attrs:{label:"ObjectNode",name:"ObjectNode",lazy:""}},[e("div",{staticClass:"operation-container"},[e("object-nodes")],1)])],1)],1)},c=[],u=(a(34284),function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-cluster"},[e("div",{staticClass:"total-title mt10 mb30"},[e("ul",{staticClass:"total-ul"},t._l(t.timeInterval,(function(a){return e("li",{key:a,class:{active:a===t.totalTimeInterval},on:{click:function(e){return t.changeTime(a)}}},[t._v(t._s(a))])})),0),t._v(" "),e("span",[t._v("TopK:")]),t._v(" "),e("topk-sel",{staticClass:"inline-block ml10"})],1),t._v(" "),e("div",{staticClass:"mt20"},[e("div",{staticClass:"clearfix"},t._l(t.countList,(function(a,i){return e("div",{key:i,staticClass:"count fl"},[e("span",[t._v(t._s(a.text))]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading cont-loading"}),t._v(" "),"VolumeCount"!=a.id?e("b",[t._v(t._s(a.num))]):e("b",[t._v(t._s(a.num)+" "),e("em",{staticClass:"sub-text"},[t._v("days before")])]),t._v(" "),e("div",{staticClass:"cluster_pic",staticStyle:{width:"100%",height:"60px"},attrs:{id:a.id}})])})),0)]),t._v(" "),e("div",{staticClass:"mt20 ratio-block clearfix"},[e("div",{staticClass:"each-block b-small-size fl"},[e("h3",{staticClass:"mb15"},[t._v("DataNodeSize")]),t._v(" "),t._l(t.dataNodeSize,(function(a,i){return e("div",{key:i,staticClass:"mb10"},[e("h4",{staticClass:"mb5"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"size-block"},[a.size>0?e("div",{staticClass:"size-bar",style:{width:a.size/t.dataNodeSize[0].size*100+"%"}},[e("span",{staticClass:"size-val"},[t._v(t._s(a.unitSize))])]):0===a.size||a.size<0?e("div",[e("span",{staticClass:"size-val"},[t._v(t._s(a.size)+" GB")])]):e("div",[e("span",{staticClass:"size-val"},[t._v("-")])])])])}))],2),t._v(" "),e("div",{staticClass:"each-block b-small-size fl"},[e("h3",{staticClass:"mb15"},[t._v("MetaNodeSize")]),t._v(" "),t._l(t.metaNodeSize,(function(a,i){return e("div",{key:i,staticClass:"mb10"},[e("h4",{staticClass:"mb5"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"size-block"},[a.size?e("div",{staticClass:"size-bar",style:{width:a.size/t.metaNodeSize[0].size*100+"%"}},[e("span",{staticClass:"size-val"},[t._v(t._s(a.unitSize))])]):0===a.size||a.size<0?e("div",[e("span",{staticClass:"size-val"},[t._v(t._s(a.size)+" GB")])]):e("div",[e("span",{staticClass:"size-val"},[t._v("NaN")])])])])}))],2),t._v(" "),e("div",{staticClass:"each-block b-large-size fl"},[e("h3",{staticClass:"mb15"},[t._v("VolumeTotalSize")]),t._v(" "),t.volumeTotalSize.data.length?e("ul",{staticClass:"overflow-block"},t._l(t.volumeTotalSize.data,(function(a,i){return e("li",{key:i,staticClass:"mb10 clearfix"},[e("h4",{staticClass:"fl flex-h4"},[t._v(t._s(a.metric.volName))]),t._v(" "),e("div",{staticClass:"size-block flex-size-block fl"},[a.size?e("div",{staticClass:"size-bar",style:{width:a.size/t.volumeTotalSizeMax*100+"%"}},[a.unitSize?e("span",{staticClass:"size-val"},[t._v(t._s(a.unitSize))]):t._e()]):0===a.size?e("div",[e("span",{staticClass:"size-val"},[t._v("0 GB")])]):e("div",[e("span",{staticClass:"size-val"},[t._v("NaN")])])])])})),0):e("div",{staticClass:"overflow-block"},[t._v("\n        No data\n      ")])])]),t._v(" "),e("div",{staticClass:"ratio-block clearfix"},[t._l(t.ratioList1,(function(a,i){return e("div",{key:"ratioList1"+i,staticClass:"each-block b-min-size fl"},[e("h3",{staticClass:"mb30"},[t._v(t._s(a.name))]),t._v(" "),a.size?e("div",{staticStyle:{"text-align":"center"}},[e("el-progress",{attrs:{type:"dashboard",percentage:a.size,"stroke-width":10,color:t.colors}})],1):e("div",{staticClass:"no-data"},[t._v("\n        -\n      ")])])})),t._v(" "),t._l(t.ratioList2,(function(a,i){return e("div",{key:"ratioList2"+i,staticClass:"each-block b-min-size fl"},[e("h3",{staticClass:"mb30"},[t._v(t._s(a.name))]),t._v(" "),a.size?e("div",{staticClass:"light-block light-block-error"},[e("div",{staticClass:"light-block-con"},[t._v(t._s(a.size))])]):e("div",{staticClass:"light-block"},[e("div",{staticClass:"light-block-con"},[t._v("0")])])])})),t._v(" "),e("div",{staticClass:"each-block b-small-size volume-used-ratio fl"},[e("h3",{staticClass:"mb15"},[t._v("VolumeUsedRatio")]),t._v(" "),t.volumeRatio.data.length?e("ul",{staticClass:"overflow-block"},t._l(t.volumeRatio.data,(function(a,i){return e("li",{key:i,staticClass:"mb10 clearfix"},[e("h4",{staticClass:"fl flex-h4"},[t._v(t._s(a.metric.volName))]),t._v(" "),a.ratio?e("div",{staticClass:"size-block flex-size-block fl"},[e("div",{staticClass:"size-bar",style:{width:a.ratio+"%"}},[e("span",{staticClass:"size-val"},[t._v(t._s(a.ratio)+" %")])])]):e("div",[e("span",{staticClass:"size-val"},[t._v("NaN")])])])})),0):e("div",{staticClass:"overflow-block"},[t._v("\n        No data\n      ")])])],2)])}),d=[],h=(a(60228),a(47522),a(64043),a(57267),a(69358),a(76265),a(97389),a(70560),a(79288),a(70492)),p=a.n(h),m=(a(78511),a(46295),a(83062),a(21865),a(53665),a(31302)),v=a(2106),f=a(4969),g={clusterView:(0,f.ZP)(i||(i=(0,v.Z)(["query clusterView {\n    clusterView {\n      name\n    }\n  }"]))),masterList:(0,f.ZP)(n||(n=(0,v.Z)(["query masterList {\n    masterList {\n      addr\n    }\n  }"]))),queryVolumeList:(0,f.ZP)(s||(s=(0,v.Z)(["query listVolume ($keyword:String, $userID:String) {\n    listVolume (keyword:$keyword, userID:$userID) {\n      name\n    }\n  }"]))),rangeQuery:(0,f.ZP)(o||(o=(0,v.Z)(["query RangeQuery($query:String, $start:uint32, $end:uint32,$step:uint32){\n    RangeQuery: RangeQuery(query:$query, start:$start, end:$end,step:$step)\n  }"]))),query:(0,f.ZP)(r||(r=(0,v.Z)(["query Query($query:String) {\n    Query: Query(query:$query)\n  }"])))},y=g,x=function(){var t=this,e=t._self._c;return e("div",[e("el-select",{attrs:{disabled:""},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)},_=[],b={name:"clusterSel",data:function(){return{selVal:null,options:[]}},methods:{onChange:function(){this.$parent.clusterChange(this.selVal)},queryList:function(){var t=this,e=this;this.apollo.query(this.url.consoleCluster,y.clusterView,null).then((function(e){if(e){var a=e.data;t.options=a.clusterView,t.selVal=t.options.name,t.$parent.clusterChange(t.selVal)}})).catch((function(t){e.options=[],console.log(t)}))}},mounted:function(){this.queryList()}},C=b,w=a(1001),S=(0,w.Z)(C,x,_,!1,null,"a3513342",null),k=S.exports,I=function(){var t=this,e=t._self._c;return e("div",[e("el-select",{on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t.addr,attrs:{label:t.addr,value:t.addr}})})),1)],1)},A=[],L={name:"masterInstanceSel",data:function(){return{selVal:[],options:[]}},methods:{onChange:function(){this.$parent.masterInstanceChange(this.selVal)},queryList:function(){var t=this,e=this;this.apollo.query(this.url.consoleCluster,y.masterList,null).then((function(e){if(e){var a=e.data;t.options=a.masterList,t.selVal=t.options[0].addr,t.onChange()}})).catch((function(t){e.options=[],console.log(t)}))}},mounted:function(){this.queryList()}},D=L,M=(0,w.Z)(D,I,A,!1,null,"2180a6e8",null),V=M.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("el-select",{on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)},z=[],N={name:"clusterSel",data:function(){return{selVal:5,options:[5,10,20,30,50,100]}},methods:{onChange:function(){this.$parent.topkChange(this.selVal)}},mounted:function(){this.$parent.topkChange(this.selVal)}},T=N,E=(0,w.Z)(T,O,z,!1,null,null,null),q=E.exports,R={name:"clusters",components:{clusterSel:k,masterInstanceSel:V,topkSel:q},data:function(){return{typeVal:"All",typeList:["All","MasterCount"],resourceChart:null,timeInterval:["Daily","Weekly","Monthly"],totalTimeInterval:"Daily",startTime:null,endTime:null,step:15,appVal:"cfs",clusterVal:null,masterInstanceVal:null,topkVal:null,countList:[{id:"MasterCount",text:"MasterCount",query:'count(up{cluster="$cluster", app="$app", role="master"} > 0)',data:[],isLoading:!0,num:"-"},{id:"MetaNodeCount",text:"MetaNodeCount",query:'count(up{cluster="$cluster", app="$app", role="metanode"} > 0)',data:[],isLoading:!0,num:"-"},{id:"DataNodeCount",text:"DataNodeCount",query:'count(up{cluster="$cluster", app="$app", role="dataNode"} > 0)',data:[],isLoading:!0,num:"-"},{id:"ClientCount",text:"ClientCount",query:'count(up{cluster="$cluster", app="$app", role="fuseclient"} > 0)',data:[],isLoading:!0,num:"-"},{id:"ObjectNodeCount",text:"ObjectNodeCount",query:'sum($app_master_vol_count{cluster=~"$cluster"})',data:[],isLoading:!0,num:"-"},{id:"VolumeCount",text:"VolumeCount",query:'sum($app_master_vol_count{cluster=~"$cluster"})',data:[],isLoading:!0,num:"-"}],dataNodeSize:[{name:"TotalSize",query:'cfs_master_dataNodes_total_GB{app="$app",cluster="$cluster"}',size:0,unitSize:0},{name:"UsedSize",query:'cfs_master_dataNodes_used_GB{app="$app",cluster="$cluster"}',size:0,unitSize:0},{name:"IncreasedSize",query:'cfs_master_dataNodes_increased_GB{app="$app",cluster="$cluster"}',size:0,unitSize:0}],metaNodeSize:[{name:"TotalSize",query:'cfs_master_metaNodes_total_GB{cluster=~"$cluster"}',size:0,unitSize:0},{name:"UsedSize",query:'cfs_master_metaNodes_used_GB{cluster=~"$cluster"}',size:0,unitSize:0},{name:"IncreasedSize",query:'cfs_master_metaNodes_increased_GB{cluster=~"$cluster"}',size:0,unitSize:0}],volumeTotalSizeMax:0,volumeTotalSize:{name:"VolumeTotalSize",query:'topk($topk, cfs_master_vol_total_GB{app="$app",cluster="$cluster"})',data:[]},ratioList1:[{name:"DataNodeUsedRatio",query:'cfs_master_dataNodes_used_GB{app="$app",cluster="$cluster"}/ cfs_master_dataNodes_total_GB{app="$app",cluster="$cluster"}',size:0},{name:"MetaNodeUsedRatio",query:'cfs_master_metaNodes_used_GB{app="$app",cluster="$cluster"}/ cfs_master_metaNodes_total_GB{app="$app",cluster="$cluster"}',size:0}],ratioList2:[{name:"Active DataNodes",query:'cfs_master_dataNodes_inactive{app="$app", cluster="$cluster"}',size:0},{name:"Active MetaNodes",query:'cfs_master_metaNodes_inactive{app="$app", cluster="$cluster"}',size:0},{name:"DiskError",query:'cfs_master_disk_error{app="$app", cluster="$cluster"}',size:0}],colors:[{color:"#188AEF",percentage:30},{color:"#14B8EA",percentage:70},{color:"#1FC8DC",percentage:100}],volumeRatio:{name:"VolumeUsedRatio",query:'topk($topk, cfs_master_vol_used_GB{app="$app",cluster="$cluster"}/cfs_master_vol_total_GB{app="$app",cluster="$cluster"})',data:[]},biByte:["iB","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],byte:["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]}},methods:{changeTime:function(t){this.totalTimeInterval=t||this.totalTimeInterval;var e=parseInt((new Date).getTime()/1e3),a=parseInt((new Date).getTime()/1e3),i=86400;switch(t){case"Daily":e=a-i,this.step=900;break;case"Weekly":this.step=1200,e=a-7*i;break;case"Monthly":this.step=7200,e=a-30*i;break;default:e=a-i}this.startTime=e,this.endTime=a,this.queryCount()},topkChange:function(t){this.topkVal=t,this.changeTime(this.totalTimeInterval),this.queryData(this.volumeTotalSize),this.queryData(this.volumeRatio,"ratio")},queryCount:function(){var t=this;this.countList.forEach((function(e){t.queryBaudStorage(e)}))},queryBaudStorage:function(t){var e=this;t.isLoading=!0;var a={query:t.query.replace("$app",this.appVal),start:this.startTime,end:this.endTime,step:this.step};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(t.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result,n=i&&i[0]?i[0].values:[];if(t.data=n,t.num=n.length?t.data[t.data.length-1][1]:"-","VolumeCount"===t.id){var s=(new Date).getTime()/1e3,o=t.data[0]?t.data[0][0]:s;t.num=parseInt((s-o)/60/60/24)}e.initCountChart(t)}})).catch((function(e){t.isLoading=!1,console.log(e)}))},initCountChart:function(t){var e=p().init(document.getElementById(t.id)),a=document.getElementById(t.id),i={xAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:function(){return""}},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisLabel:{formatter:function(){return""}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},grid:{left:"3",right:"10",bottom:"3",top:"0",containLabel:!0},series:[{data:t.data,type:"line",symbol:"none",itemStyle:{normal:{color:"rgba(69,168,240,0.74)",lineStyle:{color:"rgba(69,168,240,0.74)"}}},areaStyle:{normal:{color:"rgba(0,158,255,0.08)"}}}]};e.setOption(i,!0);var n=function(){e.resize()};m.m.on(a,n)},formatSize:function(t,e,a){if(0===e)return"0 Bytes";e=2===a?e:e*Math.pow(10,9);var i=2===a?1024:1e3,n=Math.floor(Math.log(e)/Math.log(i));return parseFloat((e/Math.pow(i,n)).toFixed(3))+" "+t[n]},queryData:function(t,e){var a=this,i={query:t.query.replace(/\$topk/g,this.topkVal)};this.apollo.query(this.url.monitor,y.query,i).then((function(i){if(!i.code){var n=JSON.parse(i.data.Query).data.result;if("VolumeTotalSize"===t.name){var s=[];return n.forEach((function(t){var e=t.value[1]?parseInt(t.value[1]):0;e&&e>a.volumeTotalSizeMax&&(a.volumeTotalSizeMax=e);var i=a.formatSize(a.byte,e,10),n={metric:t.metric,time:t.value[0],size:e,unitSize:i};s.push(n)})),void(t.data=s)}if("VolumeUsedRatio"===t.name){var o=[];return n.forEach((function(t){var e={metric:t.metric,time:t.value[0],ratio:t.value[1]?(100*t.value[1]).toFixed(2):null};o.push(e)})),void(t.data=o)}var r=n.length?n[0].value:[],l=0;if(e)l=r[1]?Number((100*r[1]).toFixed(2)):null,t.size=l;else{l=void 0!==r[1]?parseInt(r[1]):"-",t.size=l;var c=a.formatSize(a.byte,l,10);t.unitSize=c}}})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.dataNodeSize.forEach((function(e){t.queryData(e)})),this.metaNodeSize.forEach((function(e){t.queryData(e)})),this.ratioList1.forEach((function(e){t.queryData(e,"ratio")})),this.ratioList2.forEach((function(e){t.queryData(e,"ratio")}))}},$=R,B=(0,w.Z)($,u,d,!1,null,"619d86fa",null),P=B.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-con"},[e("time-interval-setter"),t._v(" "),e("div",[e("span",[t._v("TopKï¼")]),t._v(" "),e("topk-sel",{staticClass:"inline-block mr20"}),t._v(" "),e("span",[t._v("MetaNodeOpï¼")]),t._v(" "),e("meta-node-sel")],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},t._l(t.metrics,(function(a,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:"All"===t.typeVal||a.tag===t.typeVal,expression:"typeVal === 'All' || item.tag === typeVal"}],key:i},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.showTitle,expression:"item.showTitle"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.showTitle&&!a.data.length,expression:"item.showTitle && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.showTitle&&!a.data.length,expression:"!item.showTitle &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0)])],1)},F=[],j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline-block dash-sel-b"},[e("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)},Z=[],U={roleParam:["fuseClient","metaNode","dataNode","objectNode","master"],metaNodeParam:["OpMetaCreateInode","OpMetaLinkInode","OpMetaUnlinkInode","OpMetaInodeGet","OpMetaEvictInode","OpMetaSetattr","OpMetaCreateDentry","OpMetaDeleteDentry","OpMetaUpdateDentry","OpMetaReadDir","OpMetaNodeHeartbeat","OpMetaExtentsAdd","OpMetaExtentsList","OpMetaExtentsDel","OpMetaTruncate","OpMetaLookup","OpDeleteMetaPartition","OpUpdateMetaPartition","OpMetaBatchInodeGet","OpMetaDeleteInode","OpMetaBatchExtentsAdd","OpMetaSetXAttr","OpMetaGetXAttr","OpMetaBatchGetXAttr","OpMetaRemoveXAttr","OpMetaListXAttr","OpCreateMultipart","OpListMultiparts","OpRemoveMultipart","OpAddMultipartPart","OpGetMultipart","OpDecommissionMetaPartition","OpCreateMetaPartition"],dataNodeParam:["OpCreateExtent","OpWrite","OpSyncWrite","OpStreamRead","OpStreamFollowerRead","OpMarkDelete","OpRandowWrite","OpSyncRandomWrite","OpCreateDataPartition","OpDeleteDataPartition","OpDataNodeHeartbeat","OpGetAppliedId","OpDecommissionDataPartition","OpAddDataPartitionRaftMember","OpRemoveDataPartitionRaftMember"],objectNodeParam:["GetObject","PutObject","CopyObject","ListObjects","DeleteObject","DeleteObjects","HeadObject","CreateBucket","DeleteBucket","HeadBucket","ListBuckets","CreateMultipartUpload","ListMultipartUploads","UploadPart","ListParts","CompleteMultipartUpload","AbortMultipartUpload","GetBucketLocation","GetObjectXAttr","PutObjectXAttr","ListObjectXAttrs","DeleteObjectXAttr","GetObjectTagging","PutObjectTagging","DeleteObjectTagging","GetBucketTagging","PutBucketTagging","DeleteBucketTagging","Read","Write"],fuseOpParam:["mkdir","mknod","filecreate","link","symlink","rmdir","unlink","readdir","rename","fileread","filewrite","filesync"],colorLists:["#B1032E","#F9B100","#2A9720","#0D7981","#1F61A5","#5C409D","#DC1345","#EFC915","#22B514","#1F9098","#2880C2","#6B33E2","#EF3664","#FBDB3F","#2FCE1F","#2BB5C7","#2C92D6","#9F79E6","#E25441","#F9DF00","#51E841","#41CEE2","#35B0F4","#8C6CF2","#F5705F","#F2EC93","#AEF1A9","#64D6E3","#46BCFB","#7B5FD4","#F58C5F","#F0F79F","#C9FFC5","#90E4EA","#6AC7F6","#C457D9"]},K={name:"metaNodeSel",data:function(){return{selVal:[],options:U.metaNodeParam}},methods:{onChange:function(){this.$parent.metaNodeChange(this.selVal)}},mounted:function(){this.selVal.push(U.metaNodeParam[0])}},Q=K,H=(0,w.Z)(Q,j,Z,!1,null,null,null),J=H.exports,W=a(69092),X=a(85353),Y=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"total-ul mr20"},t._l(t.timeInterval,(function(a){return e("li",{key:a,class:{active:a===t.totalTimeInterval},on:{click:function(e){return t.changeTime(a)}}},[t._v(t._s(a))])})),0)},tt=[],et={name:"clusterSel",data:function(){return{timeInterval:["Hourly","Daily","Weekly","Monthly"],totalTimeInterval:"Hourly"}},methods:{initDate:function(t,e,a){var i={xData:[],xDataMap:{},xDataInit:[]},n=0,s=t;while(s<e){if(void 0===i.xDataMap[s]){i.xData.push(s),i.xDataMap[s]=n;var o=(0,W.Ur)(1e3*s);i.xDataInit.push(o),n++}s+=a}return i},changeTime:function(t){this.totalTimeInterval=t||this.totalTimeInterval;var e=15,a=parseInt((new Date).getTime()/1e3),i=parseInt((new Date).getTime()/1e3);i-=i%60;var n=3600,s=15,o={};switch(t){case"Hourly":e=15,a=i-n,s=15;break;case"Daily":e=120,a=i-24*n,s=60;break;case"Weekly":e=1200,a=i-7*n,s=600;break;case"Monthly":e=7200,a=i-30*n,s=1800;break;default:e=15,a=i-n,s=15;break}o=this.initDate(a,i,s);var r={startTime:a,endTime:i,step:e,xData:o.xData,xDataMap:o.xDataMap,xDataInit:o.xDataInit};this.$parent.timeIntervalChange(r)}},mounted:function(){this.changeTime()}},at=et,it=(0,w.Z)(at,Y,tt,!1,null,"2a90ab97",null),nt=it.exports,st=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:t.id}})},ot=[],rt={name:"Chart",props:{id:{type:String,required:!0},option:{type:Object}},data:function(){return{chartsId:null,chartInstance:null}},watch:{option:{handler:function(){this.render()},deep:!0}},methods:{render:function(){this.id&&this.option&&(this.chartInstance=p().init(document.getElementById(this.id)),this.chartsId=document.getElementById(this.id),this.chartInstance.clear(),this.chartInstance.setOption(this.option,!0),m.m.off(this.chartsId,this.resizeHandler),m.m.on(this.chartsId,this.resizeHandler))},resizeHandler:function(){this.chartInstance&&this.chartInstance.resize()}},beforeDestroy:function(){this.chartInstance&&this.chartInstance.dispose(),this.chartsId&&m.m.off(this.chartsId,this.resizeHandler),this.chartsId=null,this.chartInstance=null}},lt=rt,ct=(0,w.Z)(lt,st,ot,!1,null,null,null),ut=ct.exports,dt={name:"metanodes",components:{metaNodeSel:J,topkSel:q,timeIntervalSetter:nt,chart:ut},data:function(){return{typeVal:"All",topKVal:5,selectItem:["OpMetaCreateInode"],topKOptions:[5,10,20,30,50,100],metricsDemo:[{id:"time",text:"{0}:Time",query:'topk({0}, cfs_metanode_{1}{app="cfs", cluster="spark"})',data:[],tag:"time",showTitle:!0},{id:"ops",text:"{0}:Ops",query:'topk({0}, delta(cfs_metanode_{1}_count{app="cfs", cluster="spark"}[1m])/60)',data:[],tag:"ops",showTitle:!0}],metrics:[],timeIntervalVal:null,isInit:!0}},methods:{initMetricsChart:function(t){return{color:U.colorLists,tooltip:{trigger:"axis",confine:!0},grid:{left:"30px",right:"30px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},type:"value"},series:t.series}},queryBaudStorage:function(t){var e=this,a=this,i={query:t.query,start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step};this.apollo.query(this.url.monitor,y.rangeQuery,i).then((function(i){if(!i.code){var n=JSON.parse(i.data.RangeQuery).data.result;t.data=n;var s=e.timeIntervalVal.xData,o=[];t.data.forEach((function(e){var a={name:e.metric.instance,type:"line",stack:e.metric.instance},i=[];s.forEach((function(a){for(var n=0,s=0,o=e.values.length;s<o;s++){var r=e.values[s];if(a===r[0]){"time"===t.tag?n=parseFloat((Number(r[1])/1e3/1e3).toFixed(2)):"ops"===t.tag&&(n=parseFloat(Number(r[1]).toFixed(2)));break}}i.push(n)})),a.data=i,o.push(a)})),t.series=o;var r=[];s.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===r.indexOf(e)&&r.push(e)})),t.xData=r,t.showTitle=!1,t.option=a.initMetricsChart(t)}})).catch((function(t){console.log(t)}))},metaNodeChange:function(t){this.selectItem=t,this.isInit||this.initMetrics()},topkChange:function(t){this.topKVal=t,this.isInit||this.initMetrics()},timeIntervalChange:function(t){this.timeIntervalVal=t,this.isInit||this.initMetrics()},initMetrics:function(){var t=this;this.metrics=[],this.selectItem.forEach((function(e,a){t.metricsDemo.forEach((function(i){var n=Object.assign({},i);n.id=n.id+a,n.text=(0,X.Ox)(n.text,e),n.query=(0,X.Ox)(n.query,t.topKVal,e),n.option={},t.queryBaudStorage(n),t.metrics.push(n)}))}))}},mounted:function(){this.initMetrics(),this.isInit=!1}},ht=dt,pt=(0,w.Z)(ht,G,F,!1,null,null,null),mt=pt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-con"},[e("time-interval-setter"),t._v(" "),e("div",[e("span",[t._v("TopKï¼")]),t._v(" "),e("topk-sel",{staticClass:"inline-block mr20"}),t._v(" "),e("span",[t._v("DataNodeOpï¼")]),t._v(" "),e("data-node-sel")],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},t._l(t.metrics,(function(a,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:"All"===t.typeVal||a.tag===t.typeVal,expression:"typeVal === 'All' || item.tag === typeVal"}],key:i},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.showTitle,expression:"item.showTitle"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.showTitle&&!a.data.length,expression:"item.showTitle && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.showTitle&&!a.data.length,expression:"!item.showTitle &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0)])],1)},ft=[],gt=a(84858),yt=(a(65137),a(6203),function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline-block dash-sel-b"},[e("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)}),xt=[],_t={name:"dataNodeSel",data:function(){return{selVal:[],options:U.dataNodeParam}},methods:{onChange:function(){this.$parent.dataNodeChange(this.selVal)}},mounted:function(){this.selVal.push(U.dataNodeParam[0])}},bt=_t,Ct=(0,w.Z)(bt,yt,xt,!1,null,"66cf90da",null),wt=Ct.exports,St={name:"metanodes",components:{dataNodeSel:wt,topkSel:q,timeIntervalSetter:nt,chart:ut},data:function(){return{typeVal:"All",topKVal:5,selectItem:["OpCreateExtent"],topKOptions:[5,10,20,30,50,100],metricsDemo:[{id:"node_time",text:"{0}:Time",query:'topk({0}, cfs_dataNode_{1}{app="cfs", cluster="spark"})',data:[],tag:"time",showTitle:!0},{id:"node_ops",text:"{0}:Ops",query:'topk({0}, delta(cfs_dataNode_{1}_count{app="cfs", cluster="spark"}[1m])/60)',data:[],tag:"ops",showTitle:!0}],metrics:[],timeIntervalVal:null,isInit:!0,xObj:{}}},methods:{initMetricsChart:function(t){return{animation:!1,progressive:!0,color:U.colorLists,tooltip:{trigger:"axis",confine:!0,formatter:function(e){var a=[],i=[];return a=(0,gt.Z)(e),a.sort((function(t,e){return t.value||(t.value=0),e.value||(e.value=0),e.value-t.value})),a.forEach((function(e){if(0!==e.value){var a=e.marker+" "+e.seriesName+": "+e.value+"<br/>";"time"===t.tag&&(a=e.marker+" "+e.seriesName+": "+(0,X.mr)(e.value,!0)+"<br/>"),i.push(a)}else{var n=e.marker+" "+e.seriesName+": -<br/>";i.push(n)}})),a[0].name+"<br/>"+i.join("")}},grid:{left:"30px",right:"30px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},type:"value",axisLabel:{formatter:function(e){return"time"===t.tag?(0,X.mr)(e,!0):e}}},series:t.series}},queryBaudStorage:function(t){var e=this,a={query:t.query,start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;e.initData(t,i)}})).catch((function(t){console.log(t)}))},initData:function(t,e){t.data=e,console.log("-----------Sta-- "+(new Date).getTime());var a=0,i=[],n=this.timeIntervalVal.xDataMap;t.data.forEach((function(e){var s={type:"line",name:e.metric.instance,stack:e.metric.instance,showAllSymbol:!0,symbol:"circle",symbolSize:2.5},o=[];e.values.forEach((function(e){var i=n[e[0]];if(void 0!==i){var s=void 0!==e[1]?e[1]:0;"ops"===t.tag&&(s=void 0!==e[1]?parseFloat(Number(e[1]).toFixed(2)):0),o[i]=s}a++})),s.data=o,i.push(s)})),console.log("num1 "+a),t.xData=this.timeIntervalVal.xDataInit,t.series=i,t.showTitle=!1,t.option=this.initMetricsChart(t),console.log("End-- "+(new Date).getTime())},dataNodeChange:function(t){this.selectItem=t,this.isInit||this.initMetrics(!0)},topkChange:function(t){this.topKVal=t,this.isInit||this.initMetrics()},timeIntervalChange:function(t){this.timeIntervalVal=t,this.isInit||this.initMetrics()},initMetrics:function(){var t=this;this.metrics=[],this.selectItem.forEach((function(e,a){t.metricsDemo.forEach((function(i){var n=Object.assign({},i);n.id=n.id+a,n.text=(0,X.Ox)(n.text,e),n.query=(0,X.Ox)(n.query,t.topKVal,e),n.option={},t.queryBaudStorage(n),t.metrics.push(n)}))}))}},mounted:function(){this.initMetrics(!0),this.isInit=!1}},kt=St,It=(0,w.Z)(kt,vt,ft,!1,null,null,null),At=It.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-con"},[e("div",[e("time-interval-setter"),t._v(" "),e("span",[t._v("ObjectNodeOp:")]),t._v(" "),e("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.objectNodeChange},model:{value:t.objectNodeVal,callback:function(e){t.objectNodeVal=e},expression:"objectNodeVal"}},t._l(t.objectNodeOptions,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),e("span",{staticClass:"ml15"},[t._v("TopK:")]),t._v(" "),e("topk-sel",{staticClass:"inline-block ml10"})],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},[t._l(t.objectNodeVal,(function(a,i){return e("li",{key:i+"time"},[e("h4",[e("span",[t._v(t._s(a)+":Time")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("div",{staticStyle:{height:"calc(100% - 45px)"},attrs:{id:a+"Time"}},[t._v("loading...")])])})),t._v(" "),t._l(t.objectNodeVal,(function(a,i){return e("li",{key:i+"ops"},[e("h4",[e("span",[t._v(t._s(a)+":Ops")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("div",{staticStyle:{height:"calc(100% - 45px)"},attrs:{id:a+"Ops"}},[t._v("loading...")])])}))],2)])])},Dt=[],Mt={name:"objectNodes",components:{timeIntervalSetter:nt,topkSel:q},data:function(){return{objectNodeOptions:U.objectNodeParam,objectNodeVal:[U.objectNodeParam[1]],timeIntervalVal:null,topkVal:null}},methods:{timeIntervalChange:function(t){this.timeIntervalVal=t,this.queryData()},topkChange:function(t){this.topkVal=t,this.queryData()},objectNodeChange:function(){this.queryData()},queryData:function(){var t=this;this.timeIntervalVal&&this.topkVal&&this.objectNodeVal.length&&this.objectNodeVal.forEach((function(e){t.queryAllData(e,"time"),t.queryAllData(e,"ops")}))},queryAllData:function(t,e){var a=this,i={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:'topk($topk, cfs_objectnode_action_[[obOp]]{app="$app", cluster="$cluster"})'.replace(/\$topk/g,this.topkVal).replace(/\[\[obOp\]\]/g,t)};"ops"===e&&(i.query='topk($topk, rate(cfs_objectnode_action_[[obOp]]_count{app=~"$app", cluster="$cluster"}[1m]))'.replace(/\$topk/g,this.topkVal).replace(/\[\[obOp\]\]/g,t)),this.apollo.query(this.url.monitor,y.rangeQuery,i).then((function(n){if(!n.code){var s=JSON.parse(n.data.RangeQuery).data.result;a.initData(t,s,e),i.query="ops"===e?'sum(rate(cfs_objectnode_action_[[obOp]]_count{app=~"$app", cluster="$cluster"}[1m]))'.replace(/\$topk/g,a.topkVal).replace(/\[\[obOp\]\]/g,t):'avg(cfs_objectnode_action_[[obOp]]{app="$app", cluster="$cluster"})'.replace(/\$topk/g,a.topkVal).replace(/\[\[obOp\]\]/g,t),a.apollo.query(a.url.monitor,y.rangeQuery,i).then((function(i){if(!i.code){var n=JSON.parse(i.data.RangeQuery).data.result[0];n.metric.instance="ops"===e?"sum":"avg",s.push(n)}a.initData(t,s,e)})).catch((function(i){a.initData(t,s,e),console.log(i)}))}})).catch((function(t){console.log(t)}))},initData:function(t,e,a){var i={};i.id=t+("ops"===a?"Ops":"Time"),i.text=t+("ops"===a?":Ops":":Time"),i.unit="ops"===a?"ops":"ms",i.data=e;var n=this.timeIntervalVal.xData,s=[];i.data.forEach((function(t){var e={};t.values.forEach((function(t){var a=parseInt(t[1]);e[t[0]]=a}));var i={name:t.metric.instance,type:"line",stack:t.metric.instance,smooth:!0},o=[];n.forEach((function(t){if("time"===a){var i=void 0!==e[t]?parseFloat((Number(e[t])/1e3/1e3).toFixed(3)):null;o.push(i)}else{var n=void 0!==e[t]?parseFloat(Number(e[t]).toFixed(3)):null;o.push(n)}})),i.data=o,s.push(i)})),i.series=s;var o=[];n.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===o.indexOf(e)&&o.push(e)})),i.xData=o,this.initMetricsChart(i)},initMetricsChart:function(t){var e=p().init(document.getElementById(t.id)),a=document.getElementById(t.id),i={color:U.colorLists,tooltip:{trigger:"axis",confine:!0},grid:{left:"30px",right:"30px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},type:"value"},series:t.series};e.setOption(i,!0);var n=function(){e.resize()};m.m.on(a,n)}}},Vt=Mt,Ot=(0,w.Z)(Vt,Lt,Dt,!1,null,null,null),zt=Ot.exports,Nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-cluster"},[e("time-interval-setter"),t._v(" "),e("div",[e("span",[t._v("TopKï¼")]),t._v(" "),e("topk-sel",{staticClass:"inline-block mr20"}),t._v(" "),e("span",[t._v("MetaNodeOpï¼")]),t._v(" "),e("meta-node-sel",{staticClass:"mr20"}),t._v(" "),e("span",[t._v("fuseOpï¼")]),t._v(" "),e("fuse-op-sel")],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},t._l(t.metrics,(function(a,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:"All"===t.typeVal||a.tag===t.typeVal,expression:"typeVal === 'All' || item.tag === typeVal"}],key:i},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.showTitle,expression:"item.showTitle"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.showTitle&&!a.data.length,expression:"item.showTitle && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.showTitle&&!a.data.length,expression:"!item.showTitle &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0),t._v(" "),e("ul",{staticClass:"metrics"},t._l(t.metricsFuse,(function(a,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:"All"===t.typeVal||a.tag===t.typeVal,expression:"typeVal === 'All' || item.tag === typeVal"}],key:i},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.showTitle,expression:"item.showTitle"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.showTitle&&!a.data.length,expression:"item.showTitle && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.showTitle&&!a.data.length,expression:"!item.showTitle &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0)])],1)},Tt=[],Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline-block dash-sel-b"},[e("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)},qt=[],Rt={name:"fuseOpSel",data:function(){return{selVal:[],options:U.fuseOpParam}},methods:{onChange:function(){this.$parent.fuseOpChange(this.selVal)}},mounted:function(){this.selVal.push(U.fuseOpParam[9])}},$t=Rt,Bt=(0,w.Z)($t,Et,qt,!1,null,"7ae9700d",null),Pt=Bt.exports,Gt={name:"metanodes",components:{metaNodeSel:J,fuseOpSel:Pt,topkSel:q,timeIntervalSetter:nt,chart:ut},data:function(){return{typeVal:"All",topKVal:5,selectItem:["OpMetaCreateInode"],selectFuseItem:["fileread"],topKOptions:[5,10,20,30,50,100],metricsDemo:[{id:"fuse_node_time",text:"{0}:Time",query:'topk({0}, cfs_metanode_{1}{app="cfs", cluster="spark"})',data:[],tag:"time",showTitle:!0},{id:"fuse_node_ops",text:"{0}:Ops",query:'topk({0}, delta(cfs_metanode_{1}_count{app="cfs", cluster="spark"}[1m])/60)',data:[],tag:"ops",showTitle:!0}],metricsFuseDemo:[{id:"fuse_time",text:"{0}:Time",query:'topk({0}, cfs_fuseclient_{1}{app="cfs", cluster="spark"})',data:[],tag:"time",showTitle:!0},{id:"fuse_ops",text:"{0}:Ops",query:'topk({0}, cfs_fuseclient_{1}_count{app="cfs", cluster="spark"})',data:[],tag:"ops",showTitle:!0}],metrics:[],metricsFuse:[],timeIntervalVal:null}},methods:{initMetricsChart:function(t){return{color:U.colorLists,tooltip:{trigger:"axis",confine:!0},grid:{left:"15px",right:"30px",bottom:"60px",top:"10px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},type:"value"},series:t.series}},queryBaudStorage:function(t){var e=this,a={query:t.query,start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;t.data=i;var n=e.timeIntervalVal.xData,s=[];t.data.forEach((function(e){var a={name:e.metric.instance,type:"line",stack:e.metric.instance},i=[];n.forEach((function(a){for(var n=0,s=0,o=e.values.length;s<o;s++){var r=e.values[s];if(a===r[0]){"time"===t.tag?n=parseFloat((Number(r[1])/1e3/1e3).toFixed(2)):"ops"===t.tag&&(n=parseFloat(Number(r[1]).toFixed(2)));break}}i.push(n)})),a.data=i,s.push(a)})),t.series=s;var o=[];n.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===o.indexOf(e)&&o.push(e)})),t.xData=o,t.showTitle=!1,t.option=e.initMetricsChart(t)}})).catch((function(t){console.log(t)}))},metaNodeChange:function(t){this.selectItem=t,this.initMetrics()},fuseOpChange:function(t){this.selectFuseItem=t,this.initMetricsFuse()},topkChange:function(t){this.topKVal=t,this.initMetrics(),this.initMetricsFuse()},timeIntervalChange:function(t){this.timeIntervalVal=t,this.initMetrics(),this.initMetricsFuse()},initMetrics:function(){var t=this;this.metrics=[],this.selectItem.forEach((function(e,a){t.metricsDemo.forEach((function(i){var n=Object.assign({},i);n.id=n.id+a,n.text=(0,X.Ox)(n.text,e),n.query=(0,X.Ox)(n.query,t.topKVal,e),t.queryBaudStorage(n),t.metrics.push(n)}))}))},initMetricsFuse:function(){var t=this;this.metricsFuse=[],this.selectFuseItem.forEach((function(e,a){t.metricsFuseDemo.forEach((function(i){var n=Object.assign({},i);n.id=n.id+a,n.text=(0,X.Ox)(n.text,e),n.query=(0,X.Ox)(n.query,t.topKVal,e),t.queryBaudStorage(n),t.metricsFuse.push(n)}))}))}},mounted:function(){this.initMetrics(),this.initMetricsFuse()}},Ft=Gt,jt=(0,w.Z)(Ft,Nt,Tt,!1,null,"5f71798c",null),Zt=jt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-con"},[e("div",[e("time-interval-setter"),t._v(" "),e("span",{staticClass:"ml15"},[t._v("TopK:")]),t._v(" "),e("topk-sel",{staticClass:"inline-block ml10"})],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},t._l(t.allList,(function(a,i){return e("li",{key:i+"time",class:{"last-li":2===i}},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.isLoading&&!a.data.length,expression:"item.isLoading && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.isLoading&&!a.data.length,expression:"!item.isLoading &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0)])])},Kt=[],Qt={name:"dashboardMaster",components:{timeIntervalSetter:nt,topkSel:q,chart:ut},data:function(){return{allList:[{id:"master_nodes_invalide",text:"master_nodes_invalide",query:'topk($topk, 1 - up{cluster="$cluster", role="master"}  )',data:[],isLoading:!0,tit:"spark_master_",num:"-"},{id:"spark_metanode_inactive",text:"spark_metanode_inactive",query:'topk($topk, 1 - up{cluster="$cluster", role="metanode"} > 0 )',data:[],isLoading:!0,tit:"metanode_",num:"-"},{id:"datanode_inactive",text:"datanode_inactive",query:'topk($topk, 1 - up{cluster="$cluster", role="dataNode"}  > 0)',data:[],isLoading:!0,tit:"datanode_",num:"-"}],topkVal:null}},methods:{timeIntervalChange:function(t){this.timeIntervalVal=t,this.queryData()},topkChange:function(t){this.topkVal=t,this.queryData()},queryData:function(){var t=this;this.timeIntervalVal&&this.topkVal&&this.allList.forEach((function(e){e.isLoading=!0,t.queryAllData(e)}))},queryAllData:function(t){var e=this,a={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:t.query.replace(/\$topk/g,this.topkVal)};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(t.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;t.data=i,e.initData(t)}})).catch((function(e){t.isLoading=!1,console.log(e)}))},initData:function(t){var e=Object.assign({},t),a=this.timeIntervalVal.xData,i=[];e.data.forEach((function(t){var n={};t.values.forEach((function(t){var e=parseInt(t[1]);n[t[0]]=e}));var s={name:e.tit+t.metric.instance,type:"line",stack:t.metric.instance},o=[];a.forEach((function(t){var e=void 0!==n[t]?n[t]:null;o.push(e)})),s.data=o,i.push(s)})),e.series=i;var n=[];a.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===n.indexOf(e)&&n.push(e)})),e.xData=n,t.option=this.initMetricsChart(e)},initMetricsChart:function(t){return{tooltip:{trigger:"axis",confine:!0},color:U.colorLists,grid:{left:"25px",right:"25px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},type:"value"},series:t.series}}}},Ht=Qt,Jt=(0,w.Z)(Ht,Ut,Kt,!1,null,null,null),Wt=Jt.exports,Xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-cluster"},[e("div",[e("time-interval-setter"),t._v(" "),e("span",{staticClass:"ml15"},[t._v("TopK:")]),t._v(" "),e("topk-sel",{staticClass:"inline-block ml10"})],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics"},t._l(t.allList,(function(a,i){return e("li",{key:i+"time"},[e("h4",[t._v("\n          "+t._s(a.text)+"\n          "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.data.length,expression:"!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("div",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id}})])})),0)])])},Yt=[],te={name:"metanodes",components:{timeIntervalSetter:nt,topkSel:q},data:function(){return{allList:[{id:"master_nodes_invalide",text:"master_nodes_invalide",query:'topk($topk, 1 - up{cluster="$cluster", role="master"}  )',data:[],isLoading:!0,num:"-"},{id:"spark_metanode_inactive",text:"spark_metanode_inactive",query:'topk($topk, 1 - up{cluster="$cluster", role="metanode"} > 0 )',data:[],isLoading:!0,num:"-"},{id:"datanode_inactive",text:"datanode_inactive",query:'topk($topk, 1 - up{cluster="$cluster", role="dataNode"}  > 0)',data:[],isLoading:!0,num:"-"},{id:"fuseclient_inactive",text:"fuseclient_inactive",query:'topk($topk, 1 - up{app="$app", cluster="$cluster", role="fuseclient"}  > 0)',data:[],isLoading:!0,num:"-"}],topkVal:null}},methods:{timeIntervalChange:function(t){this.timeIntervalVal=t,this.queryData()},topkChange:function(t){this.topkVal=t,this.queryData()},queryData:function(){var t=this;this.timeIntervalVal&&this.topkVal&&this.allList.forEach((function(e){e.isLoading=!0,t.queryAllData(e)}))},queryAllData:function(t){var e=this,a={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:t.query.replace(/\$topk/g,this.topkVal)};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(t.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;t.data=i,e.initData(t)}})).catch((function(e){t.isLoading=!1,console.log(e)}))},initData:function(t){var e=Object.assign({},t),a=[];e.data.forEach((function(t){var e=t.values[0];a.push(e[0])})),a.sort((function(t,e){return t-e}));var i=[];a.forEach((function(t){var e=(0,W.li)(1e3*t);-1===i.indexOf(e)&&i.push(e)})),e.xData=i;var n=[];e.data.forEach((function(t){var a={name:t.metric.instance,type:"line",stack:t.metric.instance},i=[];e.xData.forEach((function(e){var a=0;t.values.forEach((function(t){var i=(0,W.li)(1e3*t[0]);e===i&&(a=parseInt(t[1]))})),i.push(a)})),a.data=i,n.push(a)})),e.series=n,this.initMetricsChart(e)},initMetricsChart:function(t){var e=p().init(document.getElementById(t.id)),a=document.getElementById(t.id),i={tooltip:{trigger:"axis",confine:!0,formatter:function(t){var e=[],a=[];return e=(0,gt.Z)(t),e.sort((function(t,e){return e.value-t.value})),e.forEach((function(t){var e=t.marker+" "+t.seriesName+": "+t.value+"<br/>";a.push(e)})),a.join("")}},grid:{left:"15px",right:"15px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:t.xData},yAxis:{type:"value"},series:t.series};e.setOption(i,!0);var n=function(){e.resize()};m.m.on(a,n)}}},ee=te,ae=(0,w.Z)(ee,Xt,Yt,!1,null,"101455ca",null),ie=ae.exports,ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dash-con"},[e("div",[e("time-interval-setter"),t._v(" "),e("span",{staticClass:"ml15"},[t._v("TopK:")]),t._v(" "),e("topk-sel",{staticClass:"inline-block ml10"}),t._v(" "),e("span",{staticClass:"ml15"},[t._v("Vol:")]),t._v(" "),e("vol-sel",{staticClass:"inline-block ml10"})],1),t._v(" "),e("div",{staticClass:"mt20"},[e("ul",{staticClass:"metrics all-metrics"},t._l(t.allList,(function(a,i){return e("li",{key:i},[e("h4",[e("span",[t._v(t._s(a.text))]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:a.isLoading,expression:"item.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:a.isLoading&&!a.data.length,expression:"item.isLoading && !item.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!a.isLoading&&!a.data.length,expression:"!item.isLoading &&!item.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:a.data.length},attrs:{id:a.id,option:a.option}})],1)})),0),t._v(" "),e("ul",{staticClass:"metrics"},[e("li",[e("h4",[e("span",[t._v(t._s(t.volumeSizeAndRatio.text))]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.volumeSizeAndRatio.isLoading,expression:"volumeSizeAndRatio.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.volumeSizeAndRatio.isLoading&&!t.volumeSizeAndRatio.data.length,expression:"volumeSizeAndRatio.isLoading && !volumeSizeAndRatio.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.volumeSizeAndRatio.isLoading&&!t.volumeSizeAndRatio.data.length,expression:"!volumeSizeAndRatio.isLoading &&!volumeSizeAndRatio.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:t.volumeSizeAndRatio.data.length},attrs:{id:t.volumeSizeAndRatio.id,option:t.volumeSizeAndRatio.option}})],1),t._v(" "),e("li",[e("h4",[e("span",[t._v(t._s(t.volumeRate.text))]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.volumeRate.isLoading,expression:"volumeRate.isLoading"}],staticClass:"el-icon-loading"})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.volumeRate.isLoading&&!t.volumeRate.data.length,expression:"volumeRate.isLoading && !volumeRate.data.length"}],staticClass:"cont-loading"},[t._v("Loading...")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.volumeRate.isLoading&&!t.volumeRate.data.length,expression:"!volumeRate.isLoading &&!volumeRate.data.length"}],staticClass:"cont-loading"},[t._v("no data")]),t._v(" "),e("chart",{staticClass:"charts-block",class:{visible:t.volumeRate.data.length},attrs:{id:t.volumeRate.id,option:t.volumeRate.option}})],1)])])])},se=[],oe=function(){var t=this,e=t._self._c;return e("div",[e("el-select",{on:{change:t.onChange},model:{value:t.selVal,callback:function(e){t.selVal=e},expression:"selVal"}},t._l(t.options,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)},re=[],le={name:"clusterSel",data:function(){return{selVal:null,options:[]}},methods:{onChange:function(){this.$parent.volChange(this.selVal)},queryList:function(){var t=this,e={keyword:"",userID:sessionStorage.getItem("access_userID"),num:1e4};this.apollo.query(this.url.volume,y.queryVolumeList,e).then((function(e){e&&(e.data.listVolume.forEach((function(e){t.options.push(e.name)})),t.selVal=t.options[0],t.$parent.volChange(t.selVal))}))}},mounted:function(){this.queryList()}},ce=le,ue=(0,w.Z)(ce,oe,re,!1,null,"57aadc80",null),de=ue.exports,he={name:"dashboardVolume",components:{timeIntervalSetter:nt,chart:ut,topkSel:q,volSel:de},data:function(){return{allList:[{id:"allVolumeUsedSize",text:"VolumeUsedSize",query:'topk($topk, cfs_master_vol_used_GB{app="$app",cluster="$cluster"})',data:[],isLoading:!0,unit:"TB"},{id:"allVolumeUsedRatio",text:"VolumeUsedRatio",query:'topk($topk, cfs_master_vol_used_GB{app="$app",cluster="$cluster"}/cfs_master_vol_total_GB{app="$app",cluster="$cluster"})',data:[],isLoading:!0,unit:"%"},{id:"allVolumeSizeRate",text:"VolumeSizeRate",query:'topk($topk, rate(cfs_master_vol_used_GB{app="$app",cluster="$cluster"}[3m]))',data:[],isLoading:!0,unit:"GBs"}],volumeSizeAndRatio:{id:"VolumeSizeAndRatio",text:"",query1:'cfs_master_vol_used_GB{app="$app",cluster="$cluster", volName="$vol"}',query2:'cfs_master_vol_used_GB{app="$app",cluster="$cluster", volName="$vol"}/cfs_master_vol_total_GB{app="$app",cluster="$cluster", volName="$vol"}',data:[],isLoading:!0},volumeRate:{id:"volumeRate",text:"",query:'rate(cfs_master_vol_used_GB{app="$app",cluster="$cluster", volName="$vol"}[1m])',data:[],isLoading:!0,unit:"GBs"},topkVal:null,volVal:null}},methods:{timeIntervalChange:function(t){this.timeIntervalVal=t,this.queryData()},topkChange:function(t){this.topkVal=t,this.queryData()},volChange:function(t){this.volVal=t,this.queryData()},queryData:function(){var t=this;this.timeIntervalVal&&this.topkVal&&(this.allList.forEach((function(e){e.isLoading=!0,t.queryAllData(e)})),this.volVal&&(this.queryVolRate(),this.queryVolSizeAndRatio()))},queryVolSizeAndRatio:function(){var t=this;this.volumeSizeAndRatio.isLoading=!0,this.volumeSizeAndRatio.text=this.volVal;var e=this.volumeSizeAndRatio,a={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:e.query1.replace(/\$topk/g,this.topkVal).replace(/\$vol/g,this.volVal)};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(i){if(!i.code){var n=[],s=JSON.parse(i.data.RangeQuery).data.result[0]?JSON.parse(i.data.RangeQuery).data.result[0].values:[];n.push(s),a.query=e.query2.replace(/\$topk/g,t.topkVal).replace(/\$vol/g,t.volVal),t.apollo.query(t.url.monitor,y.rangeQuery,a).then((function(a){if(e.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result[0]?JSON.parse(a.data.RangeQuery).data.result[0].values:[];n.push(i)}e.data=n,t.initSizeAndRatioData(e)}))}})).catch((function(t){e.isLoading=!1,console.log(t)}))},queryVolRate:function(){var t=this;this.volumeRate.isLoading=!0,this.volumeRate.text=this.volVal+":rate";var e=this.volumeRate,a={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:e.query.replace(/\$vol/g,this.volVal)};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(e.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;e.data=i,t.initData(e)}})).catch((function(t){e.isLoading=!1,console.log(t)}))},queryAllData:function(t){var e=this,a={start:this.timeIntervalVal.startTime,end:this.timeIntervalVal.endTime,step:this.timeIntervalVal.step,query:t.query.replace(/\$topk/g,this.topkVal)};this.apollo.query(this.url.monitor,y.rangeQuery,a).then((function(a){if(t.isLoading=!1,!a.code){var i=JSON.parse(a.data.RangeQuery).data.result;t.data=i,e.initData(t)}})).catch((function(e){t.isLoading=!1,console.log(e)}))},initData:function(t){var e=Object.assign({},t),a=this.timeIntervalVal.xData,i=[];e.data.forEach((function(t){var n={};t.values.forEach((function(t){var e=parseInt(t[1]);n[t[0]]=e}));var s={name:t.metric.volName,type:"line",stack:t.metric.volName},o=[];a.forEach((function(t){var a=void 0!==n[t]?n[t]:null;"VolumeUsedRatio"===e.text&&(a=parseFloat((100*a).toFixed(2))),"VolumeUsedSize"===e.text&&(a=parseFloat((a/Math.pow(10,12)).toFixed(2))),o.push(a)})),s.data=o,i.push(s)}));var n=[];a.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===n.indexOf(e)&&n.push(e)})),e.xData=n,e.series=i,t.option=this.initMetricsChart(e)},initMetricsChart:function(t){return{tooltip:{trigger:"axis",confine:!0},color:U.colorLists,grid:{left:"25px",right:"25px",bottom:"40px",top:"15px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{type:"dashed"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value} "+t.unit}},series:t.series}},initSizeAndRatioData:function(t){var e=Object.assign({},t),a=this.timeIntervalVal.xData;e.xData=a;var i=[];i[0]={name:"size",type:"line",stack:"size",data:function(){var t=[];return e.xData.forEach((function(a){for(var i=0,n=0,s=e.data[0].length;n<s;n++){var o=e.data[0][n];if(a===o[0]){i=Number(o[1]);break}}t.push(i)})),t}()},i[1]={name:"ratio",type:"line",yAxisIndex:1,stack:"ratio",data:function(){var t=[];return e.xData.forEach((function(a){for(var i=0,n=0,s=e.data[1].length;n<s;n++){var o=e.data[1][n];if(a===o[0]){i=100*Number(o[1]);break}}t.push(i)})),t}()},e.series=i;var n=[];a.forEach((function(t){var e=(0,W.Ur)(1e3*t);-1===n.indexOf(e)&&n.push(e)})),e.xData=n,t.option=this.initMetricsChartSize(e)},initMetricsChartSize:function(t){return{color:U.colorLists,tooltip:{trigger:"axis",confine:!0,showDelay:0,axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}}},legend:{data:["UsedSize","UsedRate"],selectedMode:"multiple"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},dataZoom:{show:!0},dataView:{show:!0},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{left:"8%",right:"6%",bottom:"12%",containLabel:!0},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},data:t.xData}],yAxis:[{type:"value",name:"UsedSize GB",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0,formatter:function(t){return t}}},{type:"value",name:"UsedRate %",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLabel:{show:!0,showMinLabel:!0,showMaxLabel:!0,formatter:function(t){return t}}}],series:[{name:"UsedSize",type:"line",smooth:!0,yAxisIndex:0,data:t.series[0].data},{name:"UsedRate",type:"line",smooth:!0,yAxisIndex:1,data:t.series[1].data}]}}}},pe=he,me=(0,w.Z)(pe,ne,se,!1,null,"a22492fc",null),ve=me.exports,fe={name:"dashboard",components:{Clusters:P,MetaNodes:mt,DataNodes:At,ObjectNodes:zt,FuseClients:Zt,Master:Wt,GoRuntime:ie,Volume:ve},data:function(){return{operationsSelect:"Clusters"}},methods:{}},ge=fe,ye=(0,w.Z)(ge,l,c,!1,null,null,null),xe=ye.exports},66351:function(t,e,a){var i=a(33051),n=a(41525),s=n.createSymbol,o=a(51177),r=a(85669),l=r.parsePercent,c=a(33140),u=c.getDefaultLabel;function d(t,e,a){o.Group.call(this),this.updateData(t,e,a)}var h=d.prototype,p=d.getSymbolSize=function(t,e){var a=t.getItemVisual(e,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};function m(t){return[t[0]/2,t[1]/2]}function v(t,e){this.parent.drift(t,e)}h._createSymbol=function(t,e,a,i,n){this.removeAll();var o=e.getItemVisual(a,"color"),r=s(t,-1,-1,2,2,o,n);r.attr({z2:100,culling:!0,scale:m(i)}),r.drift=v,this._symbolType=t,this.add(r)},h.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(t,e){var a=this.childAt(0);a.zlevel=t,a.z=e},h.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},h.updateData=function(t,e,a){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",n=t.hostModel,s=p(t,e),r=i!==this._symbolType;if(r){var l=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,s,l)}else{var c=this.childAt(0);c.silent=!1,o.updateProps(c,{scale:m(s)},n,e)}if(this._updateCommon(t,e,s,a),r){c=this.childAt(0);var u=a&&a.fadeIn,d={scale:c.scale.slice()};u&&(d.style={opacity:c.style.opacity}),c.scale=[0,0],u&&(c.style.opacity=0),o.initProps(c,d,n,e)}this._seriesModel=n};var f=["itemStyle"],g=["emphasis","itemStyle"],y=["label"],x=["emphasis","label"];function _(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var a=this.__symbolOriginalScale,i=a[1]/a[0],n={scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*i)]};this.animateTo(n,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h._updateCommon=function(t,e,a,n){var s=this.childAt(0),r=t.hostModel,c=t.getItemVisual(e,"color");"image"!==s.type?s.useStyle({strokeNoScale:!0}):s.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=n&&n.itemStyle,h=n&&n.hoverItemStyle,p=n&&n.symbolOffset,v=n&&n.labelModel,b=n&&n.hoverLabelModel,C=n&&n.hoverAnimation,w=n&&n.cursorStyle;if(!n||t.hasItemOption){var S=n&&n.itemModel?n.itemModel:t.getItemModel(e);d=S.getModel(f).getItemStyle(["color"]),h=S.getModel(g).getItemStyle(),p=S.getShallow("symbolOffset"),v=S.getModel(y),b=S.getModel(x),C=S.getShallow("hoverAnimation"),w=S.getShallow("cursor")}else h=i.extend({},h);var k=s.style,I=t.getItemVisual(e,"symbolRotate");s.attr("rotation",(I||0)*Math.PI/180||0),p&&s.attr("position",[l(p[0],a[0]),l(p[1],a[1])]),w&&s.attr("cursor",w),s.setColor(c,n&&n.symbolInnerColor),s.setStyle(d);var A=t.getItemVisual(e,"opacity");null!=A&&(k.opacity=A);var L=t.getItemVisual(e,"liftZ"),D=s.__z2Origin;null!=L?null==D&&(s.__z2Origin=s.z2,s.z2+=L):null!=D&&(s.z2=D,s.__z2Origin=null);var M=n&&n.useNameLabel;function V(e,a){return M?t.getName(e):u(t,e)}o.setLabelStyle(k,h,v,b,{labelFetcher:r,labelDataIndex:e,defaultText:V,isRectText:!0,autoColor:c}),s.__symbolOriginalScale=m(a),s.hoverStyle=h,s.highDownOnUpdate=C&&r.isAnimationEnabled()?_:null,o.setHoverStyle(s)},h.fadeOut=function(t,e){var a=this.childAt(0);this.silent=a.silent=!0,(!e||!e.keepLabel)&&(a.style.text=null),o.updateProps(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},i.inherits(d,o.Group);var b=d;t.exports=b},68162:function(t,e,a){var i=a(51177),n=a(66351),s=a(33051),o=s.isObject;function r(t){this.group=new i.Group,this._symbolCtor=t||n}var l=r.prototype;function c(t,e,a,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(a))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(a,"symbol")}function u(t){return null==t||o(t)||(t={isIgnore:t}),t||{}}function d(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}l.updateData=function(t,e){e=u(e);var a=this.group,n=t.hostModel,s=this._data,o=this._symbolCtor,r=d(t);s||a.removeAll(),t.diff(s).add((function(i){var n=t.getItemLayout(i);if(c(t,n,i,e)){var s=new o(t,i,r);s.attr("position",n),t.setItemGraphicEl(i,s),a.add(s)}})).update((function(l,u){var d=s.getItemGraphicEl(u),h=t.getItemLayout(l);c(t,h,l,e)?(d?(d.updateData(t,l,r),i.updateProps(d,{position:h},n)):(d=new o(t,l),d.attr("position",h)),a.add(d),t.setItemGraphicEl(l,d)):a.remove(d)})).remove((function(t){var e=s.getItemGraphicEl(t);e&&e.fadeOut((function(){a.remove(e)}))})).execute(),this._data=t},l.isPersistent=function(){return!0},l.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,a){var i=t.getItemLayout(a);e.attr("position",i)}))},l.incrementalPrepareUpdate=function(t){this._seriesScope=d(t),this._data=null,this.group.removeAll()},l.incrementalUpdate=function(t,e,a){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}a=u(a);for(var n=t.start;n<t.end;n++){var s=e.getItemLayout(n);if(c(e,s,n,a)){var o=new this._symbolCtor(e,n,this._seriesScope);o.traverse(i),o.attr("position",s),this.group.add(o),e.setItemGraphicEl(n,o)}}},l.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var h=r;t.exports=h},22963:function(t,e,a){var i=a(51177),n=a(85669),s=n.round;function o(t,e,a){var n=t.getArea(),s=t.getBaseAxis().isHorizontal(),o=n.x,r=n.y,l=n.width,c=n.height,u=a.get("lineStyle.width")||2;o-=u/2,r-=u/2,l+=u,c+=u,o=Math.floor(o),l=Math.round(l);var d=new i.Rect({shape:{x:o,y:r,width:l,height:c}});return e&&(d.shape[s?"width":"height"]=0,i.initProps(d,{shape:{width:l,height:c}},a)),d}function r(t,e,a){var n=t.getArea(),o=new i.Sector({shape:{cx:s(t.cx,1),cy:s(t.cy,1),r0:s(n.r0,1),r:s(n.r,1),startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return e&&(o.shape.endAngle=n.startAngle,i.initProps(o,{shape:{endAngle:n.endAngle}},a)),o}function l(t,e,a){return t?"polar"===t.type?r(t,e,a):"cartesian2d"===t.type?o(t,e,a):null:null}e.createGridClipPath=o,e.createPolarClipPath=r,e.createClipPath=l},33140:function(t,e,a){var i=a(68540),n=i.retrieveRawValue;function s(t,e){var a=t.mapDimension("defaultedLabel",!0),i=a.length;if(1===i)return n(t,e,a[0]);if(i){for(var s=[],o=0;o<a.length;o++){var r=n(t,e,a[o]);s.push(r)}return s.join(" ")}}e.getDefaultLabel=s},46295:function(t,e,a){var i=a(70492);a(39790),a(81950);var n=a(34586),s=a(21149),o=a(64088);a(84617),i.registerVisual(n("line","circle","line")),i.registerLayout(s("line")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,o("line"))},39790:function(t,e,a){var i=a(38175),n=(i.__DEV__,a(40488)),s=a(93321),o=s.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=o},81950:function(t,e,a){var i=a(38175),n=(i.__DEV__,a(33051)),s=a(3726),o=s.fromPoints,r=a(68162),l=a(66351),c=a(21068),u=a(51177),d=a(32234),h=a(30633),p=h.Polyline,m=h.Polygon,v=a(75797),f=a(89385),g=f.prepareDataCoordInfo,y=f.getStackedOnPoint,x=a(22963),_=x.createGridClipPath,b=x.createPolarClipPath;function C(t,e){if(t.length===e.length){for(var a=0;a<t.length;a++){var i=t[a],n=e[a];if(i[0]!==n[0]||i[1]!==n[1])return}return!0}}function w(t,e){var a=[],i=[],n=[],s=[];return o(t,a,i),o(e,n,s),Math.max(Math.abs(a[0]-n[0]),Math.abs(a[1]-n[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function S(t){return"number"===typeof t?t:t?.5:0}function k(t,e,a){if(!a.valueDim)return[];for(var i=[],n=0,s=e.count();n<s;n++)i.push(y(a,t,e,n));return i}function I(t,e,a){for(var i=e.getBaseAxis(),n="x"===i.dim||"radius"===i.dim?0:1,s=[],o=0;o<t.length-1;o++){var r=t[o+1],l=t[o];s.push(l);var c=[];switch(a){case"end":c[n]=r[n],c[1-n]=l[1-n],s.push(c);break;case"middle":var u=(l[n]+r[n])/2,d=[];c[n]=d[n]=u,c[1-n]=l[1-n],d[1-n]=r[1-n],s.push(c),s.push(d);break;default:c[n]=l[n],c[1-n]=r[1-n],s.push(c)}}return t[o]&&s.push(t[o]),s}function A(t,e){var a=t.getVisual("visualMeta");if(a&&a.length&&t.count()&&"cartesian2d"===e.type){for(var i,s,o=a.length-1;o>=0;o--){var r=a[o].dimension,l=t.dimensions[r],c=t.getDimensionInfo(l);if(i=c&&c.coordDim,"x"===i||"y"===i){s=a[o];break}}if(s){var d=e.getAxis(i),h=n.map(s.stops,(function(t){return{coord:d.toGlobalCoord(d.dataToCoord(t.value)),color:t.color}})),p=h.length,m=s.outerColors.slice();p&&h[0].coord>h[p-1].coord&&(h.reverse(),m.reverse());var v=10,f=h[0].coord-v,g=h[p-1].coord+v,y=g-f;if(y<.001)return"transparent";n.each(h,(function(t){t.offset=(t.coord-f)/y})),h.push({offset:p?h[p-1].offset:.5,color:m[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:m[0]||"transparent"});var x=new u.LinearGradient(0,0,0,0,h,!0);return x[i]=f,x[i+"2"]=g,x}}}function L(t,e,a){var i=t.get("showAllSymbol"),s="auto"===i;if(!i||s){var o=a.getAxesByScale("ordinal")[0];if(o&&(!s||!D(o,e))){var r=e.mapDimension(o.dim),l={};return n.each(o.getViewLabels(),(function(t){l[t.tickValue]=1})),function(t){return!l.hasOwnProperty(e.get(r,t))}}}}function D(t,e){var a=t.getExtent(),i=Math.abs(a[1]-a[0])/t.scale.count();isNaN(i)&&(i=0);for(var n=e.count(),s=Math.max(1,Math.round(n/5)),o=0;o<n;o+=s)if(1.5*l.getSymbolSize(e,o)[t.isHorizontal()?1:0]>i)return!1;return!0}function M(t,e,a){if("cartesian2d"===t.type){var i=t.getBaseAxis().isHorizontal(),n=_(t,e,a);if(!a.get("clip",!0)){var s=n.shape,o=Math.max(s.width,s.height);i?(s.y-=o,s.height+=2*o):(s.x-=o,s.width+=2*o)}return n}return b(t,e,a)}var V=v.extend({type:"line",init:function(){var t=new u.Group,e=new r;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,a){var i=t.coordinateSystem,s=this.group,o=t.getData(),r=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=o.mapArray(o.getItemLayout),u="polar"===i.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,m=this._polygon,v=this._lineGroup,f=t.get("animation"),y=!l.isEmpty(),x=l.get("origin"),_=g(i,o,x),b=k(i,o,_),w=t.get("showSymbol"),D=w&&!u&&L(t,o,i),V=this._data;V&&V.eachItemGraphicEl((function(t,e){t.__temp&&(s.remove(t),V.setItemGraphicEl(e,null))})),w||h.remove(),s.add(v);var O,z=!u&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(O=i.getArea(),null!=O.width?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r1+=.5)),this._clipShapeForSymbol=O,p&&d.type===i.type&&z===this._step?(y&&!m?m=this._newPolygon(c,b,i,f):m&&!y&&(v.remove(m),m=this._polygon=null),v.setClipPath(M(i,!1,t)),w&&h.updateData(o,{isIgnore:D,clipShape:O}),o.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),C(this._stackedOnPoints,b)&&C(this._points,c)||(f?this._updateAnimation(o,b,i,a,z,x):(z&&(c=I(c,i,z),b=I(b,i,z)),p.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:b})))):(w&&h.updateData(o,{isIgnore:D,clipShape:O}),z&&(c=I(c,i,z),b=I(b,i,z)),p=this._newPolyline(c,i,f),y&&(m=this._newPolygon(c,b,i,f)),v.setClipPath(M(i,!0,t)));var N=A(o,i)||o.getVisual("color");p.useStyle(n.defaults(r.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"}));var T=t.get("smooth");if(T=S(t.get("smooth")),p.setShape({smooth:T,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),m){var E=o.getCalculationInfo("stackedOnSeries"),q=0;m.useStyle(n.defaults(l.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel"})),E&&(q=S(E.get("smooth"))),m.setShape({smooth:T,stackedOnSmooth:q,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=i,this._stackedOnPoints=b,this._points=c,this._step=z,this._valueOrigin=x},dispose:function(){},highlight:function(t,e,a,i){var n=t.getData(),s=d.queryDataIndex(n,i);if(!(s instanceof Array)&&null!=s&&s>=0){var o=n.getItemGraphicEl(s);if(!o){var r=n.getItemLayout(s);if(!r)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(r[0],r[1]))return;o=new l(n,s),o.position=r,o.setZ(t.get("zlevel"),t.get("z")),o.ignore=isNaN(r[0])||isNaN(r[1]),o.__temp=!0,n.setItemGraphicEl(s,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else v.prototype.highlight.call(this,t,e,a,i)},downplay:function(t,e,a,i){var n=t.getData(),s=d.queryDataIndex(n,i);if(null!=s&&s>=0){var o=n.getItemGraphicEl(s);o&&(o.__temp?(n.setItemGraphicEl(s,null),this.group.remove(o)):o.downplay())}else v.prototype.downplay.call(this,t,e,a,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new p({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new m({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(t,e,a,i,n,s){var o=this._polyline,r=this._polygon,l=t.hostModel,d=c(this._data,t,this._stackedOnPoints,e,this._coordSys,a,this._valueOrigin,s),h=d.current,p=d.stackedOnCurrent,m=d.next,v=d.stackedOnNext;if(n&&(h=I(d.current,a,n),p=I(d.stackedOnCurrent,a,n),m=I(d.next,a,n),v=I(d.stackedOnNext,a,n)),w(h,m)>3e3||r&&w(p,v)>3e3)return o.setShape({points:m}),void(r&&r.setShape({points:m,stackedOnPoints:v}));o.shape.__points=d.current,o.shape.points=h,u.updateProps(o,{shape:{points:m}},l),r&&(r.setShape({points:h,stackedOnPoints:p}),u.updateProps(r,{shape:{points:m,stackedOnPoints:v}},l));for(var f=[],g=d.status,y=0;y<g.length;y++){var x=g[y].cmd;if("="===x){var _=t.getItemGraphicEl(g[y].idx1);_&&f.push({el:_,ptIdx:y})}}o.animators&&o.animators.length&&o.animators[0].during((function(){for(var t=0;t<f.length;t++){var e=f[t].el;e.attr("position",o.shape.__points[f[t].ptIdx])}}))},remove:function(t){var e=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),a.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=V},89385:function(t,e,a){var i=a(99936),n=i.isDimensionStacked,s=a(33051),o=s.map;function r(t,e,a){var i,s=t.getBaseAxis(),r=t.getOtherAxis(s),c=l(r,a),u=s.dim,d=r.dim,h=e.mapDimension(d),p=e.mapDimension(u),m="x"===d||"radius"===d?1:0,v=o(t.dimensions,(function(t){return e.mapDimension(t)})),f=e.getCalculationInfo("stackResultDimension");return(i|=n(e,v[0]))&&(v[0]=f),(i|=n(e,v[1]))&&(v[1]=f),{dataDimsForPoint:v,valueStart:c,valueAxisDim:d,baseAxisDim:u,stacked:!!i,valueDim:h,baseDim:p,baseDataOffset:m,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function l(t,e){var a=0,i=t.scale.getExtent();return"start"===e?a=i[0]:"end"===e?a=i[1]:i[0]>0?a=i[0]:i[1]<0&&(a=i[1]),a}function c(t,e,a,i){var n=NaN;t.stacked&&(n=a.get(a.getCalculationInfo("stackedOverDimension"),i)),isNaN(n)&&(n=t.valueStart);var s=t.baseDataOffset,o=[];return o[s]=a.get(t.baseDim,i),o[1-s]=n,e.dataToPoint(o)}e.prepareDataCoordInfo=r,e.getStackedOnPoint=c},21068:function(t,e,a){var i=a(89385),n=i.prepareDataCoordInfo,s=i.getStackedOnPoint;function o(t,e){var a=[];return e.diff(t).add((function(t){a.push({cmd:"+",idx:t})})).update((function(t,e){a.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){a.push({cmd:"-",idx:t})})).execute(),a}function r(t,e,a,i,r,l,c,u){for(var d=o(t,e),h=[],p=[],m=[],v=[],f=[],g=[],y=[],x=n(r,e,c),_=n(l,t,u),b=0;b<d.length;b++){var C=d[b],w=!0;switch(C.cmd){case"=":var S=t.getItemLayout(C.idx),k=e.getItemLayout(C.idx1);(isNaN(S[0])||isNaN(S[1]))&&(S=k.slice()),h.push(S),p.push(k),m.push(a[C.idx]),v.push(i[C.idx1]),y.push(e.getRawIndex(C.idx1));break;case"+":var I=C.idx;h.push(r.dataToPoint([e.get(x.dataDimsForPoint[0],I),e.get(x.dataDimsForPoint[1],I)])),p.push(e.getItemLayout(I).slice()),m.push(s(x,r,e,I)),v.push(i[I]),y.push(e.getRawIndex(I));break;case"-":I=C.idx;var A=t.getRawIndex(I);A!==I?(h.push(t.getItemLayout(I)),p.push(l.dataToPoint([t.get(_.dataDimsForPoint[0],I),t.get(_.dataDimsForPoint[1],I)])),m.push(a[I]),v.push(s(_,l,t,I)),y.push(A)):w=!1}w&&(f.push(C),g.push(g.length))}g.sort((function(t,e){return y[t]-y[e]}));var L=[],D=[],M=[],V=[],O=[];for(b=0;b<g.length;b++){I=g[b];L[b]=h[I],D[b]=p[I],M[b]=m[I],V[b]=v[I],O[b]=f[I]}return{current:L,next:D,stackedOnCurrent:M,stackedOnNext:V,status:O}}t.exports=r},30633:function(t,e,a){var i=a(10712),n=a(45280),s=a(60873),o=n.min,r=n.max,l=n.scaleAndAdd,c=n.copy,u=[],d=[],h=[];function p(t){return isNaN(t[0])||isNaN(t[1])}function m(t,e,a,i,n,s,o,r,l,c,u){return"none"!==c&&c?v.apply(this,arguments):f.apply(this,arguments)}function v(t,e,a,i,n,s,o,r,l,u,m){for(var v=0,f=a,g=0;g<i;g++){var y=e[f];if(f>=n||f<0)break;if(p(y)){if(m){f+=s;continue}break}if(f===a)t[s>0?"moveTo":"lineTo"](y[0],y[1]);else if(l>0){var x=e[v],_="y"===u?1:0,b=(y[_]-x[_])*l;c(d,x),d[_]=x[_]+b,c(h,y),h[_]=y[_]-b,t.bezierCurveTo(d[0],d[1],h[0],h[1],y[0],y[1])}else t.lineTo(y[0],y[1]);v=f,f+=s}return g}function f(t,e,a,i,s,m,v,f,g,y,x){for(var _=0,b=a,C=0;C<i;C++){var w=e[b];if(b>=s||b<0)break;if(p(w)){if(x){b+=m;continue}break}if(b===a)t[m>0?"moveTo":"lineTo"](w[0],w[1]),c(d,w);else if(g>0){var S=b+m,k=e[S];if(x)while(k&&p(e[S]))S+=m,k=e[S];var I=.5,A=e[_];k=e[S];if(!k||p(k))c(h,w);else{var L,D;if(p(k)&&!x&&(k=w),n.sub(u,k,A),"x"===y||"y"===y){var M="x"===y?0:1;L=Math.abs(w[M]-A[M]),D=Math.abs(w[M]-k[M])}else L=n.dist(w,A),D=n.dist(w,k);I=D/(D+L),l(h,w,u,-g*(1-I))}o(d,d,f),r(d,d,v),o(h,h,f),r(h,h,v),t.bezierCurveTo(d[0],d[1],h[0],h[1],w[0],w[1]),l(d,w,u,g*I)}else t.lineTo(w[0],w[1]);_=b,b+=m}return C}function g(t,e){var a=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var n=0;n<t.length;n++){var s=t[n];s[0]<a[0]&&(a[0]=s[0]),s[1]<a[1]&&(a[1]=s[1]),s[0]>i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1])}return{min:e?a:i,max:e?i:a}}var y=i.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:s(i.prototype.brush),buildPath:function(t,e){var a=e.points,i=0,n=a.length,s=g(a,e.smoothConstraint);if(e.connectNulls){for(;n>0;n--)if(!p(a[n-1]))break;for(;i<n;i++)if(!p(a[i]))break}while(i<n)i+=m(t,a,i,n,n,1,s.min,s.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),x=i.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:s(i.prototype.brush),buildPath:function(t,e){var a=e.points,i=e.stackedOnPoints,n=0,s=a.length,o=e.smoothMonotone,r=g(a,e.smoothConstraint),l=g(i,e.smoothConstraint);if(e.connectNulls){for(;s>0;s--)if(!p(a[s-1]))break;for(;n<s;n++)if(!p(a[n]))break}while(n<s){var c=m(t,a,n,s,s,1,r.min,r.max,e.smooth,o,e.connectNulls);m(t,i,n+c-1,c,s,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),n+=c+1,t.closePath()}}});e.Polyline=y,e.Polygon=x},88791:function(t,e,a){a(54805),a(42567)},42567:function(t,e,a){var i=a(33051),n=a(51177),s=a(58608),o=a(11726),r=a(49069),l=a(77956),c=l.rectCoordAxisBuildSplitArea,u=l.rectCoordAxisHandleRemove,d=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],p=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,a,o){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),t.get("show")){var c=t.getCoordSysModel(),u=r.layout(c,t),m=new s(t,u);i.each(d,m.add,m),this._axisGroup.add(m.getGroup()),i.each(h,(function(e){t.get(e+".show")&&this["_"+e](t,c)}),this),n.groupTransition(l,this._axisGroup,t),p.superCall(this,"render",t,e,a,o)}},remove:function(){u(this)},_splitLine:function(t,e){var a=t.axis;if(!a.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),r=o.get("color");r=i.isArray(r)?r:[r];for(var l=e.coordinateSystem.getRect(),c=a.isHorizontal(),u=0,d=a.getTicksCoords({tickModel:s}),h=[],p=[],m=o.getLineStyle(),v=0;v<d.length;v++){var f=a.toGlobalCoord(d[v].coord);c?(h[0]=f,h[1]=l.y,p[0]=f,p[1]=l.y+l.height):(h[0]=l.x,h[1]=f,p[0]=l.x+l.width,p[1]=f);var g=u++%r.length,y=d[v].tickValue;this._axisGroup.add(new n.Line({anid:null!=y?"line_"+d[v].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:i.defaults({stroke:r[g]},m),silent:!0}))}}},_minorSplitLine:function(t,e){var a=t.axis,i=t.getModel("minorSplitLine"),s=i.getModel("lineStyle"),o=e.coordinateSystem.getRect(),r=a.isHorizontal(),l=a.getMinorTicksCoords();if(l.length)for(var c=[],u=[],d=s.getLineStyle(),h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++){var m=a.toGlobalCoord(l[h][p].coord);r?(c[0]=m,c[1]=o.y,u[0]=m,u[1]=o.y+o.height):(c[0]=o.x,c[1]=m,u[0]=o.x+o.width,u[1]=m),this._axisGroup.add(new n.Line({anid:"minor_line_"+l[h][p].tickValue,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0}))}},_splitArea:function(t,e){c(this,this._axisGroup,t,e)}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},77956:function(t,e,a){var i=a(33051),n=a(51177);function s(t,e,a,s){var o=a.axis;if(!o.scale.isBlank()){var r=a.getModel("splitArea"),l=r.getModel("areaStyle"),c=l.get("color"),u=s.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:r,clamp:!0});if(d.length){var h=c.length,p=t.__splitAreaColors,m=i.createHashMap(),v=0;if(p)for(var f=0;f<d.length;f++){var g=p.get(d[f].tickValue);if(null!=g){v=(g+(h-1)*f)%h;break}}var y=o.toGlobalCoord(d[0].coord),x=l.getAreaStyle();c=i.isArray(c)?c:[c];for(f=1;f<d.length;f++){var _,b,C,w,S=o.toGlobalCoord(d[f].coord);o.isHorizontal()?(_=y,b=u.y,C=S-_,w=u.height,y=_+C):(_=u.x,b=y,C=u.width,w=S-b,y=b+w);var k=d[f-1].tickValue;null!=k&&m.set(k,v),e.add(new n.Rect({anid:null!=k?"area_"+k:null,shape:{x:_,y:b,width:C,height:w},style:i.defaults({fill:c[v]},x),silent:!0})),v=(v+1)%h}t.__splitAreaColors=m}}}function o(t){t.__splitAreaColors=null}e.rectCoordAxisBuildSplitArea=s,e.rectCoordAxisHandleRemove=o},84617:function(t,e,a){var i=a(70492),n=a(33051),s=a(51177);a(77532),a(88791),i.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new s.Rect({shape:t.coordinateSystem.getRect(),style:n.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))},66484:function(t,e,a){var i=a(33051),n={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},s={};s.categoryAxis=i.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},n),s.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},n),s.timeAxis=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},s.valueAxis),s.logAxis=i.defaults({scale:!0,logBase:10},s.valueAxis);var o=s;t.exports=o},21293:function(t,e,a){var i=a(33051),n=a(66484),s=a(98071),o=a(76172),r=o.getLayoutParams,l=o.mergeLayoutParam,c=a(51401),u=["value","category","time","log"];function d(t,e,a,o){i.each(u,(function(s){e.extend({type:t+"Axis."+s,mergeDefaultAndTheme:function(e,n){var o=this.layoutMode,c=o?r(e):{},u=n.getTheme();i.merge(e,u.get(s+"Axis")),i.merge(e,this.getDefaultOption()),e.type=a(t,e),o&&l(e,c,o)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.mergeAll([{},n[s+"Axis"],o],!0)})})),s.registerSubTypeDefaulter(t+"Axis",i.curry(a,t))}t.exports=d},57760:function(t,e,a){var i=a(33051),n=a(3245),s=function(t,e,a,i,s){n.call(this,t,e,a),this.type=i||"value",this.position=s||"bottom"};s.prototype={constructor:s,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},i.inherits(s,n);var o=s;t.exports=o},54805:function(t,e,a){var i=a(33051),n=a(98071),s=a(21293),o=a(16650),r=n.extend({type:"cartesian2dAxis",axis:null,init:function(){r.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){r.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){r.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(t,e){return e.type||(e.data?"category":"value")}i.merge(r.prototype,o);var c={offset:0};s("x",r,l,c),s("y",r,l,c);var u=r;t.exports=u},53907:function(t,e,a){var i=a(33051);function n(t){return this._axes[t]}var s=function(t){this._axes={},this._dimList=[],this.name=t||""};s.prototype={constructor:s,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),i.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var a=this._dimList,i=t instanceof Array?[]:{},n=0;n<a.length;n++){var s=a[n],o=this._axes[s];i[s]=o[e](t[s])}return i}};var o=s;t.exports=o},81096:function(t,e,a){var i=a(33051),n=a(60479),s=a(53907);function o(t){s.call(this,t)}o.prototype={constructor:o,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),a=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,a){var i=this.getAxis("x"),n=this.getAxis("y");return a=a||[],a[0]=i.toGlobalCoord(i.dataToCoord(t[0])),a[1]=n.toGlobalCoord(n.dataToCoord(t[1])),a},clampData:function(t,e){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,n=a.getExtent(),s=i.getExtent(),o=a.parse(t[0]),r=i.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(n[0],n[1]),o),Math.max(n[0],n[1])),e[1]=Math.min(Math.max(Math.min(s[0],s[1]),r),Math.max(s[0],s[1])),e},pointToData:function(t,e){var a=this.getAxis("x"),i=this.getAxis("y");return e=e||[],e[0]=a.coordToData(a.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),a=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),s=Math.max(t[0],t[1])-a,o=Math.max(e[0],e[1])-i,r=new n(a,i,s,o);return r}},i.inherits(o,s);var r=o;t.exports=r},77532:function(t,e,a){var i=a(38175),n=(i.__DEV__,a(33051)),s=n.isObject,o=n.each,r=n.map,l=n.indexOf,c=(n.retrieve,a(76172)),u=c.getLayoutRect,d=a(97980),h=d.createScaleByModel,p=d.ifAxisCrossZero,m=d.niceScaleExtent,v=d.estimateLabelUnionRect,f=a(81096),g=a(57760),y=a(95899),x=a(99936),_=x.getStackedDimension;function b(t,e,a){return t.getCoordSysModel()===e}function C(t,e,a){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,a),this.model=t}a(33927);var w=C.prototype;function S(t,e,a,i){a.getAxesOnZeroOf=function(){return n?[n]:[]};var n,s=t[e],o=a.model,r=o.get("axisLine.onZero"),l=o.get("axisLine.onZeroAxisIndex");if(r){if(null!=l)k(s[l])&&(n=s[l]);else for(var c in s)if(s.hasOwnProperty(c)&&k(s[c])&&!i[u(s[c])]){n=s[c];break}n&&(i[u(n)]=!0)}function u(t){return t.dim+"_"+t.index}}function k(t){return t&&"category"!==t.type&&"time"!==t.type&&p(t)}function I(t,e){var a=t.getExtent(),i=a[0]+a[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}w.type="grid",w.axisPointerEnabled=!0,w.getRect=function(){return this._rect},w.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model),o(a.x,(function(t){m(t.scale,t.model)})),o(a.y,(function(t){m(t.scale,t.model)}));var i={};o(a.x,(function(t){S(a,"y",t,i)})),o(a.y,(function(t){S(a,"x",t,i)})),this.resize(this.model,e)},w.resize=function(t,e,a){var i=u(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var n=this._axesList;function s(){o(n,(function(t){var e=t.isHorizontal(),a=e?[0,i.width]:[0,i.height],n=t.inverse?1:0;t.setExtent(a[n],a[1-n]),I(t,e?i.x:i.y)}))}s(),!a&&t.get("containLabel")&&(o(n,(function(t){if(!t.model.get("axisLabel.inside")){var e=v(t);if(e){var a=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");i[a]-=e[a]+n,"top"===t.position?i.y+=e.height+n:"left"===t.position&&(i.x+=e.width+n)}}})),s())},w.getAxis=function(t,e){var a=this._axesMap[t];if(null!=a){if(null==e)for(var i in a)if(a.hasOwnProperty(i))return a[i];return a[e]}},w.getAxes=function(){return this._axesList.slice()},w.getCartesian=function(t,e){if(null!=t&&null!=e){var a="x"+t+"y"+e;return this._coordsMap[a]}s(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e)return n[i]},w.getCartesians=function(){return this._coordsList.slice()},w.convertToPixel=function(t,e,a){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},w.convertFromPixel=function(t,e,a){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},w._findConvertTarget=function(t,e){var a,i,n=e.seriesModel,s=e.xAxisModel||n&&n.getReferringComponents("xAxis")[0],o=e.yAxisModel||n&&n.getReferringComponents("yAxis")[0],r=e.gridModel,c=this._coordsList;if(n)a=n.coordinateSystem,l(c,a)<0&&(a=null);else if(s&&o)a=this.getCartesian(s.componentIndex,o.componentIndex);else if(s)i=this.getAxis("x",s.componentIndex);else if(o)i=this.getAxis("y",o.componentIndex);else if(r){var u=r.coordinateSystem;u===this&&(a=this._coordsList[0])}return{cartesian:a,axis:i}},w.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},w._initCartesian=function(t,e,a){var i={left:!1,right:!1,top:!1,bottom:!1},n={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",r("x"),this),e.eachComponent("yAxis",r("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function r(a){return function(o,r){if(b(o,t,e)){var l=o.get("position");"x"===a?"top"!==l&&"bottom"!==l&&(l=i.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=i.left?"right":"left"),i[l]=!0;var c=new g(a,h(o),[0,0],o.get("type"),l),u="category"===c.type;c.onBand=u&&o.get("boundaryGap"),c.inverse=o.get("inverse"),o.axis=c,c.model=o,c.grid=this,c.index=r,this._axesList.push(c),n[a][r]=c,s[a]++}}}this._axesMap=n,o(n.x,(function(e,a){o(n.y,(function(i,n){var s="x"+a+"y"+n,o=new f(s);o.grid=this,o.model=t,this._coordsMap[s]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(i)}),this)}),this)},w._updateScale=function(t,e){function a(t,e,a){o(t.mapDimension(e.dim,!0),(function(a){e.scale.unionExtentFromData(t,_(t,a))}))}o(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(i){if(D(i)){var n=L(i,t),s=n[0],o=n[1];if(!b(s,e,t)||!b(o,e,t))return;var r=this.getCartesian(s.componentIndex,o.componentIndex),l=i.getData(),c=r.getAxis("x"),u=r.getAxis("y");"list"===l.type&&(a(l,c,i),a(l,u,i))}}),this)},w.getTooltipAxes=function(t){var e=[],a=[];return o(this.getCartesians(),(function(i){var n=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(n);l(e,n)<0&&e.push(n),l(a,s)<0&&a.push(s)})),{baseAxes:e,otherAxes:a}};var A=["xAxis","yAxis"];function L(t,e){return r(A,(function(e){var a=t.getReferringComponents(e)[0];return a}))}function D(t){return"cartesian2d"===t.get("coordinateSystem")}C.create=function(t,e){var a=[];return t.eachComponent("grid",(function(i,n){var s=new C(i,t,e);s.name="grid_"+n,s.resize(i,e,!0),i.coordinateSystem=s,a.push(s)})),t.eachSeries((function(e){if(D(e)){var a=L(e,t),i=a[0],n=a[1],s=i.getCoordSysModel(),o=s.coordinateSystem;e.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}})),a},C.dimensions=C.prototype.dimensions=f.prototype.dimensions,y.register("cartesian2d",C);var M=C;t.exports=M},33927:function(t,e,a){a(54805);var i=a(98071),n=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=n},21149:function(t,e,a){var i=a(33051),n=i.map,s=a(95682),o=a(99936),r=o.isDimensionStacked;function l(t){return{seriesType:t,plan:s(),reset:function(t){var e=t.getData(),a=t.coordinateSystem,i=t.pipelineContext,s=i.large;if(a){var o=n(a.dimensions,(function(t){return e.mapDimension(t)})).slice(0,2),l=o.length,c=e.getCalculationInfo("stackResultDimension");return r(e,o[0])&&(o[0]=c),r(e,o[1])&&(o[1]=c),l&&{progress:u}}function u(t,e){for(var i=t.end-t.start,n=s&&new Float32Array(i*l),r=t.start,c=0,u=[],d=[];r<t.end;r++){var h;if(1===l){var p=e.get(o[0],r);h=!isNaN(p)&&a.dataToPoint(p,null,d)}else{p=u[0]=e.get(o[0],r);var m=u[1]=e.get(o[1],r);h=!isNaN(p)&&!isNaN(m)&&a.dataToPoint(u,null,d)}s?(n[c++]=h?h[0]:NaN,n[c++]=h?h[1]:NaN):e.setItemLayout(r,h&&h.slice()||[NaN,NaN])}s&&e.setLayout("symbolPoints",n)}}}}t.exports=l},64088:function(t){var e={average:function(t){for(var e=0,a=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],a++);return 0===a?NaN:e/a},sum:function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a]||0;return e},max:function(t){for(var e=-1/0,a=0;a<t.length;a++)t[a]>e&&(e=t[a]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,a=0;a<t.length;a++)t[a]<e&&(e=t[a]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},a=function(t,e){return Math.round(t.length/2)};function i(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,i,n){var s=t.getData(),o=t.get("sampling"),r=t.coordinateSystem;if("cartesian2d"===r.type&&o){var l,c=r.getBaseAxis(),u=r.getOtherAxis(c),d=c.getExtent(),h=Math.abs(d[1]-d[0]),p=Math.round(s.count()/h);if(p>1)"string"===typeof o?l=e[o]:"function"===typeof o&&(l=o),l&&t.setData(s.downSample(s.mapDimension(u.dim),1/p,l,a))}}}}t.exports=i},34586:function(t,e,a){var i=a(33051),n=i.isFunction;function s(t,e,a){return{seriesType:t,performRawSeries:!0,reset:function(t,i,s){var o=t.getData(),r=t.get("symbol"),l=t.get("symbolSize"),c=t.get("symbolKeepAspect"),u=t.get("symbolRotate"),d=n(r),h=n(l),p=n(u),m=d||h||p,v=!d&&r?r:e,f=h?null:l;if(o.setVisual({legendSymbol:a||v,symbol:v,symbolSize:f,symbolKeepAspect:c,symbolRotate:u}),!i.isSeriesFiltered(t))return{dataEach:o.hasItemOption||m?g:null};function g(e,a){if(m){var i=t.getRawValue(a),n=t.getDataParams(a);d&&e.setItemVisual(a,"symbol",r(i,n)),h&&e.setItemVisual(a,"symbolSize",l(i,n)),p&&e.setItemVisual(a,"symbolRotate",u(i,n))}if(e.hasItemOption){var s=e.getItemModel(a),o=s.getShallow("symbol",!0),c=s.getShallow("symbolSize",!0),v=s.getShallow("symbolRotate",!0),f=s.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(a,"symbol",o),null!=c&&e.setItemVisual(a,"symbolSize",c),null!=v&&e.setItemVisual(a,"symbolRotate",v),null!=f&&e.setItemVisual(a,"symbolKeepAspect",f)}}}}}t.exports=s},21055:function(t,e,a){"use strict";var i=a(54071),n=a(22615),s=a(90690),o=a(71228),r=a(93292),l=a(19429),c=a(6310),u=a(76522),d=a(5185),h=a(91664),p=Array;t.exports=function(t){var e=s(t),a=l(this),m=arguments.length,v=m>1?arguments[1]:void 0,f=void 0!==v;f&&(v=i(v,m>2?arguments[2]:void 0));var g,y,x,_,b,C,w=h(e),S=0;if(!w||this===p&&r(w))for(g=c(e),y=a?new this(g):p(g);g>S;S++)C=f?v(e[S],S):e[S],u(y,S,C);else for(_=d(e,w),b=_.next,y=a?new this:[];!(x=n(b,_)).done;S++)C=f?o(_,v,[x.value,S],!0):x.value,u(y,S,C);return y.length=S,y}},50382:function(t,e,a){"use strict";var i=a(9015),n=Math.floor,s=function(t,e){var a=t.length,l=n(a/2);return a<8?o(t,e):r(t,s(i(t,0,l),e),s(i(t,l),e),e)},o=function(t,e){var a,i,n=t.length,s=1;while(s<n){i=s,a=t[s];while(i&&e(t[i-1],a)>0)t[i]=t[--i];i!==s++&&(t[i]=a)}return t},r=function(t,e,a,i){var n=e.length,s=a.length,o=0,r=0;while(o<n||r<s)t[o+r]=o<n&&r<s?i(e[o],a[r])<=0?e[o++]:a[r++]:o<n?e[o++]:a[r++];return t};t.exports=s},71228:function(t,e,a){"use strict";var i=a(85027),n=a(72125);t.exports=function(t,e,a,s){try{return s?e(i(a)[0],a[1]):e(a)}catch(o){n(t,"throw",o)}}},98494:function(t,e,a){"use strict";var i=a(23691),n=TypeError;t.exports=function(t,e){if(!delete t[e])throw new n("Cannot delete property "+i(e)+" of "+i(t))}},97365:function(t,e,a){"use strict";var i=a(30071),n=i.match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},37298:function(t,e,a){"use strict";var i=a(30071);t.exports=/MSIE|Trident/.test(i)},27922:function(t,e,a){"use strict";var i=a(30071),n=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},27017:function(t,e,a){"use strict";var i=a(68844),n=a(90690),s=Math.floor,o=i("".charAt),r=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,i,d,h){var p=a+t.length,m=i.length,v=u;return void 0!==d&&(d=n(d),v=c),r(h,v,(function(n,r){var c;switch(o(r,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,a);case"'":return l(e,p);case"<":c=d[l(r,1,-1)];break;default:var u=+r;if(0===u)return n;if(u>m){var h=s(u/10);return 0===h?n:h<=m?void 0===i[h-1]?o(r,1):i[h-1]+o(r,1):n}c=i[u-1]}return void 0===c?"":c}))}},91245:function(t,e,a){"use strict";var i=a(48999),n=a(6648),s=a(44201),o=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===n(t))}},63477:function(t,e,a){"use strict";var i=a(22615),n=a(36812),s=a(23622),o=a(69633),r=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in r||n(t,"flags")||!s(r,t)?e:i(o,t)}},90534:function(t,e,a){"use strict";var i=a(68700),n=a(34327),s=a(74684),o=RangeError;t.exports=function(t){var e=n(s(this)),a="",r=i(t);if(r<0||r===1/0)throw new o("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},77049:function(t,e,a){"use strict";var i=a(79989),n=a(21055),s=a(86431),o=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:n})},6203:function(t,e,a){"use strict";var i=a(79989),n=a(68844),s=a(94413),o=a(65290),r=a(16834),l=n([].join),c=s!==Object,u=c||!r("join",",");i({target:"Array",proto:!0,forced:u},{join:function(t){return l(o(this),void 0===t?",":t)}})},65137:function(t,e,a){"use strict";var i=a(79989),n=a(68844),s=a(10509),o=a(90690),r=a(6310),l=a(98494),c=a(34327),u=a(3689),d=a(50382),h=a(16834),p=a(97365),m=a(37298),v=a(3615),f=a(27922),g=[],y=n(g.sort),x=n(g.push),_=u((function(){g.sort(void 0)})),b=u((function(){g.sort(null)})),C=h("sort"),w=!u((function(){if(v)return v<70;if(!(p&&p>3)){if(m)return!0;if(f)return f<603;var t,e,a,i,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(i=0;i<47;i++)g.push({k:e+i,v:a})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}})),S=_||!b||!C||!w,k=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:c(e)>c(a)?1:-1}};i({target:"Array",proto:!0,forced:S},{sort:function(t){void 0!==t&&s(t);var e=o(this);if(w)return void 0===t?y(e):y(e,t);var a,i,n=[],c=r(e);for(i=0;i<c;i++)i in e&&x(n,e[i]);d(n,k(t)),a=r(n),i=0;while(i<a)e[i]=n[i++];while(i<c)l(e,i++);return e}})},62506:function(t,e,a){"use strict";var i=a(79989),n=a(90690),s=a(27578),o=a(68700),r=a(6310),l=a(5649),c=a(55565),u=a(27120),d=a(76522),h=a(98494),p=a(29042),m=p("splice"),v=Math.max,f=Math.min;i({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var a,i,p,m,g,y,x=n(this),_=r(x),b=s(t,_),C=arguments.length;for(0===C?a=i=0:1===C?(a=0,i=_-b):(a=C-2,i=f(v(o(e),0),_-b)),c(_+a-i),p=u(x,i),m=0;m<i;m++)g=b+m,g in x&&d(p,m,x[g]);if(p.length=i,a<i){for(m=b;m<_-i;m++)g=m+i,y=m+a,g in x?x[y]=x[g]:h(x,y);for(m=_;m>_-i+a;m--)h(x,m-1)}else if(a>i)for(m=_-i;m>b;m--)g=m+i-1,y=m+a-1,g in x?x[y]=x[g]:h(x,y);for(m=0;m<a;m++)x[m+b]=arguments[m+2];return l(x,_-i+a),p}})},97389:function(t,e,a){"use strict";var i=a(79989),n=a(68844),s=a(68700),o=a(23648),r=a(90534),l=a(3689),c=RangeError,u=String,d=Math.floor,h=n(r),p=n("".slice),m=n(1..toFixed),v=function(t,e,a){return 0===e?a:e%2===1?v(t,e-1,a*t):v(t*t,e/2,a)},f=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},g=function(t,e,a){var i=-1,n=a;while(++i<6)n+=e*t[i],t[i]=n%1e7,n=d(n/1e7)},y=function(t,e){var a=6,i=0;while(--a>=0)i+=t[a],t[a]=d(i/e),i=i%e*1e7},x=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var i=u(t[e]);a=""===a?i:a+h("0",7-i.length)+i}return a},_=l((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!l((function(){m({})}));i({target:"Number",proto:!0,forced:_},{toFixed:function(t){var e,a,i,n,r=o(this),l=s(t),d=[0,0,0,0,0,0],m="",_="0";if(l<0||l>20)throw new c("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return u(r);if(r<0&&(m="-",r=-r),r>1e-21)if(e=f(r*v(2,69,1))-69,a=e<0?r*v(2,-e,1):r/v(2,e,1),a*=4503599627370496,e=52-e,e>0){g(d,0,a),i=l;while(i>=7)g(d,1e7,0),i-=7;g(d,v(10,i,1),0),i=e-1;while(i>=23)y(d,1<<23),i-=23;y(d,1<<i),g(d,1,1),y(d,2),_=x(d)}else g(d,0,a),g(d,1<<-e,0),_=x(d)+h("0",l);return l>0?(n=_.length,_=m+(n<=l?"0."+h("0",l-n)+_:p(_,0,n-l)+"."+p(_,n-l))):_=m+_,_}})},52003:function(t,e,a){"use strict";var i=a(67697),n=a(19037),s=a(68844),o=a(35266),r=a(33457),l=a(75773),c=a(72741).f,u=a(23622),d=a(91245),h=a(34327),p=a(63477),m=a(87901),v=a(38055),f=a(11880),g=a(3689),y=a(36812),x=a(618).enforce,_=a(14241),b=a(44201),C=a(62100),w=a(26738),S=b("match"),k=n.RegExp,I=k.prototype,A=n.SyntaxError,L=s(I.exec),D=s("".charAt),M=s("".replace),V=s("".indexOf),O=s("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,T=/a/g,E=new k(N)!==N,q=m.MISSED_STICKY,R=m.UNSUPPORTED_Y,$=i&&(!E||q||C||w||g((function(){return T[S]=!1,k(N)!==N||k(T)===T||"/a/i"!==String(k(N,"i"))}))),B=function(t){for(var e,a=t.length,i=0,n="",s=!1;i<=a;i++)e=D(t,i),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),n+=e):n+="[\\s\\S]":n+=e+D(t,++i);return n},P=function(t){for(var e,a=t.length,i=0,n="",s=[],o={},r=!1,l=!1,c=0,u="";i<=a;i++){if(e=D(t,i),"\\"===e)e+=D(t,++i);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:L(z,O(t,i+1))&&(i+=2,l=!0),n+=e,c++;continue;case">"===e&&l:if(""===u||y(o,u))throw new A("Invalid capture group name");o[u]=!0,s[s.length]=[u,c],l=!1,u="";continue}l?u+=e:n+=e}return[n,s]};if(o("RegExp",$)){for(var G=function(t,e){var a,i,n,s,o,c,m=u(I,this),v=d(t),f=void 0===e,g=[],y=t;if(!m&&v&&f&&t.constructor===G)return t;if((v||u(I,t))&&(t=t.source,f&&(e=p(y))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),y=t,C&&"dotAll"in N&&(i=!!e&&V(e,"s")>-1,i&&(e=M(e,/s/g,""))),a=e,q&&"sticky"in N&&(n=!!e&&V(e,"y")>-1,n&&R&&(e=M(e,/y/g,""))),w&&(s=P(t),t=s[0],g=s[1]),o=r(k(t,e),m?this:I,G),(i||n||g.length)&&(c=x(o),i&&(c.dotAll=!0,c.raw=G(B(t),a)),n&&(c.sticky=!0),g.length&&(c.groups=g)),t!==y)try{l(o,"source",""===y?"(?:)":y)}catch(_){}return o},F=c(k),j=0;F.length>j;)v(G,k,F[j++]);I.constructor=G,G.prototype=I,f(n,"RegExp",G,{constructor:!0})}_("RegExp")},68518:function(t,e,a){"use strict";var i=a(67697),n=a(62100),s=a(6648),o=a(62148),r=a(618).get,l=RegExp.prototype,c=TypeError;i&&n&&o(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!r(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},13440:function(t,e,a){"use strict";var i=a(67697),n=a(87901).MISSED_STICKY,s=a(6648),o=a(62148),r=a(618).get,l=RegExp.prototype,c=TypeError;i&&n&&o(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!r(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},7409:function(t,e,a){"use strict";a(64043);var i=a(79989),n=a(22615),s=a(69985),o=a(85027),r=a(34327),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),c=/./.test;i({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=o(this),a=r(t),i=e.exec;if(!s(i))return n(c,e,a);var l=n(i,e,a);return null!==l&&(o(l),!0)}})},12826:function(t,e,a){"use strict";var i=a(41236).PROPER,n=a(11880),s=a(85027),o=a(34327),r=a(3689),l=a(63477),c="toString",u=RegExp.prototype,d=u[c],h=r((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),p=i&&d.name!==c;(h||p)&&n(RegExp.prototype,c,(function(){var t=s(this),e=o(t.source),a=o(l(t));return"/"+e+"/"+a}),{unsafe:!0})},57267:function(t,e,a){"use strict";var i=a(61735),n=a(22615),s=a(68844),o=a(65773),r=a(3689),l=a(85027),c=a(69985),u=a(981),d=a(68700),h=a(43126),p=a(34327),m=a(74684),v=a(71514),f=a(54849),g=a(27017),y=a(66100),x=a(44201),_=x("replace"),b=Math.max,C=Math.min,w=s([].concat),S=s([].push),k=s("".indexOf),I=s("".slice),A=function(t){return void 0===t?t:String(t)},L=function(){return"$0"==="a".replace(/./,"$0")}(),D=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),M=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,a){var s=D?"$":"$0";return[function(t,a){var i=m(this),s=u(t)?void 0:f(t,_);return s?n(s,t,i,a):n(e,p(i),t,a)},function(t,n){var o=l(this),r=p(t);if("string"==typeof n&&-1===k(n,s)&&-1===k(n,"$<")){var u=a(e,o,r,n);if(u.done)return u.value}var m=c(n);m||(n=p(n));var f,x=o.global;x&&(f=o.unicode,o.lastIndex=0);var _,L=[];while(1){if(_=y(o,r),null===_)break;if(S(L,_),!x)break;var D=p(_[0]);""===D&&(o.lastIndex=v(r,h(o.lastIndex),f))}for(var M="",V=0,O=0;O<L.length;O++){_=L[O];for(var z,N=p(_[0]),T=b(C(d(_.index),r.length),0),E=[],q=1;q<_.length;q++)S(E,A(_[q]));var R=_.groups;if(m){var $=w([N],E,T,r);void 0!==R&&S($,R),z=p(i(n,void 0,$))}else z=g(N,r,T,E,R,n);T>=V&&(M+=I(r,V,T)+z,V=T+N.length)}return M+I(r,V)}]}),!M||!L||D)},82054:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}a.d(e,{Z:function(){return i}})},84858:function(t,e,a){"use strict";a.d(e,{Z:function(){return l}});var i=a(82054);function n(t){if(Array.isArray(t))return(0,i.Z)(t)}a(59749),a(86544),a(60228),a(84254),a(21694),a(76265),a(77049);function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a(55642);a(21057);function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||s(t)||(0,o.Z)(t)||r()}},55642:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});a(89730),a(60228),a(12826),a(34284),a(77049),a(21694),a(64043),a(7409);var i=a(82054);function n(t,e){if(t){if("string"===typeof t)return(0,i.Z)(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,i.Z)(t,e):void 0}}}}]);