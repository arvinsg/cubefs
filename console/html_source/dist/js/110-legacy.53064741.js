"use strict";(self["webpackJsonp_cfs-console"]=self["webpackJsonp_cfs-console"]||[]).push([[110],{73586:function(t,e,n){var a,r,s,i,o,l,d,u,c,p,m,h,f,$,g,v,S,b,D,w,F,L,y,P,_,N,Z,R,x,C,k,A,q,M,I,z,T,E,O,G,B=n(2106),V=n(4969),W={queryExpandAll:(0,V.ZP)(a||(a=(0,B.Z)(["\n    query {\n      clusterView {\n        name\n        volumeCount\n      }\n      dataNodeList {\n        addr\n      }\n      metaNodeList {\n        addr\n      }\n      masterList {\n        addr\n      }\n    }\n  "]))),flashGroupList:(0,V.ZP)(r||(r=(0,B.Z)(["\n    query flashGroupList($cluster: String, $page: int32, $pageSize: int32) {\n      flashGroupList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          iD\n          status\n          flashNodeCount\n        }\n      }\n    }\n  "]))),getFlashGroup:(0,V.ZP)(s||(s=(0,B.Z)(["\n    query getFlashGroup($cluster: String, $iD: int32) {\n      getFlashGroup(cluster: $cluster, iD: $iD) {\n        host\n        zone {\n          zoneName\n          nodeNumber\n        }\n      }\n    }\n  "]))),createFlashGroup:(0,V.ZP)(i||(i=(0,B.Z)(["\n    mutation createFlashGroup($cluster: String) {\n      setPingSortFlashNode(cluster: $cluster) {\n        iD\n      }\n    }\n  "]))),updateFlashGroup:(0,V.ZP)(o||(o=(0,B.Z)(["\n    mutation updateFlashGroup(\n      $cluster: String\n      $iD: int32\n      $isActive: bool\n      $isAddNode: bool\n      $level: int\n      $addr: String\n      $zone: String\n      $count: int\n    ) {\n      updateFlashGroup(\n        cluster: $cluster\n        iD: $iD\n        isActive: $isActive\n        isAddNode: $isAddNode\n        level: $level\n        addr: $addr\n        zone: $zone\n        count: $count\n      )\n    }\n  "]))),removeFlashGroup:(0,V.ZP)(l||(l=(0,B.Z)(["\n    mutation removeFlashGroup($cluster: String, $iD: int32) {\n      removeFlashGroup(cluster: $cluster, iD: $iD)\n    }\n  "]))),masterList:(0,V.ZP)(d||(d=(0,B.Z)(["\n    query masterList($cluster: String, $page: int32, $pageSize: int32) {\n      masterList(cluster: $cluster, page: $page, pageSize: $pageSize) {\n        total\n        data {\n          addr\n          isLeader\n        }\n      }\n    }\n  "]))),metaNodeList:(0,V.ZP)(u||(u=(0,B.Z)(["\n    query metaNodeList(\n      $cluster: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaNodeList(\n        cluster: $cluster\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          used\n          usageRatio\n          partitionCount\n          reportTime\n        }\n      }\n    }\n  "]))),dataNodeList:(0,V.ZP)(c||(c=(0,B.Z)(["\n    query dataNodeList(\n      $cluster: String\n      $addr: String\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataNodeList(\n        cluster: $cluster\n        addr: $addr\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          isWritable\n          total\n          available\n          disk\n          used\n          usageRatio\n          partitionCount\n          reportTime\n        }\n      }\n    }\n  "]))),flashNodeList:(0,V.ZP)(p||(p=(0,B.Z)(["\n    query flashNodeList(\n      $cluster: String\n      $addr: String\n      $fgID: int\n      $page: int32\n      $pageSize: int32\n    ) {\n      flashNodeList(\n        cluster: $cluster\n        addr: $addr\n        fgID: $fgID\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          iD\n          addr\n          zoneName\n          isActive\n          reportTime\n          flashGroupID\n          isEnable\n          nodeLimit\n          hitRate\n          evicts\n        }\n      }\n    }\n  "]))),queryMetaList:(0,V.ZP)(m||(m=(0,B.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        metaNodes {\n          addr # serverIP\n          status # status\n          iD\n          toMetaNode {\n            zoneName # idc\n            metaPartitionCount\n            used\n            total\n            ratio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),queryDataList:(0,V.ZP)(h||(h=(0,B.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n            isActive\n          }\n        }\n      }\n    }\n  "]))),updateFlashNode:(0,V.ZP)(f||(f=(0,B.Z)(["\n    mutation updateFlashNode($cluster: String, $addr: String, $isEnable: bool) {\n      updateFlashNode(cluster: $cluster, addr: $addr, isEnable: $isEnable)\n    }\n  "]))),setPingSortFlashNode:(0,V.ZP)($||($=(0,B.Z)(["\n    mutation setPingSortFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setPingSortFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setStackReadFlashNode:(0,V.ZP)(g||(g=(0,B.Z)(["\n    mutation setStackReadFlashNode(\n      $cluster: String\n      $addr: String\n      $state: bool\n    ) {\n      setStackReadFlashNode(cluster: $cluster, addr: $addr, state: $state)\n    }\n  "]))),setTimeoutFlashNode:(0,V.ZP)(v||(v=(0,B.Z)(["\n    mutation setTimeoutFlashNode(\n      $cluster: String\n      $addr: String\n      $timeoutMs: int\n    ) {\n      setTimeoutFlashNode(cluster: $cluster, addr: $addr, timeoutMs: $timeoutMs)\n    }\n  "]))),evictCacheFlashNode:(0,V.ZP)(S||(S=(0,B.Z)(["\n    mutation evictCacheFlashNode(\n      $cluster: String\n      $addr: String\n      $level: int\n      $volume: String\n      $inode: int\n    ) {\n      evictCacheFlashNode(\n        cluster: $cluster\n        addr: $addr\n        level: $level\n        volume: $volume\n        inode: $inode\n      )\n    }\n  "]))),decommissionMetaNode:(0,V.ZP)(b||(b=(0,B.Z)(["\n    mutation decommissionMetaNode($cluster: String, $addr: String) {\n      decommissionMetaNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionFlashNode:(0,V.ZP)(D||(D=(0,B.Z)(["\n    mutation decommissionFlashNode($cluster: String, $addr: String) {\n      decommissionFlashNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataNode:(0,V.ZP)(w||(w=(0,B.Z)(["\n    mutation decommissionDataNode($cluster: String, $addr: String) {\n      decommissionDataNode(cluster: $cluster, addr: $addr) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDisk:(0,V.ZP)(F||(F=(0,B.Z)(["\n    mutation decommissionDisk(\n      $cluster: String\n      $addr: String\n      $diskPath: String\n    ) {\n      decommissionDisk(cluster: $cluster, addr: $addr, diskPath: $diskPath) {\n        code\n        message\n      }\n    }\n  "]))),decommissionMetaPartition:(0,V.ZP)(L||(L=(0,B.Z)(["\n    mutation decommissionMetaPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),decommissionDataPartition:(0,V.ZP)(y||(y=(0,B.Z)(["\n    mutation decommissionDataPartition(\n      $cluster: String\n      $addr: String\n      $volName: String\n      $destAddr: String\n      $iD: int32\n    ) {\n      decommissionDataPartition(\n        cluster: $cluster\n        addr: $addr\n        volName: $volName\n        destAddr: $destAddr\n        iD: $iD\n      ) {\n        code\n        message\n      }\n    }\n  "]))),promoteMetaLearner:(0,V.ZP)(P||(P=(0,B.Z)(["\n    mutation promoteMetaLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteMetaLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteMetaReplica:(0,V.ZP)(_||(_=(0,B.Z)(["\n    mutation deleteMetaReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteMetaReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),deleteDataReplica:(0,V.ZP)(N||(N=(0,B.Z)(["\n    mutation deleteDataReplica($cluster: String, $addr: String, $iD: int32) {\n      deleteDataReplica(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),promoteDataLearner:(0,V.ZP)(Z||(Z=(0,B.Z)(["\n    mutation promoteDataLearner($cluster: String, $addr: String, $iD: int32) {\n      promoteDataLearner(cluster: $cluster, addr: $addr, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),addMetaReplica:(0,V.ZP)(R||(R=(0,B.Z)(["\n    mutation addMetaReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n    ) {\n      addMetaReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataReplica:(0,V.ZP)(x||(x=(0,B.Z)(["\n    mutation addDataReplica(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $replicaType: int32\n    ) {\n      addDataReplica(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        replicaType: $replicaType\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addMetaLearner:(0,V.ZP)(C||(C=(0,B.Z)(["\n    mutation addMetaLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addMetaLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),addDataLearner:(0,V.ZP)(k||(k=(0,B.Z)(["\n    mutation addDataLearner(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $storeMode: int32\n      $autoPromote: bool\n      $threshold: int32\n    ) {\n      addDataLearner(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        storeMode: $storeMode\n        autoPromote: $autoPromote\n        threshold: $threshold\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadMetaPartition:(0,V.ZP)(A||(A=(0,B.Z)(["\n    mutation reloadMetaPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadMetaPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),reloadDataPartition:(0,V.ZP)(q||(q=(0,B.Z)(["\n    mutation reloadDataPartition(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $volName: String\n    ) {\n      reloadDataPartition(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        volName: $volName\n      ) {\n        code\n        message\n      }\n    }\n  "]))),resetMetaPartition:(0,V.ZP)(M||(M=(0,B.Z)(["\n    mutation resetMetaPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetMetaPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),resetDataPartition:(0,V.ZP)(I||(I=(0,B.Z)(["\n    mutation resetDataPartition($cluster: String, $addrs: String, $iD: int32) {\n      resetDataPartition(cluster: $cluster, addrs: $addrs, iD: $iD) {\n        code\n        message\n      }\n    }\n  "]))),dataPartitionList:(0,V.ZP)(z||(z=(0,B.Z)(["\n    query dataPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      dataPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            zone\n            isLeader\n            isLearner\n            fileCount\n            total\n            needCompare\n            used\n            mType\n            diskPath\n          }\n          volName\n          extentCount\n          inodeCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),metaPartitionList:(0,V.ZP)(T||(T=(0,B.Z)(["\n    query metaPartitionList(\n      $cluster: String\n      $addr: String\n      $iD: int32\n      $page: int32\n      $pageSize: int32\n    ) {\n      metaPartitionList(\n        cluster: $cluster\n        addr: $addr\n        iD: $iD\n        page: $page\n        pageSize: $pageSize\n      ) {\n        total\n        data {\n          partitionID\n          replicas {\n            addr\n            status\n            isLeader\n            isLearner\n            storeMode\n            isRecover\n            applyId\n            reportTime\n          }\n          volName\n          start\n          end\n          inodeCount\n          dentryCount\n          maxExistIno\n          status\n          isRecover\n          createTime\n          lastLoadTime\n        }\n      }\n    }\n  "]))),dataNodeGet:(0,V.ZP)(E||(E=(0,B.Z)(["\n    query DataNodeGet($cluster: String, $addr: String) {\n      dataNodeGet(cluster: $cluster, addr: $addr) {\n        dataPartitionReports {\n          diskPath\n          extentCount\n          isLeader\n          needCompare\n          partitionID\n          partitionStatus\n          total\n          used\n          volName\n        }\n      }\n    }\n  "]))),metaNodeGet:(0,V.ZP)(O||(O=(0,B.Z)(["\n    query MetaNodeGet($cluster: String, $addr: String) {\n      metaNodeGet(cluster: $cluster, addr: $addr) {\n        metaPartitionInfos {\n          end\n          isLeader\n          maxInodeID\n          partitionID\n          start\n          status\n          volName\n        }\n      }\n    }\n  "]))),queryServerList:(0,V.ZP)(G||(G=(0,B.Z)(["\n    query {\n      clusterView {\n        name #cluster\n        dataNodes {\n          addr # serverIP\n          status # status\n          iD\n          toDataNode {\n            zoneName # idc\n            dataPartitionCount\n            used\n            total\n            usageRatio\n            reportTime\n          }\n        }\n      }\n    }\n  "])))};e.Z=W},85353:function(t,e,n){n.d(e,{BU:function(){return o},LR:function(){return l},Ox:function(){return a},mr:function(){return r}});n(52003),n(68518),n(64043),n(13440),n(12826),n(57267),n(97389);function a(){if(0===arguments.length)return null;for(var t=arguments[0],e=1;e<arguments.length;e++){var n=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(n,arguments[e])}return t}function r(t,e){if(0===t)return"0 ns";if(t>6e7){var n=["min","h"],a=6e7,r=parseInt(t/a),s=r>60?1:0;return e?r+" "+n[s]:r}var i=["ns","μs","ms","s"],o=1e3,l=Math.floor(Math.log(t)/Math.log(o)),d=parseInt(t/Math.pow(o,l));return e?d+" "+i[l]:d}var s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=["iB","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];function o(t,e){if(0===t)return"0 Bytes";var n=2===e?i:s,a=2===e?1024:1e3,r=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,r)).toFixed(3))+" "+n[r]}function l(t){return 1==t?"ReadOnly":2==t?"ReadWrite":"Unavailable"}},45999:function(t,e,n){n.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:"添加副本",visible:t.showAddSplit,width:"40%"},on:{"update:visible":function(e){t.showAddSplit=e}}},[e("el-form",{ref:"addForm",staticClass:"normalForm",attrs:{model:t.addForm,rules:t.addRules}},[e("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[e("span",[t._v(t._s(t.addForm.iD))])]),t._v(" "),e("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[e("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.addForm.addr,callback:function(e){t.$set(t.addForm,"addr",e)},expression:"addForm.addr"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"副本类型：","label-width":"80px"}},[e("el-radio-group",{model:{value:t.addForm.replicaType,callback:function(e){t.$set(t.addForm,"replicaType",e)},expression:"addForm.replicaType"}},[e("el-radio",{attrs:{label:0}},[t._v("default")]),t._v(" "),e("el-radio",{attrs:{label:1}},[t._v("autoChooseAddrForQuorumVol")])],1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleAdd()}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.validAdd()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"分片下线",visible:t.showSplitOff,width:"40%"},on:{"update:visible":function(e){t.showSplitOff=e}}},[e("el-form",{ref:"splitForm",staticClass:"normalForm",attrs:{model:t.splitForm,rules:t.splitRules}},[e("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[e("span",[t._v(t._s(t.splitForm.iD))])]),t._v(" "),e("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.splitForm.addr,callback:function(e){t.$set(t.splitForm,"addr",e)},expression:"splitForm.addr"}},t._l(t.info.addrList,(function(t){return e("el-option",{key:t.addr,attrs:{label:t.addr,value:t.addr}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"目标地址：",prop:"destAddr","label-width":"80px"}},[e("el-input",{staticStyle:{width:"205px"},attrs:{placeholder:"请输入目标地址"},model:{value:t.splitForm.destAddr,callback:function(e){t.$set(t.splitForm,"destAddr",e)},expression:"splitForm.destAddr"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleOffSplit()}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.validSplit()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"重置分片",visible:t.showSplitReset,width:"40%"},on:{"update:visible":function(e){t.showSplitReset=e}}},[e("el-form",{ref:"resetForm",staticClass:"normalForm",attrs:{model:t.resetForm,rules:t.resetRules}},[e("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[e("span",[t._v(t._s(t.resetForm.iD))])]),t._v(" "),e("el-form-item",{attrs:{label:"地址：",prop:"addrs","label-width":"80px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.resetForm.addrs,callback:function(e){t.$set(t.resetForm,"addrs",e)},expression:"resetForm.addrs"}},t._l(t.info.addrList,(function(t){return e("el-option",{key:t.addr,attrs:{label:t.addr,value:t.addr}})})),1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleReset()}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.resetLoad},on:{click:function(e){return t.doResetValid()}}},[t._v("确定")])],1)],1),t._v(" "),e("password",{ref:"password",on:{doSubmit:t.validPassWord}})],1)},r=[],s=(n(79288),n(78985)),i=n(73586),o={name:"nodeFunction",components:{password:s.Z},props:{row:{type:Object},type:{type:String,default:""}},data:function(){return{resetLoad:!1,showAddSplit:!1,addForm:{iD:void 0,addr:void 0,replicaType:0},addRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},showSplitReset:!1,resetForm:{iD:void 0,addrs:void 0},resetRules:{},showSplitOff:!1,splitForm:{iD:void 0,addr:void 0,volName:void 0,destAddr:void 0},splitRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},info:{addrList:[],diskList:[],addr:void 0}}},methods:{addSplit:function(){var t=this;this.$nextTick((function(){t.addForm.iD=t.row.iD})),this.showAddSplit=!0},cancleAdd:function(){this.$refs.addForm.resetFields(),this.showAddSplit=!1},validAdd:function(){var t=this;this.$refs.addForm.validate((function(e){e&&t.$refs["password"].showPassWord()}))},submitAdd:function(){var t=this,e=Object.assign(this.addForm,{cluster:this.$route.query.clusterName});this.$refs.addForm.validate((function(n){n&&t.apollo.mutation(t.url.consoleCluster,i.Z.addDataReplica,e).then((function(e){200===e.code?(t.$message.success("操作成功！"),t.showAddSplit=!1,t.showFollows=!1):t.$message.error(e)}))}))},validSplit:function(){var t=this;this.$refs.splitForm.validate((function(e){e&&t.$refs["password"].showPassWord()}))},cancleOffSplit:function(){this.$refs.splitForm.resetFields(),this.showSplitOff=!1},offSplit:function(t){var e=this;this.showSplitOff=!0,this.$nextTick((function(){e.info.addrList=e.row.replicas,e.splitForm.iD=Number(e.row.partitionID),e.splitForm.volName=e.row.volName}))},showReset:function(){var t=this;this.showSplitReset=!0,this.$nextTick((function(){t.info.addrList=t.row.replicas,t.resetForm.iD=Number(t.row.partitionID)}))},cancleReset:function(){this.$refs.resetForm.resetFields(),this.showSplitReset=!1},validPassWord:function(){"reset"==this.type&&this.doReset(),"off"==this.type&&this.doOffSplit(),"add"==this.type&&this.submitAdd()},doOffSplit:function(){var t=this,e=Object.assign(this.splitForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,i.Z.decommissionDataPartition,e).then((function(e){e.data?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showSplitOff=!1):t.$message.error(e)}))},doReset:function(){var t=this;this.resetLoad=!0;var e=Object.assign(this.resetForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,i.Z.resetDataPartition,e).then((function(e){200===e.code?(t.$message.success("操作成功！"),t.showSplitReset=!1,t.$emit("refresh")):t.$message.error(e),t.resetLoad=!1}))},doResetValid:function(){this.$refs["password"].showPassWord()}},mounted:function(){}},l=o,d=n(1001),u=(0,d.Z)(l,a,r,!1,null,null,null),c=u.exports},30110:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"alarm"},[e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{float:"left","padding-top":"1px"}},[e("crumb",{attrs:{crumbItem:t.crumbItem,crumbInfo:t.addr}})],1),t._v(" "),e("div",{staticClass:"fr mb20"},[e("el-input",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入分片ID"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),t._v(" "),e("el-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:t.queryList}},[t._v(t._s(t.$t("chubaoFS.tools.Search")))])],1),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.resData.loading,expression:"resData.loading"}],staticClass:"data-block"},[e("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:t.resData.resLists}},[e("el-table-column",{attrs:{prop:"partitionID",label:"分片ID",width:"65"}}),t._v(" "),e("el-table-column",{attrs:{prop:"replicas",label:"副本数"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v("\n              "+t._s(n.row.replicas.length)+"\n            ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"volName",label:"卷名"}}),t._v(" "),e("el-table-column",{attrs:{prop:"extentCount",label:"extent数"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t._v(" "),e("el-table-column",{attrs:{prop:"lastLoadTime",label:"最近加载"}}),t._v(" "),e("el-table-column",{attrs:{prop:"action",label:"操作",width:"180",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(n){return e("span",{staticClass:"active"},[e("span",{staticClass:"active",on:{click:function(e){return t.follows(n.row)}}},[t._v("副本")]),t._v("\n            ｜\n            "),e("span",{staticClass:"active",on:{click:function(e){return t.offSplit(n.row)}}},[t._v("下线")]),t._v("\n            ｜\n            "),e("span",{staticClass:"active",on:{click:function(e){return t.splitLoad(n.row)}}},[t._v("加载")]),t._v("\n            ｜\n            "),e("span",{staticClass:"active",on:{click:function(e){return t.showReset(n.row)}}},[t._v("重置")])])}}])})],1),t._v(" "),e("div",{staticClass:"clearfix mt20"},[e("el-pagination",{staticClass:"fr",attrs:{"page-sizes":t.resData.page.pageSizes,"page-size":t.resData.page.pageSize,layout:"sizes, prev, pager, next",total:t.resData.page.totalRecord},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),e("span",{staticClass:"fr page-tips pr10"},[t._v(t._s(t.$t("chubaoFS.commonTxt.eachPageShows")))])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"分片加载",visible:t.showSplitLoad,width:"40%"},on:{"update:visible":function(e){t.showSplitLoad=e}}},[e("el-form",{ref:"loadForm",staticClass:"normalForm",attrs:{model:t.loadForm,rules:t.loadRules}},[e("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[e("span",[t._v(t._s(t.loadForm.iD))])]),t._v(" "),e("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.loadForm.addr,callback:function(e){t.$set(t.loadForm,"addr",e)},expression:"loadForm.addr"}},t._l(t.info.addrList,(function(t){return e("el-option",{key:t.addr,attrs:{label:t.addr,value:t.addr}})})),1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleLoad()}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.doLoad()}}},[t._v("确定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"副本",visible:t.showFollows,width:"80%"},on:{"update:visible":function(e){t.showFollows=e}}},[e("div",{staticClass:"right pb20"},[e("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.addSplit()}}},[t._v("添加副本")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addLearner()}}},[t._v("添加Leaner")])],1),t._v(" "),e("el-table",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{data:t.followList}},[e("el-table-column",{attrs:{prop:"addr",label:"地址"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),e("el-table-column",{attrs:{prop:"zone",label:"zone"}}),t._v(" "),e("el-table-column",{attrs:{prop:"isLeader",label:"isLeader"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.row.isLeader))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"isLearner",label:"isLearner"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.row.isLearner))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"fileCount",label:"文件数"}}),t._v(" "),e("el-table-column",{attrs:{prop:"total",label:"总量"}}),t._v(" "),e("el-table-column",{attrs:{prop:"used",label:"使用量"}}),t._v(" "),e("el-table-column",{attrs:{prop:"needCompare",label:"需对比"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.row.needCompare))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"mType",label:"介质类型"}}),t._v(" "),e("el-table-column",{attrs:{prop:"diskPath",label:"disk"}}),t._v(" "),e("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(n){return e("span",{staticClass:"active"},[e("span",{staticClass:"active",on:{click:function(e){return t.delFollow(n.row)}}},[t._v("删除副本")]),t._v("\n            ｜\n            "),e("span",{staticClass:"active",on:{click:function(e){return t.upradeLearner(n.row)}}},[t._v("提升learner")])])}}])})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleFollow()}}},[t._v("关闭")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"添加Learner",visible:t.showAddLearner,width:"40%"},on:{"update:visible":function(e){t.showAddLearner=e}}},[e("el-form",{ref:"addLearnerForm",staticClass:"normalForm",attrs:{model:t.addLearnerForm,rules:t.learnerRules}},[e("el-form-item",{attrs:{label:"分片ID：",prop:"iD","label-width":"80px"}},[e("span",[t._v(t._s(t.addLearnerForm.iD))])]),t._v(" "),e("el-form-item",{attrs:{label:"地址：",required:"",prop:"addr","label-width":"80px"}},[e("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.addLearnerForm.addr,callback:function(e){t.$set(t.addLearnerForm,"addr",e)},expression:"addLearnerForm.addr"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"自动提升：",prop:"autoPromote","label-width":"80px"}},[e("el-switch",{model:{value:t.addLearnerForm.autoPromote,callback:function(e){t.$set(t.addLearnerForm,"autoPromote",e)},expression:"addLearnerForm.autoPromote"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"阈值：",prop:"threshold","label-width":"80px"}},[e("el-input-number",{attrs:{placeholder:"请输入阈值",min:0,max:100},model:{value:t.addLearnerForm.threshold,callback:function(e){t.$set(t.addLearnerForm,"threshold",e)},expression:"addLearnerForm.threshold"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.cancleAddLearner()}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitAddLearner()}}},[t._v("确定")])],1)],1)],1),t._v(" "),e("password",{ref:"password",on:{doSubmit:t.validPassWord}}),t._v(" "),e("node-function",{ref:"nodeFunction",attrs:{row:t.row,type:t.type},on:{refresh:t.queryList}})],1)},r=[],s=(n(79288),n(70560),n(73586)),i=(n(85353),n(78985)),o=n(45999),l={name:"nodeSplit",components:{password:i.Z,nodeFunction:o.Z},data:function(){return{type:"",row:{},crumbItem:[],showAddLearner:!1,addLearnerForm:{iD:void 0,addr:void 0,autoPromote:!1,threshold:90},learnerRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},showAddSplit:!1,addForm:{iD:void 0,addr:void 0,replicaType:0},addRules:{addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},addr:"",partitionID:null,showFollows:!1,followList:[],showSplitReset:!1,resetForm:{iD:void 0,addrs:void 0},resetRules:{},showSplitLoad:!1,loadForm:{iD:void 0,addr:void 0,volName:void 0},loadRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},showSplitOff:!1,splitForm:{iD:void 0,addr:void 0,volName:void 0,destAddr:void 0},splitRules:{addr:[{required:!0,message:"请选择地址",trigger:"blur"}]},info:{addrList:[],diskList:[],addr:void 0},rules:{},resData:{loading:!0,page:{pageSizes:[10,20,30,40],pageNo:1,pageSize:10,totalRecord:0,totalPage:1},resLists:[]},searchVal:null}},methods:{submitAddLearner:function(){var t=this,e=Object.assign(this.addLearnerForm,{cluster:this.$route.query.clusterName});this.$refs.addLearnerForm.validate((function(n){n&&t.apollo.mutation(t.url.consoleCluster,s.Z.addDataLearner,e).then((function(e){0===e.data.addDataLearner.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showAddLearner=!1,t.showFollows=!1,t.queryList()):t.$message.error(t.$t("chubaoFS.message.Error"))}))}))},addLearner:function(){this.addLearnerForm.iD=this.partitionID,this.showAddLearner=!0},cancleAddLearner:function(){this.$refs.form.resetFields(),this.showAddLearner=!1},addSplit:function(){this.type="add",this.row={iD:this.partitionID},this.$refs.nodeFunction.addSplit()},cancleAdd:function(){this.$refs.form.resetFields(),this.showAddSplit=!1},submitAdd:function(){var t=this,e=Object.assign(this.addForm,{cluster:this.$route.query.clusterName});this.$refs.addForm.validate((function(n){n&&t.apollo.mutation(t.url.consoleCluster,s.Z.addDataReplica,e).then((function(e){0===e.data.addDataReplica.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showAddSplit=!1,t.showFollows=!1,t.queryList()):t.$message.error(t.$t("chubaoFS.message.Error"))}))}))},delFollow:function(t){this.row=t,this.$refs["password"].showPassWord()},doDelFollow:function(){var t=this,e={iD:this.partitionID,addr:this.row.addr,cluster:this.$route.query.clusterName};this.apollo.mutation(this.url.consoleCluster,s.Z.deleteDataReplica,e).then((function(e){0===e.data.deleteDataReplica.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showFollows=!1,t.queryList()):t.$message.error(e.data.deleteDataReplica.message)}))},upradeLearner:function(t){var e=this,n={iD:this.partitionID,addr:t.addr,cluster:this.$route.query.clusterName};this.$confirm("确定提升Learner?","提升Learner",{confirmButtonText:this.$t("chubaoFS.tools.Yes"),cancelButtonText:this.$t("chubaoFS.tools.No"),type:"warning"}).then((function(){e.apollo.mutation(e.url.consoleCluster,s.Z.promoteDataLearner,n).then((function(t){0===t.data.promoteDataLearner.code?(e.$message({message:e.$t("chubaoFS.message.Success"),type:"success"}),e.showFollows=!1,e.queryList()):e.$message.error(e.$t("chubaoFS.message.Error"))}))})).catch((function(){}))},follows:function(t){this.partitionID=t.partitionID,this.showFollows=!0,this.followList=t.replicas},cancleFollow:function(){this.showFollows=!1},offSplit:function(t){this.type="off",this.row=t,this.$refs.nodeFunction.offSplit()},validPassWord:function(){var t=this;if(this.showFollows)this.doDelFollow();else{var e=Object.assign(this.splitForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,s.Z.decommissionDataPartition,e).then((function(e){e.data?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showSplitOff=!1,t.queryList()):t.$message.error(e)}))}},doOffSplit:function(){var t=this;this.$refs.splitForm.validate((function(e){e&&t.$refs["password"].showPassWord()}))},cancleOffSplit:function(){this.$refs.form.resetFields(),this.showSplitOff=!1},doLoad:function(){var t=this;this.$refs.loadForm.validate((function(e){if(e){var n=Object.assign(t.loadForm,{cluster:t.$route.query.clusterName});t.apollo.mutation(t.url.consoleCluster,s.Z.reloadDataPartition,n).then((function(e){0===e.data.reloadDataPartition.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showSplitLoad=!1,t.queryList()):t.$message.error(t.$t("chubaoFS.message.Error"))}))}}))},splitLoad:function(t){this.showSplitLoad=!0,this.info.addrList=t.replicas,this.loadForm.iD=Number(t.partitionID),this.loadForm.volName=t.volName},cancleLoad:function(){this.$refs.form.resetFields(),this.showSplitLoad=!1},showReset:function(t){this.type="reset",this.row=t,this.$refs.nodeFunction.showReset()},cancleReset:function(){this.$refs.form.resetFields(),this.showSplitReset=!1},doReset:function(){var t=this,e=Object.assign(this.resetForm,{cluster:this.$route.query.clusterName});this.apollo.mutation(this.url.consoleCluster,s.Z.resetDataPartition,e).then((function(e){0===e.data.resetDataPartition.code?(t.$message({message:t.$t("chubaoFS.message.Success"),type:"success"}),t.showSplitReset=!1,t.queryList()):t.$message.error(t.$t("chubaoFS.message.Error"))}))},handleSizeChange:function(t){this.page.pageSize=t,this.queryList()},handleCurrentChange:function(t){this.page.pageNo=t,this.queryList()},queryList:function(){var t=this;this.resData.loading=!0;var e={iD:this.searchVal&&""!=this.searchVal?Number(this.searchVal):null,addr:this.addr,page:this.resData.page.pageNo,pageSize:this.resData.page.pageSize,cluster:this.$route.query.clusterName};this.apollo.query(this.url.consoleCluster,s.Z.dataPartitionList,e).then((function(e){if(t.resData.loading=!1,e&&e.data){var n=e.data.dataPartitionList;t.resData.resLists=n.data||[],t.resData.page.totalRecord=n.total}})).catch((function(e){t.resData.loading=!1,t.resData.list=[],console.log(e)}))}},mounted:function(){var t=this.$route.query;this.addr=t.addr,this.queryList();var e={path:"/cluster/serverList",query:{type:"Datanode"},title:"集群拓扑"};this.crumbItem.push(e)}},d=l,u=n(1001),c=(0,u.Z)(d,a,r,!1,null,"311a6dec",null),p=c.exports},27017:function(t,e,n){var a=n(68844),r=n(90690),s=Math.floor,i=a("".charAt),o=a("".replace),l=a("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,a,c,p){var m=n+t.length,h=a.length,f=u;return void 0!==c&&(c=r(c),f=d),o(p,f,(function(r,o){var d;switch(i(o,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,m);case"<":d=c[l(o,1,-1)];break;default:var u=+o;if(0===u)return r;if(u>h){var p=s(u/10);return 0===p?r:p<=h?void 0===a[p-1]?i(o,1):a[p-1]+i(o,1):r}d=a[u-1]}return void 0===d?"":d}))}},91245:function(t,e,n){var a=n(48999),r=n(6648),s=n(44201),i=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"===r(t))}},63477:function(t,e,n){var a=n(22615),r=n(36812),s=n(23622),i=n(69633),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in o||r(t,"flags")||!s(o,t)?e:a(i,t)}},90534:function(t,e,n){var a=n(68700),r=n(34327),s=n(74684),i=RangeError;t.exports=function(t){var e=r(s(this)),n="",o=a(t);if(o<0||o===1/0)throw new i("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},97389:function(t,e,n){var a=n(79989),r=n(68844),s=n(68700),i=n(23648),o=n(90534),l=n(3689),d=RangeError,u=String,c=Math.floor,p=r(o),m=r("".slice),h=r(1..toFixed),f=function(t,e,n){return 0===e?n:e%2===1?f(t,e-1,n*t):f(t*t,e/2,n)},$=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},g=function(t,e,n){var a=-1,r=n;while(++a<6)r+=e*t[a],t[a]=r%1e7,r=c(r/1e7)},v=function(t,e){var n=6,a=0;while(--n>=0)a+=t[n],t[n]=c(a/e),a=a%e*1e7},S=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var a=u(t[e]);n=""===n?a:n+p("0",7-a.length)+a}return n},b=l((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!l((function(){h({})}));a({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,n,a,r,o=i(this),l=s(t),c=[0,0,0,0,0,0],h="",b="0";if(l<0||l>20)throw new d("Incorrect fraction digits");if(o!==o)return"NaN";if(o<=-1e21||o>=1e21)return u(o);if(o<0&&(h="-",o=-o),o>1e-21)if(e=$(o*f(2,69,1))-69,n=e<0?o*f(2,-e,1):o/f(2,e,1),n*=4503599627370496,e=52-e,e>0){g(c,0,n),a=l;while(a>=7)g(c,1e7,0),a-=7;g(c,f(10,a,1),0),a=e-1;while(a>=23)v(c,1<<23),a-=23;v(c,1<<a),g(c,1,1),v(c,2),b=S(c)}else g(c,0,n),g(c,1<<-e,0),b=S(c)+p("0",l);return l>0?(r=b.length,b=h+(r<=l?"0."+p("0",l-r)+b:m(b,0,r-l)+"."+m(b,r-l))):b=h+b,b}})},52003:function(t,e,n){var a=n(67697),r=n(19037),s=n(68844),i=n(35266),o=n(33457),l=n(75773),d=n(72741).f,u=n(23622),c=n(91245),p=n(34327),m=n(63477),h=n(87901),f=n(38055),$=n(11880),g=n(3689),v=n(36812),S=n(618).enforce,b=n(14241),D=n(44201),w=n(62100),F=n(26738),L=D("match"),y=r.RegExp,P=y.prototype,_=r.SyntaxError,N=s(P.exec),Z=s("".charAt),R=s("".replace),x=s("".indexOf),C=s("".slice),k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,A=/a/g,q=/a/g,M=new y(A)!==A,I=h.MISSED_STICKY,z=h.UNSUPPORTED_Y,T=a&&(!M||I||w||F||g((function(){return q[L]=!1,y(A)!==A||y(q)===q||"/a/i"!==String(y(A,"i"))}))),E=function(t){for(var e,n=t.length,a=0,r="",s=!1;a<=n;a++)e=Z(t,a),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),r+=e):r+="[\\s\\S]":r+=e+Z(t,++a);return r},O=function(t){for(var e,n=t.length,a=0,r="",s=[],i={},o=!1,l=!1,d=0,u="";a<=n;a++){if(e=Z(t,a),"\\"===e)e+=Z(t,++a);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:N(k,C(t,a+1))&&(a+=2,l=!0),r+=e,d++;continue;case">"===e&&l:if(""===u||v(i,u))throw new _("Invalid capture group name");i[u]=!0,s[s.length]=[u,d],l=!1,u="";continue}l?u+=e:r+=e}return[r,s]};if(i("RegExp",T)){for(var G=function(t,e){var n,a,r,s,i,d,h=u(P,this),f=c(t),$=void 0===e,g=[],v=t;if(!h&&f&&$&&t.constructor===G)return t;if((f||u(P,t))&&(t=t.source,$&&(e=m(v))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),v=t,w&&"dotAll"in A&&(a=!!e&&x(e,"s")>-1,a&&(e=R(e,/s/g,""))),n=e,I&&"sticky"in A&&(r=!!e&&x(e,"y")>-1,r&&z&&(e=R(e,/y/g,""))),F&&(s=O(t),t=s[0],g=s[1]),i=o(y(t,e),h?this:P,G),(a||r||g.length)&&(d=S(i),a&&(d.dotAll=!0,d.raw=G(E(t),n)),r&&(d.sticky=!0),g.length&&(d.groups=g)),t!==v)try{l(i,"source",""===v?"(?:)":v)}catch(b){}return i},B=d(y),V=0;B.length>V;)f(G,y,B[V++]);P.constructor=G,G.prototype=P,$(r,"RegExp",G,{constructor:!0})}b("RegExp")},68518:function(t,e,n){var a=n(67697),r=n(62100),s=n(6648),i=n(62148),o=n(618).get,l=RegExp.prototype,d=TypeError;a&&r&&i(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!o(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},13440:function(t,e,n){var a=n(67697),r=n(87901).MISSED_STICKY,s=n(6648),i=n(62148),o=n(618).get,l=RegExp.prototype,d=TypeError;a&&r&&i(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!o(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},12826:function(t,e,n){var a=n(41236).PROPER,r=n(11880),s=n(85027),i=n(34327),o=n(3689),l=n(63477),d="toString",u=RegExp.prototype,c=u[d],p=o((function(){return"/a/b"!==c.call({source:"a",flags:"b"})})),m=a&&c.name!==d;(p||m)&&r(RegExp.prototype,d,(function(){var t=s(this),e=i(t.source),n=i(l(t));return"/"+e+"/"+n}),{unsafe:!0})},57267:function(t,e,n){var a=n(61735),r=n(22615),s=n(68844),i=n(65773),o=n(3689),l=n(85027),d=n(69985),u=n(981),c=n(68700),p=n(43126),m=n(34327),h=n(74684),f=n(71514),$=n(54849),g=n(27017),v=n(66100),S=n(44201),b=S("replace"),D=Math.max,w=Math.min,F=s([].concat),L=s([].push),y=s("".indexOf),P=s("".slice),_=function(t){return void 0===t?t:String(t)},N=function(){return"$0"==="a".replace(/./,"$0")}(),Z=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),R=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));i("replace",(function(t,e,n){var s=Z?"$":"$0";return[function(t,n){var a=h(this),s=u(t)?void 0:$(t,b);return s?r(s,t,a,n):r(e,m(a),t,n)},function(t,r){var i=l(this),o=m(t);if("string"==typeof r&&-1===y(r,s)&&-1===y(r,"$<")){var u=n(e,i,o,r);if(u.done)return u.value}var h=d(r);h||(r=m(r));var $,S=i.global;S&&($=i.unicode,i.lastIndex=0);var b,N=[];while(1){if(b=v(i,o),null===b)break;if(L(N,b),!S)break;var Z=m(b[0]);""===Z&&(i.lastIndex=f(o,p(i.lastIndex),$))}for(var R="",x=0,C=0;C<N.length;C++){b=N[C];for(var k,A=m(b[0]),q=D(w(c(b.index),o.length),0),M=[],I=1;I<b.length;I++)L(M,_(b[I]));var z=b.groups;if(h){var T=F([A],M,q,o);void 0!==z&&L(T,z),k=m(a(r,void 0,T))}else k=g(A,o,q,M,z,r);q>=x&&(R+=P(o,x,q)+k,x=q+A.length)}return R+P(o,x)}]}),!R||!N||Z)}}]);